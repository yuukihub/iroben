{
  "version": 3,
  "sources": ["../../onsenui/esm/ons/platform.js", "../../onsenui/esm/polyfills/polyfill-switches.js", "../../onsenui/esm/polyfills/custom-elements/src/AlreadyConstructedMarker.js", "../../onsenui/esm/polyfills/custom-elements/src/Utilities.js", "../../onsenui/esm/polyfills/custom-elements/src/CustomElementInternals.js", "../../onsenui/esm/polyfills/custom-elements/src/CustomElementState.js", "../../onsenui/esm/polyfills/custom-elements/src/DocumentConstructionObserver.js", "../../onsenui/esm/polyfills/custom-elements/src/Deferred.js", "../../onsenui/esm/polyfills/custom-elements/src/CustomElementRegistry.js", "../../onsenui/esm/polyfills/custom-elements/src/Patch/Native.js", "../../onsenui/esm/polyfills/custom-elements/src/Patch/HTMLElement.js", "../../onsenui/esm/polyfills/custom-elements/src/custom-elements.js", "../../onsenui/esm/polyfills/custom-elements/src/Patch/Interface/ParentNode.js", "../../onsenui/esm/polyfills/custom-elements/src/Patch/Document.js", "../../onsenui/esm/polyfills/custom-elements/src/Patch/Node.js", "../../onsenui/esm/polyfills/custom-elements/src/Patch/Interface/ChildNode.js", "../../onsenui/esm/polyfills/custom-elements/src/Patch/Element.js", "../../onsenui/esm/polyfills/MutationObserver@0.7.22/MutationObserver.js", "../../onsenui/esm/polyfills/setImmediate@1.0.2+mod/setImmediate.js", "../../onsenui/esm/vendor/viewport.js", "../../onsenui/esm/ons/microevent.js", "../../onsenui/esm/ons/elements.js", "../../onsenui/esm/ons/styler.js", "../../onsenui/esm/ons/autostyle.js", "../../onsenui/esm/ons/internal/modifier-util.js", "../../onsenui/esm/ons/animation-options-parser.js", "../../onsenui/esm/ons/util.js", "../../onsenui/esm/ons/page-attribute-expression.js", "../../onsenui/esm/ons/internal/internal.js", "../../onsenui/esm/ons/internal/animator-factory.js", "../../onsenui/esm/ons/internal/device-back-button-dispatcher.js", "../../onsenui/esm/ons/internal/index.js", "../../onsenui/esm/setup.js", "../../onsenui/esm/ons/animit.js", "../../onsenui/esm/ons/gesture-detector.js", "../../onsenui/esm/ons/content-ready.js", "../../onsenui/esm/ons/internal/toast-queue.js", "../../onsenui/esm/ons/notification.js", "../../onsenui/esm/ons/action-sheet.js", "../../onsenui/esm/ons/orientation.js", "../../onsenui/esm/ons/modifier.js", "../../onsenui/esm/ons/software-keyboard.js", "../../onsenui/esm/ons/doorlock.js", "../../onsenui/esm/ons/page-loader.js", "../../onsenui/esm/ons/index.js", "../../onsenui/esm/index.js"],
  "sourcesContent": ["/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\n// Save HTMLElement object before Custom Elements polyfill patch global HTMLElement.\nconst NativeHTMLElement = window.HTMLElement;\n\n/**\n * @object ons.platform\n * @category util\n * @description\n *   [en]Utility methods to detect current platform.[/en]\n *   [ja]現在実行されているプラットフォームを検知するためのユーティリティメソッドを収めたオブジェクトです。[/ja]\n */\nclass Platform {\n\n  /**\n   * All elements will be rendered as if the app was running on this platform.\n   * @type {String}\n   */\n  constructor() {\n    this._selectedPlatform = null;\n    this._ignorePlatformSelect = false;\n  }\n\n  /**\n   * @method select\n   * @signature select(platform)\n   * @param  {string} platform Name of the platform.\n   *   [en]Possible values are: \"opera\", \"firefox\", \"safari\", \"chrome\", \"ie\", \"android\", \"blackberry\", \"ios\" or \"wp\".[/en]\n   *   [ja]\"opera\", \"firefox\", \"safari\", \"chrome\", \"ie\", \"android\", \"blackberry\", \"ios\", \"wp\"のいずれかを指定します。[/ja]\n   * @description\n   *   [en]Sets the platform used to render the elements. Useful for testing.[/en]\n   *   [ja]要素を描画するために利用するプラットフォーム名を設定します。テストに便利です。[/ja]\n   */\n  select(platform) {\n    if (typeof platform === 'string') {\n      this._selectedPlatform = platform.trim().toLowerCase();\n    }\n  }\n\n  _getSelectedPlatform() {\n    return this._ignorePlatformSelect ? null : this._selectedPlatform;\n  }\n\n  _runOnActualPlatform(fn) {\n    this._ignorePlatformSelect = true;\n    const result = fn();\n    this._ignorePlatformSelect = false;\n\n    return result;\n  }\n\n  //----------------\n  // General\n  //----------------\n  /**\n   * @method isWebView\n   * @signature isWebView()\n   * @description\n   *   [en]Returns whether app is running in Cordova.[/en]\n   *   [ja]Cordova内で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isWebView() {\n    if (document.readyState === 'loading' || document.readyState == 'uninitialized') {\n      throw new Error('isWebView() method is available after dom contents loaded.');\n    }\n\n    return !!(window.cordova || window.phonegap || window.PhoneGap);\n  }\n\n  //----------------\n  // iOS devices\n  //----------------\n  /**\n   * @method isIPhone\n   * @signature isIPhone()\n   * @description\n   *   [en]Returns whether the device is iPhone.[/en]\n   *   [ja]iPhone上で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isIPhone() {\n    return /iPhone/i.test(navigator.userAgent);\n  }\n\n  /**\n   * @method isIPhoneX\n   * @signature isIPhoneX()\n   * @description\n   *   [en]Returns whether the device is iPhone X, XS, XS Max, XR, 11, 11 Pro, 11 Pro Max, 12 Mini, 12, 12 Pro or 12 Pro Max, 13 Mini, 13, 13 Pro, 13 Pro Max, 14, 14 Plus, 14 Pro, 14 Pro Max.[/en]\n   *   [ja]iPhone X や XS、XS Max、XR、11、11 Pro、11 Pro Max、12 Mini、12、12 Pro、12 Pro Max、13 Mini、13、13 Pro、13 Pro Max、14、14 Plus、14 Pro、または14 Pro Max上で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isIPhoneX() {\n    // iOS WebViews on the same iOS version have the same user agent.\n    // We cannot avoid using window.screen.\n    // We also cannot use cordova-plugin-device since its behavior is different between simulators and real devices.\n    // This works well both in iOS Safari and (UI|WK)WebView of iPhone X.\n    return this.isIPhone() &&\n      (\n        // X, XS, 11 Pro, 12 Mini, 13 Mini\n        window.screen.width === 375 && window.screen.height === 812 || // portrait\n        window.screen.width === 812 && window.screen.height === 375 || // landscape\n\n        // XS Max, XR, 11, 11 Pro Max\n        window.screen.width === 414 && window.screen.height === 896 || // portrait\n        window.screen.width === 896 && window.screen.height === 414 || // landscape\n\n        // 12, 12 Pro, 13, 13 Pro, 14\n        window.screen.width === 390 && window.screen.height === 844 || // portrait\n        window.screen.width === 844 && window.screen.height === 390 || // landscape\n\n        // 12 Pro Max, 13 Pro Max, 14 Plus\n        window.screen.width === 428 && window.screen.height === 926 || // portrait\n        window.screen.width === 926 && window.screen.height === 428 || // landscape\n\n        // 14 Pro Max\n        window.screen.width === 430 && window.screen.height === 932 || // portrait\n        window.screen.width === 932 && window.screen.height === 430 || // landscape\n\n          // 14 Pro\n        window.screen.width === 393 && window.screen.height === 852 ||// portrait\n        window.screen.width === 852 && window.screen.height === 393 // landscape\n      );\n  }\n\n  /**\n   * @method isIPad\n   * @signature isIPad()\n   * @description\n   *   [en]Returns whether the device is iPad.[/en]\n   *   [ja]iPad上で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isIPad() {\n    return /iPad/i.test(navigator.userAgent) || this.isIPadOS();\n  }\n\n  /**\n   * @return {Boolean}\n   */\n  isIPod() {\n    return /iPod/i.test(navigator.userAgent);\n  }\n\n  //----------------\n  // iOS versions\n  //----------------\n  /**\n   * @method isIOS\n   * @signature isIOS([forceActualPlatform])\n   * @param {Boolean} forceActualPlatform\n   *   [en]If true, selected platform is ignored and the actual platform is returned.[/en]\n   *   [ja][/ja]\n   * @description\n   *   [en]Returns whether the OS is iOS. By default will return manually selected platform if it is set.[/en]\n   *   [ja]iOS上で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isIOS(forceActualPlatform) {\n    if (!forceActualPlatform && this._getSelectedPlatform()) {\n      return this._getSelectedPlatform() === 'ios';\n    }\n\n    if (typeof device === 'object' && !/browser/i.test(device.platform)) {\n      return /iOS/i.test(device.platform);\n    } else {\n      return /iPhone|iPad|iPod/i.test(navigator.userAgent) || this.isIPadOS();\n    }\n  }\n\n  /**\n   * @method isIOS7above\n   * @signature isIOS7above()\n   * @description\n   *   [en]Returns whether the iOS version is 7 or above.[/en]\n   *   [ja]iOS7以上で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isIOS7above() {\n    if (typeof device === 'object' && !/browser/i.test(device.platform)) {\n      return (/iOS/i.test(device.platform) && (parseInt(device.version.split('.')[0]) >= 7));\n    } else if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {\n      const ver = (navigator.userAgent.match(/\\b[0-9]+_[0-9]+(?:_[0-9]+)?\\b/) || [''])[0].replace(/_/g, '.');\n      return (parseInt(ver.split('.')[0]) >= 7);\n    }\n    return false;\n  }\n\n  /**\n   * @method isIPadOS\n   * @signature isIPadOS()\n   * @description\n   *   [en]Returns whether the OS is iPadOS.[/en]\n   *   [ja][/ja]\n   * @return {Boolean}\n   */\n  isIPadOS() {\n    // The iPadOS User Agent string is the same as MacOS so as a\n    // workaround we test the max touch points, which is 5 for\n    // iPads and 0 for desktop browsers.\n    return !!(/Macintosh/i.test(navigator.userAgent) && navigator.maxTouchPoints && navigator.maxTouchPoints === 5);\n  }\n\n  //----------------\n  // iOS browsers\n  //----------------\n  /**\n   * @method isIOSSafari\n   * @signature isIOSSafari()\n   * @description\n   *   [en]Returns whether app is running in iOS Safari.[/en]\n   *   [ja]iOS Safariで実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isIOSSafari() {\n    const navigator = window.navigator;\n    const ua = navigator.userAgent;\n\n    return !!(this.isIOS() && ua.indexOf('Safari') !== -1 && ua.indexOf('Version') !== -1 && !navigator.standalone);\n  }\n\n  /**\n   * @method isWKWebView\n   * @signature isWKWebView()\n   * @description\n   *   [en]Returns whether app is running in WKWebView.[/en]\n   *   [ja]WKWebViewで実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isWKWebView() {\n    const lte9 = /constructor/i.test(NativeHTMLElement);\n    return !!(this.isIOS() && window.webkit && window.webkit.messageHandlers && window.indexedDB && !lte9);\n  }\n\n  //----------------\n  // Android devices\n  //----------------\n  /**\n   * @method isAndroidPhone\n   * @signature isAndroidPhone()\n   * @description\n   *   [en]Returns whether the device is Android phone.[/en]\n   *   [ja]Android携帯上で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isAndroidPhone() {\n    return /Android/i.test(navigator.userAgent) && /Mobile/i.test(navigator.userAgent);\n  }\n\n  /**\n   * @method isAndroidTablet\n   * @signature isAndroidTablet()\n   * @description\n   *   [en]Returns whether the device is Android tablet.[/en]\n   *   [ja]Androidタブレット上で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isAndroidTablet() {\n    return /Android/i.test(navigator.userAgent) && !/Mobile/i.test(navigator.userAgent);\n  }\n\n  //----------------\n  // Android versions\n  //----------------\n  /**\n   * @method isAndroid\n   * @signature isAndroid([forceActualPlatform])\n   * @param {Boolean} forceActualPlatform\n   *   [en]If true, selected platform is ignored and the actual platform is returned.[/en]\n   *   [ja][/ja]\n   * @description\n   *   [en]Returns whether the OS is Android. By default will return manually selected platform if it is set.[/en]\n   *   [ja]Android上で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isAndroid(forceActualPlatform) {\n    if (!forceActualPlatform && this._getSelectedPlatform()) {\n      return this._getSelectedPlatform() === 'android';\n    }\n\n    if (typeof device === 'object' && !/browser/i.test(device.platform)) {\n      return /Android/i.test(device.platform);\n    } else {\n      return /Android/i.test(navigator.userAgent);\n    }\n  }\n\n  //----------------\n  // Other devices\n  //----------------\n  /**\n   * @method isWP\n   * @signature isWP([forceActualPlatform])\n   * @param {Boolean} forceActualPlatform\n   *   [en]If true, selected platform is ignored and the actual platform is returned.[/en]\n   *   [ja][/ja]\n   * @description\n   *   [en]Returns whether the OS is Windows phone. By default will return manually selected platform if it is set.[/en]\n   *   [ja][/ja]\n   * @return {Boolean}\n   */\n  isWP(forceActualPlatform) {\n    if (!forceActualPlatform && this._getSelectedPlatform()) {\n      return this._getSelectedPlatform() === 'wp';\n    }\n\n    if (typeof device === 'object' && !/browser/i.test(device.platform)) {\n      return /Win32NT|WinCE/i.test(device.platform);\n    } else {\n      return /Windows Phone|IEMobile|WPDesktop/i.test(navigator.userAgent);\n    }\n  }\n\n  /**\n   * @method isBlackBerry\n   * @signature isBlackBerry([forceActualPlatform])\n   * @param {Boolean} forceActualPlatform\n   *   [en]If true, selected platform is ignored and the actual platform is returned.[/en]\n   *   [ja][/ja]\n   * @description\n   *   [en]Returns whether the device is BlackBerry. By default will return manually selected platform if it is set.[/en]\n   *   [ja]BlackBerry上で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isBlackBerry(forceActualPlatform) {\n    if (!forceActualPlatform && this._getSelectedPlatform()) {\n      return this._getSelectedPlatform() === 'blackberry';\n    }\n\n    if (typeof device === 'object' && !/browser/i.test(device.platform)) {\n      return /BlackBerry/i.test(device.platform);\n    } else {\n      return /BlackBerry|RIM Tablet OS|BB10/i.test(navigator.userAgent);\n    }\n  }\n\n  //----------------\n  // Other browsers\n  //----------------\n  /**\n   * @method isOpera\n   * @signature isOpera([forceActualPlatform])\n   * @param {Boolean} forceActualPlatform\n   *   [en]If true, selected platform is ignored and the actual platform is returned.[/en]\n   *   [ja][/ja]\n   * @description\n   *   [en]Returns whether the browser is Opera. By default will return manually selected platform if it is set.[/en]\n   *   [ja]Opera上で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isOpera(forceActualPlatform) {\n    if (!forceActualPlatform && this._getSelectedPlatform()) {\n      return this._getSelectedPlatform() === 'opera';\n    }\n\n    return (!!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0);\n  }\n\n  /**\n   * @method isFirefox\n   * @signature isFirefox([forceActualPlatform])\n   * @param {Boolean} forceActualPlatform\n   *   [en]If true, selected platform is ignored and the actual platform is returned.[/en]\n   *   [ja][/ja]\n   * @description\n   *   [en]Returns whether the browser is Firefox. By default will return manually selected platform if it is set.[/en]\n   *   [ja]Firefox上で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isFirefox(forceActualPlatform) {\n    if (!forceActualPlatform && this._getSelectedPlatform()) {\n      return this._getSelectedPlatform() === 'firefox';\n    }\n\n    return (typeof InstallTrigger !== 'undefined');\n  }\n\n  /**\n   * @method isSafari\n   * @signature isSafari([forceActualPlatform])\n   * @param {Boolean} forceActualPlatform\n   *   [en]If true, selected platform is ignored and the actual platform is returned.[/en]\n   *   [ja][/ja]\n   * @description\n   *   [en]Returns whether the browser is Safari. By default will return manually selected platform if it is set.[/en]\n   *   [ja]Safari上で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isSafari(forceActualPlatform) {\n    if (!forceActualPlatform && this._getSelectedPlatform()) {\n      return this._getSelectedPlatform() === 'safari';\n    }\n\n    return (Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0) || (function (p) { return p.toString() === '[object SafariRemoteNotification]'; })(!window['safari'] || safari.pushNotification);\n  }\n\n  /**\n   * @method isChrome\n   * @signature isChrome([forceActualPlatform])\n   * @param {Boolean} forceActualPlatform\n   *   [en]If true, selected platform is ignored and the actual platform is returned.[/en]\n   *   [ja][/ja]\n   * @description\n   *   [en]Returns whether the browser is Chrome. By default will return manually selected platform if it is set.[/en]\n   *   [ja]Chrome上で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isChrome(forceActualPlatform) {\n    if (!forceActualPlatform && this._getSelectedPlatform()) {\n      return this._getSelectedPlatform() === 'chrome';\n    }\n\n    return (!!window.chrome && !(!!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0) && !(navigator.userAgent.indexOf(' Edge/') >= 0));\n  }\n\n  /**\n   * @method isIE\n   * @signature isIE([forceActualPlatform])\n   * @param {Boolean} forceActualPlatform\n   *   [en]If true, selected platform is ignored and the actual platform is returned.[/en]\n   *   [ja][/ja]\n   * @description\n   *   [en]Returns whether the browser is Internet Explorer. By default will return manually selected platform if it is set.[/en]\n   *   [ja]Internet Explorer上で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isIE(forceActualPlatform) {\n    if (!forceActualPlatform && this._getSelectedPlatform()) {\n      return this._getSelectedPlatform() === 'ie';\n    }\n\n    return false || !!document.documentMode;\n  }\n\n  /**\n   * @method isEdge\n   * @signature isEdge([forceActualPlatform])\n   * @param {Boolean} forceActualPlatform\n   *   [en]If true, selected platform is ignored and the actual platform is returned.[/en]\n   *   [ja][/ja]\n   * @description\n   *   [en]Returns whether the browser is Edge. By default will return manually selected platform if it is set.[/en]\n   *   [ja]Edge上で実行されているかどうかを返します。[/ja]\n   * @return {Boolean}\n   */\n  isEdge(forceActualPlatform) {\n    if (!forceActualPlatform && this._getSelectedPlatform()) {\n      return this._getSelectedPlatform() === 'edge';\n    }\n\n    return navigator.userAgent.indexOf(' Edge/') >= 0;\n  }\n\n  //----------------\n  // Utility functions\n  //----------------\n  /**\n   * @return {String}\n   */\n  getMobileOS() {\n    if (this.isAndroid()) {\n      return 'android';\n    }\n    else if (this.isIOS()) {\n      return 'ios';\n    }\n    else if (this.isWP()) {\n      return 'wp';\n    }\n    else {\n      return 'other';\n    }\n  }\n\n  /**\n   * @return {String}\n   */\n  getIOSDevice() {\n    if (this.isIPhone()) {\n      return 'iphone';\n    }\n    else if (this.isIPad()) {\n      return 'ipad';\n    }\n    else if (this.isIPod()) {\n      return 'ipod';\n    }\n    else {\n      return 'na';\n    }\n  }\n}\n\n\nexport default new Platform();\n", "// For @onsenui/custom-elements\nif (window.customElements) { // even if native CE1 impl exists, use polyfill\n    window.customElements.forcePolyfill = true;\n}\n", "/**\n * This class exists only to work around Closure's lack of a way to describe\n * singletons. It represents the 'already constructed marker' used in custom\n * element construction stacks.\n *\n * https://html.spec.whatwg.org/#concept-already-constructed-marker\n */\nclass AlreadyConstructedMarker {}\n\nexport default new AlreadyConstructedMarker();\n", "const reservedTagList = new Set([\n  'annotation-xml',\n  'color-profile',\n  'font-face',\n  'font-face-src',\n  'font-face-uri',\n  'font-face-format',\n  'font-face-name',\n  'missing-glyph',\n]);\n\n/**\n * @param {string} localName\n * @returns {boolean}\n */\nexport function isValidCustomElementName(localName) {\n  const reserved = reservedTagList.has(localName);\n  const validForm = /^[a-z][.0-9_a-z]*-[\\-.0-9_a-z]*$/.test(localName);\n  return !reserved && validForm;\n}\n\n/**\n * @private\n * @param {!Node} node\n * @return {boolean}\n */\nexport function isConnected(node) {\n  // Use `Node#isConnected`, if defined.\n  const nativeValue = node.isConnected;\n  if (nativeValue !== undefined) {\n    return nativeValue;\n  }\n\n  /** @type {?Node|undefined} */\n  let current = node;\n  while (current && !(current.__CE_isImportDocument || current instanceof Document)) {\n    current = current.parentNode || (window.ShadowRoot && current instanceof ShadowRoot ? current.host : undefined);\n  }\n  return !!(current && (current.__CE_isImportDocument || current instanceof Document));\n}\n\n/**\n * @param {!Node} root\n * @param {!Node} start\n * @return {?Node}\n */\nfunction nextSiblingOrAncestorSibling(root, start) {\n  let node = start;\n  while (node && node !== root && !node.nextSibling) {\n    node = node.parentNode;\n  }\n  return (!node || node === root) ? null : node.nextSibling;\n}\n\n/**\n * @param {!Node} root\n * @param {!Node} start\n * @return {?Node}\n */\nfunction nextNode(root, start) {\n  return start.firstChild ? start.firstChild : nextSiblingOrAncestorSibling(root, start);\n}\n\n/**\n * @param {!Node} root\n * @param {!function(!Element)} callback\n * @param {!Set<Node>=} visitedImports\n */\nexport function walkDeepDescendantElements(root, callback, visitedImports = new Set()) {\n  let node = root;\n  while (node) {\n    if (node.nodeType === Node.ELEMENT_NODE) {\n      const element = /** @type {!Element} */(node);\n\n      callback(element);\n\n      const localName = element.localName;\n      if (localName === 'link' && element.getAttribute('rel') === 'import') {\n        // If this import (polyfilled or not) has it's root node available,\n        // walk it.\n        const importNode = /** @type {!Node} */ (element.import);\n        if (importNode instanceof Node && !visitedImports.has(importNode)) {\n          // Prevent multiple walks of the same import root.\n          visitedImports.add(importNode);\n\n          for (let child = importNode.firstChild; child; child = child.nextSibling) {\n            walkDeepDescendantElements(child, callback, visitedImports);\n          }\n        }\n\n        // Ignore descendants of import links to prevent attempting to walk the\n        // elements created by the HTML Imports polyfill that we just walked\n        // above.\n        node = nextSiblingOrAncestorSibling(root, element);\n        continue;\n      } else if (localName === 'template') {\n        // Ignore descendants of templates. There shouldn't be any descendants\n        // because they will be moved into `.content` during construction in\n        // browsers that support template but, in case they exist and are still\n        // waiting to be moved by a polyfill, they will be ignored.\n        node = nextSiblingOrAncestorSibling(root, element);\n        continue;\n      }\n\n      // Walk shadow roots.\n      const shadowRoot = element.__CE_shadowRoot;\n      if (shadowRoot) {\n        for (let child = shadowRoot.firstChild; child; child = child.nextSibling) {\n          walkDeepDescendantElements(child, callback, visitedImports);\n        }\n      }\n    }\n\n    node = nextNode(root, node);\n  }\n}\n\n/**\n * Used to suppress Closure's \"Modifying the prototype is only allowed if the\n * constructor is in the same scope\" warning without using\n * `@suppress {newCheckTypes, duplicate}` because `newCheckTypes` is too broad.\n *\n * @param {!Object} destination\n * @param {string} name\n * @param {*} value\n */\nexport function setPropertyUnchecked(destination, name, value) {\n  destination[name] = value;\n}\n", "import * as Utilities from './Utilities.js';\nimport CEState from './CustomElementState.js';\n\nexport default class CustomElementInternals {\n  constructor() {\n    /** @type {!Map<string, !CustomElementDefinition>} */\n    this._localNameToDefinition = new Map();\n\n    /** @type {!Map<!Function, !CustomElementDefinition>} */\n    this._constructorToDefinition = new Map();\n\n    /** @type {!Array<!function(!Node)>} */\n    this._patches = [];\n\n    /** @type {boolean} */\n    this._hasPatches = false;\n  }\n\n  /**\n   * @param {string} localName\n   * @param {!CustomElementDefinition} definition\n   */\n  setDefinition(localName, definition) {\n    this._localNameToDefinition.set(localName, definition);\n    this._constructorToDefinition.set(definition.constructor, definition);\n  }\n\n  /**\n   * @param {string} localName\n   * @return {!CustomElementDefinition|undefined}\n   */\n  localNameToDefinition(localName) {\n    return this._localNameToDefinition.get(localName);\n  }\n\n  /**\n   * @param {!Function} constructor\n   * @return {!CustomElementDefinition|undefined}\n   */\n  constructorToDefinition(constructor) {\n    return this._constructorToDefinition.get(constructor);\n  }\n\n  /**\n   * @param {!function(!Node)} listener\n   */\n  addPatch(listener) {\n    this._hasPatches = true;\n    this._patches.push(listener);\n  }\n\n  /**\n   * @param {!Node} node\n   */\n  patchTree(node) {\n    if (!this._hasPatches) return;\n\n    Utilities.walkDeepDescendantElements(node, element => this.patch(element));\n  }\n\n  /**\n   * @param {!Node} node\n   */\n  patch(node) {\n    if (!this._hasPatches) return;\n\n    if (node.__CE_patched) return;\n    node.__CE_patched = true;\n\n    for (let i = 0; i < this._patches.length; i++) {\n      this._patches[i](node);\n    }\n  }\n\n  /**\n   * @param {!Node} root\n   */\n  connectTree(root) {\n    const elements = [];\n\n    Utilities.walkDeepDescendantElements(root, element => elements.push(element));\n\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      if (element.__CE_state === CEState.custom) {\n        if (Utilities.isConnected(element)) {\n          this.connectedCallback(element);\n        }\n      } else {\n        this.upgradeElement(element);\n      }\n    }\n  }\n\n  /**\n   * @param {!Node} root\n   */\n  disconnectTree(root) {\n    const elements = [];\n\n    Utilities.walkDeepDescendantElements(root, element => elements.push(element));\n\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      if (element.__CE_state === CEState.custom) {\n        this.disconnectedCallback(element);\n      }\n    }\n  }\n\n  /**\n   * Upgrades all uncustomized custom elements at and below a root node for\n   * which there is a definition. When custom element reaction callbacks are\n   * assumed to be called synchronously (which, by the current DOM / HTML spec\n   * definitions, they are *not*), callbacks for both elements customized\n   * synchronously by the parser and elements being upgraded occur in the same\n   * relative order.\n   *\n   * NOTE: This function, when used to simulate the construction of a tree that\n   * is already created but not customized (i.e. by the parser), does *not*\n   * prevent the element from reading the 'final' (true) state of the tree. For\n   * example, the element, during truly synchronous parsing / construction would\n   * see that it contains no children as they have not yet been inserted.\n   * However, this function does not modify the tree, the element will\n   * (incorrectly) have children. Additionally, self-modification restrictions\n   * for custom element constructors imposed by the DOM spec are *not* enforced.\n   *\n   *\n   * The following nested list shows the steps extending down from the HTML\n   * spec's parsing section that cause elements to be synchronously created and\n   * upgraded:\n   *\n   * The \"in body\" insertion mode:\n   * https://html.spec.whatwg.org/multipage/syntax.html#parsing-main-inbody\n   * - Switch on token:\n   *   .. other cases ..\n   *   -> Any other start tag\n   *      - [Insert an HTML element](below) for the token.\n   *\n   * Insert an HTML element:\n   * https://html.spec.whatwg.org/multipage/syntax.html#insert-an-html-element\n   * - Insert a foreign element for the token in the HTML namespace:\n   *   https://html.spec.whatwg.org/multipage/syntax.html#insert-a-foreign-element\n   *   - Create an element for a token:\n   *     https://html.spec.whatwg.org/multipage/syntax.html#create-an-element-for-the-token\n   *     - Will execute script flag is true?\n   *       - (Element queue pushed to the custom element reactions stack.)\n   *     - Create an element:\n   *       https://dom.spec.whatwg.org/#concept-create-element\n   *       - Sync CE flag is true?\n   *         - Constructor called.\n   *         - Self-modification restrictions enforced.\n   *       - Sync CE flag is false?\n   *         - (Upgrade reaction enqueued.)\n   *     - Attributes appended to element.\n   *       (`attributeChangedCallback` reactions enqueued.)\n   *     - Will execute script flag is true?\n   *       - (Element queue popped from the custom element reactions stack.\n   *         Reactions in the popped stack are invoked.)\n   *   - (Element queue pushed to the custom element reactions stack.)\n   *   - Insert the element:\n   *     https://dom.spec.whatwg.org/#concept-node-insert\n   *     - Shadow-including descendants are connected. During parsing\n   *       construction, there are no shadow-*excluding* descendants.\n   *       However, the constructor may have validly attached a shadow\n   *       tree to itself and added descendants to that shadow tree.\n   *       (`connectedCallback` reactions enqueued.)\n   *   - (Element queue popped from the custom element reactions stack.\n   *     Reactions in the popped stack are invoked.)\n   *\n   * @param {!Node} root\n   * @param {!Set<Node>=} visitedImports\n   */\n  patchAndUpgradeTree(root, visitedImports = new Set()) {\n    const elements = [];\n\n    const gatherElements = element => {\n      if (element.localName === 'link' && element.getAttribute('rel') === 'import') {\n        // The HTML Imports polyfill sets a descendant element of the link to\n        // the `import` property, specifically this is *not* a Document.\n        const importNode = /** @type {?Node} */ (element.import);\n\n        if (importNode instanceof Node && importNode.readyState === 'complete') {\n          importNode.__CE_isImportDocument = true;\n\n          // Connected links are associated with the registry.\n          importNode.__CE_hasRegistry = true;\n        } else {\n          // If this link's import root is not available, its contents can't be\n          // walked. Wait for 'load' and walk it when it's ready.\n          element.addEventListener('load', () => {\n            const importNode = /** @type {!Node} */ (element.import);\n\n            if (importNode.__CE_documentLoadHandled) return;\n            importNode.__CE_documentLoadHandled = true;\n\n            importNode.__CE_isImportDocument = true;\n\n            // Connected links are associated with the registry.\n            importNode.__CE_hasRegistry = true;\n\n            // Clone the `visitedImports` set that was populated sync during\n            // the `patchAndUpgradeTree` call that caused this 'load' handler to\n            // be added. Then, remove *this* link's import node so that we can\n            // walk that import again, even if it was partially walked later\n            // during the same `patchAndUpgradeTree` call.\n            const clonedVisitedImports = new Set(visitedImports);\n            visitedImports.delete(importNode);\n\n            this.patchAndUpgradeTree(importNode, visitedImports);\n          });\n        }\n      } else {\n        elements.push(element);\n      }\n    };\n\n    // `walkDeepDescendantElements` populates (and internally checks against)\n    // `visitedImports` when traversing a loaded import.\n    Utilities.walkDeepDescendantElements(root, gatherElements, visitedImports);\n\n    if (this._hasPatches) {\n      for (let i = 0; i < elements.length; i++) {\n        this.patch(elements[i]);\n      }\n    }\n\n    for (let i = 0; i < elements.length; i++) {\n      this.upgradeElement(elements[i]);\n    }\n  }\n\n  /**\n   * @param {!Element} element\n   */\n  upgradeElement(element) {\n    const currentState = element.__CE_state;\n    if (currentState !== undefined) return;\n\n    const definition = this.localNameToDefinition(element.localName);\n    if (!definition) return;\n\n    definition.constructionStack.push(element);\n\n    const constructor = definition.constructor;\n    try {\n      try {\n        let result = new (constructor)();\n        if (result !== element) {\n          throw new Error('The custom element constructor did not produce the element being upgraded.');\n        }\n      } finally {\n        definition.constructionStack.pop();\n      }\n    } catch (e) {\n      element.__CE_state = CEState.failed;\n      throw e;\n    }\n\n    element.__CE_state = CEState.custom;\n    element.__CE_definition = definition;\n\n    if (definition.attributeChangedCallback) {\n      const observedAttributes = definition.observedAttributes;\n      for (let i = 0; i < observedAttributes.length; i++) {\n        const name = observedAttributes[i];\n        const value = element.getAttribute(name);\n        if (value !== null) {\n          this.attributeChangedCallback(element, name, null, value, null);\n        }\n      }\n    }\n\n    if (Utilities.isConnected(element)) {\n      this.connectedCallback(element);\n    }\n  }\n\n  /**\n   * @param {!Element} element\n   */\n  connectedCallback(element) {\n    const definition = element.__CE_definition;\n    if (definition.connectedCallback) {\n      definition.connectedCallback.call(element);\n    }\n\n    element.__CE_isConnectedCallbackCalled = true;\n  }\n\n  /**\n   * @param {!Element} element\n   */\n  disconnectedCallback(element) {\n    if (!element.__CE_isConnectedCallbackCalled) {\n      this.connectedCallback(element);\n    }\n\n    const definition = element.__CE_definition;\n    if (definition.disconnectedCallback) {\n      definition.disconnectedCallback.call(element);\n    }\n\n    element.__CE_isConnectedCallbackCalled = undefined;\n  }\n\n  /**\n   * @param {!Element} element\n   * @param {string} name\n   * @param {?string} oldValue\n   * @param {?string} newValue\n   * @param {?string} namespace\n   */\n  attributeChangedCallback(element, name, oldValue, newValue, namespace) {\n    const definition = element.__CE_definition;\n    if (\n      definition.attributeChangedCallback &&\n      definition.observedAttributes.indexOf(name) > -1\n    ) {\n      definition.attributeChangedCallback.call(element, name, oldValue, newValue, namespace);\n    }\n  }\n}\n", "/**\n * @enum {number}\n */\nconst CustomElementState = {\n  custom: 1,\n  failed: 2,\n};\n\nexport default CustomElementState;\n", "import CustomElementInternals from './CustomElementInternals.js';\n\nexport default class DocumentConstructionObserver {\n  constructor(internals, doc) {\n    /**\n     * @type {!CustomElementInternals}\n     */\n    this._internals = internals;\n\n    /**\n     * @type {!Document}\n     */\n    this._document = doc;\n\n    /**\n     * @type {MutationObserver|undefined}\n     */\n    this._observer = undefined;\n\n\n    // Simulate tree construction for all currently accessible nodes in the\n    // document.\n    this._internals.patchAndUpgradeTree(this._document);\n\n    if (this._document.readyState === 'loading') {\n      this._observer = new MutationObserver(this._handleMutations.bind(this));\n\n      // Nodes created by the parser are given to the observer *before* the next\n      // task runs. Inline scripts are run in a new task. This means that the\n      // observer will be able to handle the newly parsed nodes before the inline\n      // script is run.\n      this._observer.observe(this._document, {\n        childList: true,\n        subtree: true,\n      });\n    }\n  }\n\n  disconnect() {\n    if (this._observer) {\n      this._observer.disconnect();\n    }\n  }\n\n  /**\n   * @param {!Array<!MutationRecord>} mutations\n   */\n  _handleMutations(mutations) {\n    // Once the document's `readyState` is 'interactive' or 'complete', all new\n    // nodes created within that document will be the result of script and\n    // should be handled by patching.\n    const readyState = this._document.readyState;\n    if (readyState === 'interactive' || readyState === 'complete') {\n      this.disconnect();\n    }\n\n    for (let i = 0; i < mutations.length; i++) {\n      const addedNodes = mutations[i].addedNodes;\n      for (let j = 0; j < addedNodes.length; j++) {\n        const node = addedNodes[j];\n        this._internals.patchAndUpgradeTree(node);\n      }\n    }\n  }\n}\n", "/**\n * @template T\n */\nexport default class Deferred {\n  constructor() {\n    /**\n     * @private\n     * @type {T|undefined}\n     */\n    this._value = undefined;\n\n    /**\n     * @private\n     * @type {Function|undefined}\n     */\n    this._resolve = undefined;\n\n    /**\n     * @private\n     * @type {!Promise<T>}\n     */\n    this._promise = new Promise(resolve => {\n      this._resolve = resolve;\n\n      if (this._value) {\n        resolve(this._value);\n      }\n    });\n  }\n\n  /**\n   * @param {T} value\n   */\n  resolve(value) {\n    if (this._value) {\n      throw new Error('Already resolved.');\n    }\n\n    this._value = value;\n\n    if (this._resolve) {\n      this._resolve(value);\n    }\n  }\n\n  /**\n   * @return {!Promise<T>}\n   */\n  toPromise() {\n    return this._promise;\n  }\n}\n", "import CustomElementInternals from './CustomElementInternals.js';\nimport DocumentConstructionObserver from './DocumentConstructionObserver.js';\nimport Deferred from './Deferred.js';\nimport * as Utilities from './Utilities.js';\n\n/**\n * @unrestricted\n */\nexport default class CustomElementRegistry {\n\n  /**\n   * @param {!CustomElementInternals} internals\n   */\n  constructor(internals) {\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this._elementDefinitionIsRunning = false;\n\n    /**\n     * @private\n     * @type {!CustomElementInternals}\n     */\n    this._internals = internals;\n\n    /**\n     * @private\n     * @type {!Map<string, !Deferred<undefined>>}\n     */\n    this._whenDefinedDeferred = new Map();\n\n    /**\n     * The default flush callback triggers the document walk synchronously.\n     * @private\n     * @type {!Function}\n     */\n    this._flushCallback = fn => fn();\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this._flushPending = false;\n\n    /**\n     * @private\n     * @type {!Array<string>}\n     */\n    this._unflushedLocalNames = [];\n\n    /**\n     * @private\n     * @type {!DocumentConstructionObserver}\n     */\n    this._documentConstructionObserver = new DocumentConstructionObserver(internals, document);\n  }\n\n  /**\n   * @param {string} localName\n   * @param {!Function} constructor\n   */\n  define(localName, constructor) {\n    if (!(constructor instanceof Function)) {\n      throw new TypeError('Custom element constructors must be functions.');\n    }\n\n    if (!Utilities.isValidCustomElementName(localName)) {\n      throw new SyntaxError(`The element name '${localName}' is not valid.`);\n    }\n\n    if (this._internals.localNameToDefinition(localName)) {\n      throw new Error(`A custom element with name '${localName}' has already been defined.`);\n    }\n\n    if (this._elementDefinitionIsRunning) {\n      throw new Error('A custom element is already being defined.');\n    }\n    this._elementDefinitionIsRunning = true;\n\n    let connectedCallback;\n    let disconnectedCallback;\n    let adoptedCallback;\n    let attributeChangedCallback;\n    let observedAttributes;\n    try {\n      /** @type {!Object} */\n      const prototype = constructor.prototype;\n      if (!(prototype instanceof Object)) {\n        throw new TypeError('The custom element constructor\\'s prototype is not an object.');\n      }\n\n      function getCallback(name) {\n        const callbackValue = prototype[name];\n        if (callbackValue !== undefined && !(callbackValue instanceof Function)) {\n          throw new Error(`The '${name}' callback must be a function.`);\n        }\n        return callbackValue;\n      }\n\n      connectedCallback = getCallback('connectedCallback');\n      disconnectedCallback = getCallback('disconnectedCallback');\n      adoptedCallback = getCallback('adoptedCallback');\n      attributeChangedCallback = getCallback('attributeChangedCallback');\n      observedAttributes = constructor['observedAttributes'] || [];\n    } catch (e) {\n      return;\n    } finally {\n      this._elementDefinitionIsRunning = false;\n    }\n\n    const definition = {\n      localName,\n      constructor,\n      connectedCallback,\n      disconnectedCallback,\n      adoptedCallback,\n      attributeChangedCallback,\n      observedAttributes,\n      constructionStack: [],\n    };\n\n    this._internals.setDefinition(localName, definition);\n\n    this._unflushedLocalNames.push(localName);\n\n    // If we've already called the flush callback and it hasn't called back yet,\n    // don't call it again.\n    if (!this._flushPending) {\n      this._flushPending = true;\n      this._flushCallback(() => this._flush());\n    }\n  }\n\n  _flush() {\n    // If no new definitions were defined, don't attempt to flush. This could\n    // happen if a flush callback keeps the function it is given and calls it\n    // multiple times.\n    if (this._flushPending === false) return;\n\n    this._flushPending = false;\n    this._internals.patchAndUpgradeTree(document);\n\n    while (this._unflushedLocalNames.length > 0) {\n      const localName = this._unflushedLocalNames.shift();\n      const deferred = this._whenDefinedDeferred.get(localName);\n      if (deferred) {\n        deferred.resolve(undefined);\n      }\n    }\n  }\n\n  /**\n   * @param {string} localName\n   * @return {Function|undefined}\n   */\n  get(localName) {\n    const definition = this._internals.localNameToDefinition(localName);\n    if (definition) {\n      return definition.constructor;\n    }\n\n    return undefined;\n  }\n\n  /**\n   * @param {string} localName\n   * @return {!Promise<undefined>}\n   */\n  whenDefined(localName) {\n    if (!Utilities.isValidCustomElementName(localName)) {\n      return Promise.reject(new SyntaxError(`'${localName}' is not a valid custom element name.`));\n    }\n\n    const prior = this._whenDefinedDeferred.get(localName);\n    if (prior) {\n      return prior.toPromise();\n    }\n\n    const deferred = new Deferred();\n    this._whenDefinedDeferred.set(localName, deferred);\n\n    const definition = this._internals.localNameToDefinition(localName);\n    // Resolve immediately only if the given local name has a definition *and*\n    // the full document walk to upgrade elements with that local name has\n    // already happened.\n    if (definition && this._unflushedLocalNames.indexOf(localName) === -1) {\n      deferred.resolve(undefined);\n    }\n\n    return deferred.toPromise();\n  }\n\n  polyfillWrapFlushCallback(outer) {\n    this._documentConstructionObserver.disconnect();\n    const inner = this._flushCallback;\n    this._flushCallback = flush => outer(() => inner(flush));\n  }\n}\n\n// Closure compiler exports.\nwindow['CustomElementRegistry'] = CustomElementRegistry;\nCustomElementRegistry.prototype['define'] = CustomElementRegistry.prototype.define;\nCustomElementRegistry.prototype['get'] = CustomElementRegistry.prototype.get;\nCustomElementRegistry.prototype['whenDefined'] = CustomElementRegistry.prototype.whenDefined;\nCustomElementRegistry.prototype['polyfillWrapFlushCallback'] = CustomElementRegistry.prototype.polyfillWrapFlushCallback;\n", "export default {\n  Document_createElement: window.Document.prototype.createElement,\n  Document_createElementNS: window.Document.prototype.createElementNS,\n  Document_importNode: window.Document.prototype.importNode,\n  Document_prepend: window.Document.prototype['prepend'],\n  Document_append: window.Document.prototype['append'],\n  Node_cloneNode: window.Node.prototype.cloneNode,\n  Node_appendChild: window.Node.prototype.appendChild,\n  Node_insertBefore: window.Node.prototype.insertBefore,\n  Node_removeChild: window.Node.prototype.removeChild,\n  Node_replaceChild: window.Node.prototype.replaceChild,\n  Node_textContent: Object.getOwnPropertyDescriptor(window.Node.prototype, 'textContent'),\n  Element_attachShadow: window.Element.prototype['attachShadow'],\n  Element_innerHTML: Object.getOwnPropertyDescriptor(window.Element.prototype, 'innerHTML'),\n  Element_getAttribute: window.Element.prototype.getAttribute,\n  Element_setAttribute: window.Element.prototype.setAttribute,\n  Element_removeAttribute: window.Element.prototype.removeAttribute,\n  Element_getAttributeNS: window.Element.prototype.getAttributeNS,\n  Element_setAttributeNS: window.Element.prototype.setAttributeNS,\n  Element_removeAttributeNS: window.Element.prototype.removeAttributeNS,\n  Element_insertAdjacentElement: window.Element.prototype['insertAdjacentElement'],\n  Element_prepend: window.Element.prototype['prepend'],\n  Element_append: window.Element.prototype['append'],\n  Element_before: window.Element.prototype['before'],\n  Element_after: window.Element.prototype['after'],\n  Element_replaceWith: window.Element.prototype['replaceWith'],\n  Element_remove: window.Element.prototype['remove'],\n  HTMLElement: window.HTMLElement,\n  HTMLElement_innerHTML: Object.getOwnPropertyDescriptor(window.HTMLElement.prototype, 'innerHTML'),\n  HTMLElement_insertAdjacentElement: window.HTMLElement.prototype['insertAdjacentElement'],\n};\n", "import Native from './Native.js';\nimport CustomElementInternals from '../CustomElementInternals.js';\nimport CEState from '../CustomElementState.js';\nimport AlreadyConstructedMarker from '../AlreadyConstructedMarker.js';\n\n/**\n * @param {!CustomElementInternals} internals\n */\nexport default function(internals) {\n  window['HTMLElement'] = (function() {\n    /**\n     * @type {function(new: HTMLElement): !HTMLElement}\n     */\n    function HTMLElement() {\n      // This should really be `new.target` but `new.target` can't be emulated\n      // in ES5. Assuming the user keeps the default value of the constructor's\n      // prototype's `constructor` property, this is equivalent.\n      /** @type {!Function} */\n      const constructor = this.constructor;\n\n      const definition = internals.constructorToDefinition(constructor);\n      if (!definition) {\n        throw new Error('The custom element being constructed was not registered with `customElements`.');\n      }\n\n      const constructionStack = definition.constructionStack;\n\n      if (constructionStack.length === 0) {\n        const element = Native.Document_createElement.call(document, definition.localName);\n        Object.setPrototypeOf(element, constructor.prototype);\n        element.__CE_state = CEState.custom;\n        element.__CE_definition = definition;\n        internals.patch(element);\n        return element;\n      }\n\n      const lastIndex = constructionStack.length - 1;\n      const element = constructionStack[lastIndex];\n      if (element === AlreadyConstructedMarker) {\n        throw new Error('The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.');\n      }\n      constructionStack[lastIndex] = AlreadyConstructedMarker;\n\n      Object.setPrototypeOf(element, constructor.prototype);\n      internals.patch(/** @type {!HTMLElement} */ (element));\n\n      return element;\n    }\n\n    HTMLElement.prototype = Native.HTMLElement.prototype;\n\n    return HTMLElement;\n  })();\n};\n", "/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nimport CustomElementInternals from './CustomElementInternals.js';\nimport CustomElementRegistry from './CustomElementRegistry.js';\n\nimport PatchHTMLElement from './Patch/HTMLElement.js';\nimport PatchDocument from './Patch/Document.js';\nimport PatchNode from './Patch/Node.js';\nimport PatchElement from './Patch/Element.js';\n\nconst priorCustomElements = window['customElements'];\n\nif (!priorCustomElements ||\n     priorCustomElements['forcePolyfill'] ||\n     (typeof priorCustomElements['define'] != 'function') ||\n     (typeof priorCustomElements['get'] != 'function')) {\n  /** @type {!CustomElementInternals} */\n  const internals = new CustomElementInternals();\n\n  PatchHTMLElement(internals);\n  PatchDocument(internals);\n  PatchNode(internals);\n  PatchElement(internals);\n\n  // The main document is always associated with the registry.\n  document.__CE_hasRegistry = true;\n\n  /** @type {!CustomElementRegistry} */\n  const customElements = new CustomElementRegistry(internals);\n\n  Object.defineProperty(window, 'customElements', {\n    configurable: true,\n    enumerable: true,\n    value: customElements,\n  });\n}\n", "import CustomElementInternals from '../../CustomElementInternals.js';\nimport * as Utilities from '../../Utilities.js';\n\n/**\n * @typedef {{\n *   prepend: !function(...(!Node|string)),\n  *  append: !function(...(!Node|string)),\n * }}\n */\nlet ParentNodeNativeMethods;\n\n/**\n * @param {!CustomElementInternals} internals\n * @param {!Object} destination\n * @param {!ParentNodeNativeMethods} builtIn\n */\nexport default function(internals, destination, builtIn) {\n  /**\n   * @param {...(!Node|string)} nodes\n   */\n  destination['prepend'] = function(...nodes) {\n    // TODO: Fix this for when one of `nodes` is a DocumentFragment!\n    const connectedBefore = /** @type {!Array<!Node>} */ (nodes.filter(node => {\n      // DocumentFragments are not connected and will not be added to the list.\n      return node instanceof Node && Utilities.isConnected(node);\n    }));\n\n    builtIn.prepend.apply(this, nodes);\n\n    for (let i = 0; i < connectedBefore.length; i++) {\n      internals.disconnectTree(connectedBefore[i]);\n    }\n\n    if (Utilities.isConnected(this)) {\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        if (node instanceof Element) {\n          internals.connectTree(node);\n        }\n      }\n    }\n  };\n\n  /**\n   * @param {...(!Node|string)} nodes\n   */\n  destination['append'] = function(...nodes) {\n    // TODO: Fix this for when one of `nodes` is a DocumentFragment!\n    const connectedBefore = /** @type {!Array<!Node>} */ (nodes.filter(node => {\n      // DocumentFragments are not connected and will not be added to the list.\n      return node instanceof Node && Utilities.isConnected(node);\n    }));\n\n    builtIn.append.apply(this, nodes);\n\n    for (let i = 0; i < connectedBefore.length; i++) {\n      internals.disconnectTree(connectedBefore[i]);\n    }\n\n    if (Utilities.isConnected(this)) {\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        if (node instanceof Element) {\n          internals.connectTree(node);\n        }\n      }\n    }\n  };\n};\n", "import Native from './Native.js';\nimport CustomElementInternals from '../CustomElementInternals.js';\nimport * as Utilities from '../Utilities.js';\n\nimport PatchParentNode from './Interface/ParentNode.js';\n\n/**\n * @param {!CustomElementInternals} internals\n */\nexport default function(internals) {\n  Utilities.setPropertyUnchecked(Document.prototype, 'createElement',\n    /**\n     * @this {Document}\n     * @param {string} localName\n     * @return {!Element}\n     */\n    function(localName) {\n      // Only create custom elements if this document is associated with the registry.\n      if (this.__CE_hasRegistry) {\n        const definition = internals.localNameToDefinition(localName);\n        if (definition) {\n          return new (definition.constructor)();\n        }\n      }\n\n      const result = /** @type {!Element} */\n        (Native.Document_createElement.call(this, localName));\n      internals.patch(result);\n      return result;\n    });\n\n  Utilities.setPropertyUnchecked(Document.prototype, 'importNode',\n    /**\n     * @this {Document}\n     * @param {!Node} node\n     * @param {boolean=} deep\n     * @return {!Node}\n     */\n    function(node, deep) {\n      const clone = Native.Document_importNode.call(this, node, deep);\n      // Only create custom elements if this document is associated with the registry.\n      if (!this.__CE_hasRegistry) {\n        internals.patchTree(clone);\n      } else {\n        internals.patchAndUpgradeTree(clone);\n      }\n      return clone;\n    });\n\n  const NS_HTML = \"http://www.w3.org/1999/xhtml\";\n\n  Utilities.setPropertyUnchecked(Document.prototype, 'createElementNS',\n    /**\n     * @this {Document}\n     * @param {?string} namespace\n     * @param {string} localName\n     * @return {!Element}\n     */\n    function(namespace, localName) {\n      // Only create custom elements if this document is associated with the registry.\n      if (this.__CE_hasRegistry && (namespace === null || namespace === NS_HTML)) {\n        const definition = internals.localNameToDefinition(localName);\n        if (definition) {\n          return new (definition.constructor)();\n        }\n      }\n\n      const result = /** @type {!Element} */\n        (Native.Document_createElementNS.call(this, namespace, localName));\n      internals.patch(result);\n      return result;\n    });\n\n  PatchParentNode(internals, Document.prototype, {\n    prepend: Native.Document_prepend,\n    append: Native.Document_append,\n  });\n};\n", "import Native from './Native.js';\nimport CustomElementInternals from '../CustomElementInternals.js';\nimport * as Utilities from '../Utilities.js';\n\n/**\n * @param {!CustomElementInternals} internals\n */\nexport default function(internals) {\n  // `Node#nodeValue` is implemented on `Attr`.\n  // `Node#textContent` is implemented on `Attr`, `Element`.\n\n  Utilities.setPropertyUnchecked(Node.prototype, 'insertBefore',\n    /**\n     * @this {Node}\n     * @param {!Node} node\n     * @param {?Node} refNode\n     * @return {!Node}\n     */\n    function(node, refNode) {\n      if (node instanceof DocumentFragment) {\n        const insertedNodes = Array.prototype.slice.apply(node.childNodes);\n        const nativeResult = Native.Node_insertBefore.call(this, node, refNode);\n\n        // DocumentFragments can't be connected, so `disconnectTree` will never\n        // need to be called on a DocumentFragment's children after inserting it.\n\n        if (Utilities.isConnected(this)) {\n          for (let i = 0; i < insertedNodes.length; i++) {\n            internals.connectTree(insertedNodes[i]);\n          }\n        }\n\n        return nativeResult;\n      }\n\n      const nodeWasConnected = Utilities.isConnected(node);\n      const nativeResult = Native.Node_insertBefore.call(this, node, refNode);\n\n      if (nodeWasConnected) {\n        internals.disconnectTree(node);\n      }\n\n      if (Utilities.isConnected(this)) {\n        internals.connectTree(node);\n      }\n\n      return nativeResult;\n    });\n\n  Utilities.setPropertyUnchecked(Node.prototype, 'appendChild',\n    /**\n     * @this {Node}\n     * @param {!Node} node\n     * @return {!Node}\n     */\n    function(node) {\n      if (node instanceof DocumentFragment) {\n        const insertedNodes = Array.prototype.slice.apply(node.childNodes);\n        const nativeResult = Native.Node_appendChild.call(this, node);\n\n        // DocumentFragments can't be connected, so `disconnectTree` will never\n        // need to be called on a DocumentFragment's children after inserting it.\n\n        if (Utilities.isConnected(this)) {\n          for (let i = 0; i < insertedNodes.length; i++) {\n            internals.connectTree(insertedNodes[i]);\n          }\n        }\n\n        return nativeResult;\n      }\n\n      const nodeWasConnected = Utilities.isConnected(node);\n      const nativeResult = Native.Node_appendChild.call(this, node);\n\n      if (nodeWasConnected) {\n        internals.disconnectTree(node);\n      }\n\n      if (Utilities.isConnected(this)) {\n        internals.connectTree(node);\n      }\n\n      return nativeResult;\n    });\n\n  Utilities.setPropertyUnchecked(Node.prototype, 'cloneNode',\n    /**\n     * @this {Node}\n     * @param {boolean=} deep\n     * @return {!Node}\n     */\n    function(deep) {\n      const clone = Native.Node_cloneNode.call(this, deep);\n      // Only create custom elements if this element's owner document is\n      // associated with the registry.\n      if (!this.ownerDocument.__CE_hasRegistry) {\n        internals.patchTree(clone);\n      } else {\n        internals.patchAndUpgradeTree(clone);\n      }\n      return clone;\n    });\n\n  Utilities.setPropertyUnchecked(Node.prototype, 'removeChild',\n    /**\n     * @this {Node}\n     * @param {!Node} node\n     * @return {!Node}\n     */\n    function(node) {\n      const nodeWasConnected = Utilities.isConnected(node);\n      const nativeResult = Native.Node_removeChild.call(this, node);\n\n      if (nodeWasConnected) {\n        internals.disconnectTree(node);\n      }\n\n      return nativeResult;\n    });\n\n  Utilities.setPropertyUnchecked(Node.prototype, 'replaceChild',\n    /**\n     * @this {Node}\n     * @param {!Node} nodeToInsert\n     * @param {!Node} nodeToRemove\n     * @return {!Node}\n     */\n    function(nodeToInsert, nodeToRemove) {\n      if (nodeToInsert instanceof DocumentFragment) {\n        const insertedNodes = Array.prototype.slice.apply(nodeToInsert.childNodes);\n        const nativeResult = Native.Node_replaceChild.call(this, nodeToInsert, nodeToRemove);\n\n        // DocumentFragments can't be connected, so `disconnectTree` will never\n        // need to be called on a DocumentFragment's children after inserting it.\n\n        if (Utilities.isConnected(this)) {\n          internals.disconnectTree(nodeToRemove);\n          for (let i = 0; i < insertedNodes.length; i++) {\n            internals.connectTree(insertedNodes[i]);\n          }\n        }\n\n        return nativeResult;\n      }\n\n      const nodeToInsertWasConnected = Utilities.isConnected(nodeToInsert);\n      const nativeResult = Native.Node_replaceChild.call(this, nodeToInsert, nodeToRemove);\n      const thisIsConnected = Utilities.isConnected(this);\n\n      if (thisIsConnected) {\n        internals.disconnectTree(nodeToRemove);\n      }\n\n      if (nodeToInsertWasConnected) {\n        internals.disconnectTree(nodeToInsert);\n      }\n\n      if (thisIsConnected) {\n        internals.connectTree(nodeToInsert);\n      }\n\n      return nativeResult;\n    });\n\n\n  function patch_textContent(destination, baseDescriptor) {\n    Object.defineProperty(destination, 'textContent', {\n      enumerable: baseDescriptor.enumerable,\n      configurable: true,\n      get: baseDescriptor.get,\n      set: /** @this {Node} */ function(assignedValue) {\n        // If this is a text node then there are no nodes to disconnect.\n        if (this.nodeType === Node.TEXT_NODE) {\n          baseDescriptor.set.call(this, assignedValue);\n          return;\n        }\n\n        let removedNodes = undefined;\n        // Checking for `firstChild` is faster than reading `childNodes.length`\n        // to compare with 0.\n        if (this.firstChild) {\n          // Using `childNodes` is faster than `children`, even though we only\n          // care about elements.\n          const childNodes = this.childNodes;\n          const childNodesLength = childNodes.length;\n          if (childNodesLength > 0 && Utilities.isConnected(this)) {\n            // Copying an array by iterating is faster than using slice.\n            removedNodes = new Array(childNodesLength);\n            for (let i = 0; i < childNodesLength; i++) {\n              removedNodes[i] = childNodes[i];\n            }\n          }\n        }\n\n        baseDescriptor.set.call(this, assignedValue);\n\n        if (removedNodes) {\n          for (let i = 0; i < removedNodes.length; i++) {\n            internals.disconnectTree(removedNodes[i]);\n          }\n        }\n      },\n    });\n  }\n\n  if (Native.Node_textContent && Native.Node_textContent.get) {\n    patch_textContent(Node.prototype, Native.Node_textContent);\n  } else {\n    internals.addPatch(function(element) {\n      patch_textContent(element, {\n        enumerable: true,\n        configurable: true,\n        // NOTE: This implementation of the `textContent` getter assumes that\n        // text nodes' `textContent` getter will not be patched.\n        get: /** @this {Node} */ function() {\n          /** @type {!Array<string>} */\n          const parts = [];\n\n          for (let i = 0; i < this.childNodes.length; i++) {\n            parts.push(this.childNodes[i].textContent);\n          }\n\n          return parts.join('');\n        },\n        set: /** @this {Node} */ function(assignedValue) {\n          while (this.firstChild) {\n            Native.Node_removeChild.call(this, this.firstChild);\n          }\n          Native.Node_appendChild.call(this, document.createTextNode(assignedValue));\n        },\n      });\n    });\n  }\n};\n", "import CustomElementInternals from '../../CustomElementInternals.js';\nimport * as Utilities from '../../Utilities.js';\n\n/**\n * @typedef {{\n *   before: !function(...(!Node|string)),\n *   after: !function(...(!Node|string)),\n *   replaceWith: !function(...(!Node|string)),\n *   remove: !function(),\n * }}\n */\nlet ChildNodeNativeMethods;\n\n/**\n * @param {!CustomElementInternals} internals\n * @param {!Object} destination\n * @param {!ChildNodeNativeMethods} builtIn\n */\nexport default function(internals, destination, builtIn) {\n  /**\n   * @param {...(!Node|string)} nodes\n   */\n  destination['before'] = function(...nodes) {\n    // TODO: Fix this for when one of `nodes` is a DocumentFragment!\n    const connectedBefore = /** @type {!Array<!Node>} */ (nodes.filter(node => {\n      // DocumentFragments are not connected and will not be added to the list.\n      return node instanceof Node && Utilities.isConnected(node);\n    }));\n\n    builtIn.before.apply(this, nodes);\n\n    for (let i = 0; i < connectedBefore.length; i++) {\n      internals.disconnectTree(connectedBefore[i]);\n    }\n\n    if (Utilities.isConnected(this)) {\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        if (node instanceof Element) {\n          internals.connectTree(node);\n        }\n      }\n    }\n  };\n\n  /**\n   * @param {...(!Node|string)} nodes\n   */\n  destination['after'] = function(...nodes) {\n    // TODO: Fix this for when one of `nodes` is a DocumentFragment!\n    const connectedBefore = /** @type {!Array<!Node>} */ (nodes.filter(node => {\n      // DocumentFragments are not connected and will not be added to the list.\n      return node instanceof Node && Utilities.isConnected(node);\n    }));\n\n    builtIn.after.apply(this, nodes);\n\n    for (let i = 0; i < connectedBefore.length; i++) {\n      internals.disconnectTree(connectedBefore[i]);\n    }\n\n    if (Utilities.isConnected(this)) {\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        if (node instanceof Element) {\n          internals.connectTree(node);\n        }\n      }\n    }\n  };\n\n  /**\n   * @param {...(!Node|string)} nodes\n   */\n  destination['replaceWith'] = function(...nodes) {\n    // TODO: Fix this for when one of `nodes` is a DocumentFragment!\n    const connectedBefore = /** @type {!Array<!Node>} */ (nodes.filter(node => {\n      // DocumentFragments are not connected and will not be added to the list.\n      return node instanceof Node && Utilities.isConnected(node);\n    }));\n\n    const wasConnected = Utilities.isConnected(this);\n\n    builtIn.replaceWith.apply(this, nodes);\n\n    for (let i = 0; i < connectedBefore.length; i++) {\n      internals.disconnectTree(connectedBefore[i]);\n    }\n\n    if (wasConnected) {\n      internals.disconnectTree(this);\n      for (let i = 0; i < nodes.length; i++) {\n        const node = nodes[i];\n        if (node instanceof Element) {\n          internals.connectTree(node);\n        }\n      }\n    }\n  };\n\n  destination['remove'] = function() {\n    const wasConnected = Utilities.isConnected(this);\n\n    builtIn.remove.call(this);\n\n    if (wasConnected) {\n      internals.disconnectTree(this);\n    }\n  };\n};\n", "import Native from './Native.js';\nimport CustomElementInternals from '../CustomElementInternals.js';\nimport CEState from '../CustomElementState.js';\nimport * as Utilities from '../Utilities.js';\n\nimport PatchParentNode from './Interface/ParentNode.js';\nimport PatchChildNode from './Interface/ChildNode.js';\n\n/**\n * @param {!CustomElementInternals} internals\n */\nexport default function(internals) {\n  if (Native.Element_attachShadow) {\n    Utilities.setPropertyUnchecked(Element.prototype, 'attachShadow',\n      /**\n       * @this {Element}\n       * @param {!{mode: string}} init\n       * @return {ShadowRoot}\n       */\n      function(init) {\n        const shadowRoot = Native.Element_attachShadow.call(this, init);\n        this.__CE_shadowRoot = shadowRoot;\n        return shadowRoot;\n      });\n  } else {\n    console.warn('Custom Elements: `Element#attachShadow` was not patched.');\n  }\n\n\n  function patch_innerHTML(destination, baseDescriptor) {\n    Object.defineProperty(destination, 'innerHTML', {\n      enumerable: baseDescriptor.enumerable,\n      configurable: true,\n      get: baseDescriptor.get,\n      set: /** @this {Element} */ function(htmlString) {\n        const isConnected = Utilities.isConnected(this);\n\n        // NOTE: In IE11, when using the native `innerHTML` setter, all nodes\n        // that were previously descendants of the context element have all of\n        // their children removed as part of the set - the entire subtree is\n        // 'disassembled'. This work around walks the subtree *before* using the\n        // native setter.\n        /** @type {!Array<!Element>|undefined} */\n        let removedElements = undefined;\n        if (isConnected) {\n          removedElements = [];\n          Utilities.walkDeepDescendantElements(this, element => {\n            if (element !== this) {\n              removedElements.push(element);\n            }\n          });\n        }\n\n        baseDescriptor.set.call(this, htmlString);\n\n        if (removedElements) {\n          for (let i = 0; i < removedElements.length; i++) {\n            const element = removedElements[i];\n            if (element.__CE_state === CEState.custom) {\n              internals.disconnectedCallback(element);\n            }\n          }\n        }\n\n        // Only create custom elements if this element's owner document is\n        // associated with the registry.\n        if (!this.ownerDocument.__CE_hasRegistry) {\n          internals.patchTree(this);\n        } else {\n          internals.patchAndUpgradeTree(this);\n        }\n        return htmlString;\n      },\n    });\n  }\n\n  if (Native.Element_innerHTML && Native.Element_innerHTML.get) {\n    patch_innerHTML(Element.prototype, Native.Element_innerHTML);\n  } else if (Native.HTMLElement_innerHTML && Native.HTMLElement_innerHTML.get) {\n    patch_innerHTML(HTMLElement.prototype, Native.HTMLElement_innerHTML);\n  } else {\n\n    /** @type {HTMLDivElement} */\n    const rawDiv = Native.Document_createElement.call(document, 'div');\n\n    internals.addPatch(function(element) {\n      patch_innerHTML(element, {\n        enumerable: true,\n        configurable: true,\n        // Implements getting `innerHTML` by performing an unpatched `cloneNode`\n        // of the element and returning the resulting element's `innerHTML`.\n        // TODO: Is this too expensive?\n        get: /** @this {Element} */ function() {\n          return Native.Node_cloneNode.call(this, true).innerHTML;\n        },\n        // Implements setting `innerHTML` by creating an unpatched element,\n        // setting `innerHTML` of that element and replacing the target\n        // element's children with those of the unpatched element.\n        set: /** @this {Element} */ function(assignedValue) {\n          // NOTE: re-route to `content` for `template` elements.\n          // We need to do this because `template.appendChild` does not\n          // route into `template.content`.\n          /** @type {!Node} */\n          const content = this.localName === 'template' ? (/** @type {!HTMLTemplateElement} */ (this)).content : this;\n          rawDiv.innerHTML = assignedValue;\n\n          while (content.childNodes.length > 0) {\n            Native.Node_removeChild.call(content, content.childNodes[0]);\n          }\n          while (rawDiv.childNodes.length > 0) {\n            Native.Node_appendChild.call(content, rawDiv.childNodes[0]);\n          }\n        },\n      });\n    });\n  }\n\n\n  Utilities.setPropertyUnchecked(Element.prototype, 'setAttribute',\n    /**\n     * @this {Element}\n     * @param {string} name\n     * @param {string} newValue\n     */\n    function(name, newValue) {\n      // Fast path for non-custom elements.\n      if (this.__CE_state !== CEState.custom) {\n        return Native.Element_setAttribute.call(this, name, newValue);\n      }\n\n      const oldValue = Native.Element_getAttribute.call(this, name);\n      Native.Element_setAttribute.call(this, name, newValue);\n      newValue = Native.Element_getAttribute.call(this, name);\n      internals.attributeChangedCallback(this, name, oldValue, newValue, null);\n    });\n\n  Utilities.setPropertyUnchecked(Element.prototype, 'setAttributeNS',\n    /**\n     * @this {Element}\n     * @param {?string} namespace\n     * @param {string} name\n     * @param {string} newValue\n     */\n    function(namespace, name, newValue) {\n      // Fast path for non-custom elements.\n      if (this.__CE_state !== CEState.custom) {\n        return Native.Element_setAttributeNS.call(this, namespace, name, newValue);\n      }\n\n      const oldValue = Native.Element_getAttributeNS.call(this, namespace, name);\n      Native.Element_setAttributeNS.call(this, namespace, name, newValue);\n      newValue = Native.Element_getAttributeNS.call(this, namespace, name);\n      internals.attributeChangedCallback(this, name, oldValue, newValue, namespace);\n    });\n\n  Utilities.setPropertyUnchecked(Element.prototype, 'removeAttribute',\n    /**\n     * @this {Element}\n     * @param {string} name\n     */\n    function(name) {\n      // Fast path for non-custom elements.\n      if (this.__CE_state !== CEState.custom) {\n        return Native.Element_removeAttribute.call(this, name);\n      }\n\n      const oldValue = Native.Element_getAttribute.call(this, name);\n      Native.Element_removeAttribute.call(this, name);\n      if (oldValue !== null) {\n        internals.attributeChangedCallback(this, name, oldValue, null, null);\n      }\n    });\n\n  Utilities.setPropertyUnchecked(Element.prototype, 'removeAttributeNS',\n    /**\n     * @this {Element}\n     * @param {?string} namespace\n     * @param {string} name\n     */\n    function(namespace, name) {\n      // Fast path for non-custom elements.\n      if (this.__CE_state !== CEState.custom) {\n        return Native.Element_removeAttributeNS.call(this, namespace, name);\n      }\n\n      const oldValue = Native.Element_getAttributeNS.call(this, namespace, name);\n      Native.Element_removeAttributeNS.call(this, namespace, name);\n      // In older browsers, `Element#getAttributeNS` may return the empty string\n      // instead of null if the attribute does not exist. For details, see;\n      // https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttributeNS#Notes\n      const newValue = Native.Element_getAttributeNS.call(this, namespace, name);\n      if (oldValue !== newValue) {\n        internals.attributeChangedCallback(this, name, oldValue, newValue, namespace);\n      }\n    });\n\n\n  function patch_insertAdjacentElement(destination, baseMethod) {\n    Utilities.setPropertyUnchecked(destination, 'insertAdjacentElement',\n      /**\n       * @this {Element}\n       * @param {string} where\n       * @param {!Element} element\n       * @return {?Element}\n       */\n      function(where, element) {\n        const wasConnected = Utilities.isConnected(element);\n        const insertedElement = /** @type {!Element} */\n          (baseMethod.call(this, where, element));\n\n        if (wasConnected) {\n          internals.disconnectTree(element);\n        }\n\n        if (Utilities.isConnected(insertedElement)) {\n          internals.connectTree(element);\n        }\n        return insertedElement;\n      });\n  }\n\n  if (Native.HTMLElement_insertAdjacentElement) {\n    patch_insertAdjacentElement(HTMLElement.prototype, Native.HTMLElement_insertAdjacentElement);\n  } else if (Native.Element_insertAdjacentElement) {\n    patch_insertAdjacentElement(Element.prototype, Native.Element_insertAdjacentElement);\n  } else {\n    console.warn('Custom Elements: `Element#insertAdjacentElement` was not patched.');\n  }\n\n\n  PatchParentNode(internals, Element.prototype, {\n    prepend: Native.Element_prepend,\n    append: Native.Element_append,\n  });\n\n  PatchChildNode(internals, Element.prototype, {\n    before: Native.Element_before,\n    after: Native.Element_after,\n    replaceWith: Native.Element_replaceWith,\n    remove: Native.Element_remove,\n  });\n};\n", "/**\n * @license\n * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n// @version 0.7.22\n\n(function(global) {\n  if (global.JsMutationObserver) {\n    return;\n  }\n  var registrationsTable = new WeakMap();\n  var setImmediate;\n  if (/Trident|Edge/.test(navigator.userAgent)) {\n    setImmediate = setTimeout;\n  } else if (window.setImmediate) {\n    setImmediate = window.setImmediate;\n  } else {\n    var setImmediateQueue = [];\n    var sentinel = String(Math.random());\n    window.addEventListener(\"message\", function(e) {\n      if (e.data === sentinel) {\n        var queue = setImmediateQueue;\n        setImmediateQueue = [];\n        queue.forEach(function(func) {\n          func();\n        });\n      }\n    });\n    setImmediate = function(func) {\n      setImmediateQueue.push(func);\n      window.postMessage(sentinel, \"*\");\n    };\n  }\n  var isScheduled = false;\n  var scheduledObservers = [];\n  function scheduleCallback(observer) {\n    scheduledObservers.push(observer);\n    if (!isScheduled) {\n      isScheduled = true;\n      setImmediate(dispatchCallbacks);\n    }\n  }\n  function wrapIfNeeded(node) {\n    return window.ShadowDOMPolyfill && window.ShadowDOMPolyfill.wrapIfNeeded(node) || node;\n  }\n  function dispatchCallbacks() {\n    isScheduled = false;\n    var observers = scheduledObservers;\n    scheduledObservers = [];\n    observers.sort(function(o1, o2) {\n      return o1.uid_ - o2.uid_;\n    });\n    var anyNonEmpty = false;\n    observers.forEach(function(observer) {\n      var queue = observer.takeRecords();\n      removeTransientObserversFor(observer);\n      if (queue.length) {\n        observer.callback_(queue, observer);\n        anyNonEmpty = true;\n      }\n    });\n    if (anyNonEmpty) dispatchCallbacks();\n  }\n  function removeTransientObserversFor(observer) {\n    observer.nodes_.forEach(function(node) {\n      var registrations = registrationsTable.get(node);\n      if (!registrations) return;\n      registrations.forEach(function(registration) {\n        if (registration.observer === observer) registration.removeTransientObservers();\n      });\n    });\n  }\n  function forEachAncestorAndObserverEnqueueRecord(target, callback) {\n    for (var node = target; node; node = node.parentNode) {\n      var registrations = registrationsTable.get(node);\n      if (registrations) {\n        for (var j = 0; j < registrations.length; j++) {\n          var registration = registrations[j];\n          var options = registration.options;\n          if (node !== target && !options.subtree) continue;\n          var record = callback(options);\n          if (record) registration.enqueue(record);\n        }\n      }\n    }\n  }\n  var uidCounter = 0;\n  function JsMutationObserver(callback) {\n    this.callback_ = callback;\n    this.nodes_ = [];\n    this.records_ = [];\n    this.uid_ = ++uidCounter;\n  }\n  JsMutationObserver.prototype = {\n    observe: function(target, options) {\n      target = wrapIfNeeded(target);\n      if (!options.childList && !options.attributes && !options.characterData || options.attributeOldValue && !options.attributes || options.attributeFilter && options.attributeFilter.length && !options.attributes || options.characterDataOldValue && !options.characterData) {\n        throw new SyntaxError();\n      }\n      var registrations = registrationsTable.get(target);\n      if (!registrations) registrationsTable.set(target, registrations = []);\n      var registration;\n      for (var i = 0; i < registrations.length; i++) {\n        if (registrations[i].observer === this) {\n          registration = registrations[i];\n          registration.removeListeners();\n          registration.options = options;\n          break;\n        }\n      }\n      if (!registration) {\n        registration = new Registration(this, target, options);\n        registrations.push(registration);\n        this.nodes_.push(target);\n      }\n      registration.addListeners();\n    },\n    disconnect: function() {\n      this.nodes_.forEach(function(node) {\n        var registrations = registrationsTable.get(node);\n        for (var i = 0; i < registrations.length; i++) {\n          var registration = registrations[i];\n          if (registration.observer === this) {\n            registration.removeListeners();\n            registrations.splice(i, 1);\n            break;\n          }\n        }\n      }, this);\n      this.records_ = [];\n    },\n    takeRecords: function() {\n      var copyOfRecords = this.records_;\n      this.records_ = [];\n      return copyOfRecords;\n    }\n  };\n  function MutationRecord(type, target) {\n    this.type = type;\n    this.target = target;\n    this.addedNodes = [];\n    this.removedNodes = [];\n    this.previousSibling = null;\n    this.nextSibling = null;\n    this.attributeName = null;\n    this.attributeNamespace = null;\n    this.oldValue = null;\n  }\n  function copyMutationRecord(original) {\n    var record = new MutationRecord(original.type, original.target);\n    record.addedNodes = original.addedNodes.slice();\n    record.removedNodes = original.removedNodes.slice();\n    record.previousSibling = original.previousSibling;\n    record.nextSibling = original.nextSibling;\n    record.attributeName = original.attributeName;\n    record.attributeNamespace = original.attributeNamespace;\n    record.oldValue = original.oldValue;\n    return record;\n  }\n  var currentRecord, recordWithOldValue;\n  function getRecord(type, target) {\n    return currentRecord = new MutationRecord(type, target);\n  }\n  function getRecordWithOldValue(oldValue) {\n    if (recordWithOldValue) return recordWithOldValue;\n    recordWithOldValue = copyMutationRecord(currentRecord);\n    recordWithOldValue.oldValue = oldValue;\n    return recordWithOldValue;\n  }\n  function clearRecords() {\n    currentRecord = recordWithOldValue = undefined;\n  }\n  function recordRepresentsCurrentMutation(record) {\n    return record === recordWithOldValue || record === currentRecord;\n  }\n  function selectRecord(lastRecord, newRecord) {\n    if (lastRecord === newRecord) return lastRecord;\n    if (recordWithOldValue && recordRepresentsCurrentMutation(lastRecord)) return recordWithOldValue;\n    return null;\n  }\n  function Registration(observer, target, options) {\n    this.observer = observer;\n    this.target = target;\n    this.options = options;\n    this.transientObservedNodes = [];\n  }\n  Registration.prototype = {\n    enqueue: function(record) {\n      var records = this.observer.records_;\n      var length = records.length;\n      if (records.length > 0) {\n        var lastRecord = records[length - 1];\n        var recordToReplaceLast = selectRecord(lastRecord, record);\n        if (recordToReplaceLast) {\n          records[length - 1] = recordToReplaceLast;\n          return;\n        }\n      } else {\n        scheduleCallback(this.observer);\n      }\n      records[length] = record;\n    },\n    addListeners: function() {\n      this.addListeners_(this.target);\n    },\n    addListeners_: function(node) {\n      var options = this.options;\n      if (options.attributes) node.addEventListener(\"DOMAttrModified\", this, true);\n      if (options.characterData) node.addEventListener(\"DOMCharacterDataModified\", this, true);\n      if (options.childList) node.addEventListener(\"DOMNodeInserted\", this, true);\n      if (options.childList || options.subtree) node.addEventListener(\"DOMNodeRemoved\", this, true);\n    },\n    removeListeners: function() {\n      this.removeListeners_(this.target);\n    },\n    removeListeners_: function(node) {\n      var options = this.options;\n      if (options.attributes) node.removeEventListener(\"DOMAttrModified\", this, true);\n      if (options.characterData) node.removeEventListener(\"DOMCharacterDataModified\", this, true);\n      if (options.childList) node.removeEventListener(\"DOMNodeInserted\", this, true);\n      if (options.childList || options.subtree) node.removeEventListener(\"DOMNodeRemoved\", this, true);\n    },\n    addTransientObserver: function(node) {\n      if (node === this.target) return;\n      this.addListeners_(node);\n      this.transientObservedNodes.push(node);\n      var registrations = registrationsTable.get(node);\n      if (!registrations) registrationsTable.set(node, registrations = []);\n      registrations.push(this);\n    },\n    removeTransientObservers: function() {\n      var transientObservedNodes = this.transientObservedNodes;\n      this.transientObservedNodes = [];\n      transientObservedNodes.forEach(function(node) {\n        this.removeListeners_(node);\n        var registrations = registrationsTable.get(node);\n        for (var i = 0; i < registrations.length; i++) {\n          if (registrations[i] === this) {\n            registrations.splice(i, 1);\n            break;\n          }\n        }\n      }, this);\n    },\n    handleEvent: function(e) {\n      e.stopImmediatePropagation();\n      switch (e.type) {\n       case \"DOMAttrModified\":\n        var name = e.attrName;\n        var namespace = e.relatedNode.namespaceURI;\n        var target = e.target;\n        var record = new getRecord(\"attributes\", target);\n        record.attributeName = name;\n        record.attributeNamespace = namespace;\n        var oldValue = e.attrChange === MutationEvent.ADDITION ? null : e.prevValue;\n        forEachAncestorAndObserverEnqueueRecord(target, function(options) {\n          if (!options.attributes) return;\n          if (options.attributeFilter && options.attributeFilter.length && options.attributeFilter.indexOf(name) === -1 && options.attributeFilter.indexOf(namespace) === -1) {\n            return;\n          }\n          if (options.attributeOldValue) return getRecordWithOldValue(oldValue);\n          return record;\n        });\n        break;\n\n       case \"DOMCharacterDataModified\":\n        var target = e.target;\n        var record = getRecord(\"characterData\", target);\n        var oldValue = e.prevValue;\n        forEachAncestorAndObserverEnqueueRecord(target, function(options) {\n          if (!options.characterData) return;\n          if (options.characterDataOldValue) return getRecordWithOldValue(oldValue);\n          return record;\n        });\n        break;\n\n       case \"DOMNodeRemoved\":\n        this.addTransientObserver(e.target);\n\n       case \"DOMNodeInserted\":\n        var changedNode = e.target;\n        var addedNodes, removedNodes;\n        if (e.type === \"DOMNodeInserted\") {\n          addedNodes = [ changedNode ];\n          removedNodes = [];\n        } else {\n          addedNodes = [];\n          removedNodes = [ changedNode ];\n        }\n        var previousSibling = changedNode.previousSibling;\n        var nextSibling = changedNode.nextSibling;\n        var record = getRecord(\"childList\", e.target.parentNode);\n        record.addedNodes = addedNodes;\n        record.removedNodes = removedNodes;\n        record.previousSibling = previousSibling;\n        record.nextSibling = nextSibling;\n        forEachAncestorAndObserverEnqueueRecord(e.relatedNode, function(options) {\n          if (!options.childList) return;\n          return record;\n        });\n      }\n      clearRecords();\n    }\n  };\n  global.JsMutationObserver = JsMutationObserver;\n  if (!global.MutationObserver) {\n    global.MutationObserver = JsMutationObserver;\n    JsMutationObserver._isPolyfilled = true;\n  }\n})(self);\n", "/*\nCopyright (c) 2012 Barnesandnoble.com, llc, Donavon West, and Domenic Denicola\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\nLIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\nWITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var setImmediate;\n\n    function addFromSetImmediateArguments(args) {\n        tasksByHandle[nextHandle] = partiallyApplied.apply(undefined, args);\n        return nextHandle++;\n    }\n\n    // This function accepts the same arguments as setImmediate, but\n    // returns a function that requires no arguments.\n    function partiallyApplied(handler) {\n        var args = [].slice.call(arguments, 1);\n        return function() {\n            if (typeof handler === \"function\") {\n                handler.apply(undefined, args);\n            } else {\n                (new Function(\"\" + handler))();\n            }\n        };\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(partiallyApplied(runIfPresent, handle), 0);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    task();\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function installNextTickImplementation() {\n        setImmediate = function() {\n            var handle = addFromSetImmediateArguments(arguments);\n            process.nextTick(partiallyApplied(runIfPresent, handle));\n            return handle;\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        setImmediate = function() {\n            var handle = addFromSetImmediateArguments(arguments);\n            global.postMessage(messagePrefix + handle, \"*\");\n            return handle;\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        setImmediate = function() {\n            var handle = addFromSetImmediateArguments(arguments);\n            channel.port2.postMessage(handle);\n            return handle;\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        setImmediate = function() {\n            var handle = addFromSetImmediateArguments(arguments);\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n            return handle;\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        setImmediate = function() {\n            var handle = addFromSetImmediateArguments(arguments);\n            setTimeout(partiallyApplied(runIfPresent, handle), 0);\n            return handle;\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(self));\n", "(function() {\n  var DEFAULT_VIEWPORT = 'width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no';\n\n  var Viewport = {\n    ensureViewportElement: function() {\n      var viewportElement = document.querySelector('meta[name=viewport]');\n\n      if (!viewportElement) {\n        viewportElement = document.createElement('meta');\n        viewportElement.name = 'viewport';\n        document.head.appendChild(viewportElement);\n      }\n\n      return viewportElement;\n    },\n\n    setup: function() {\n      var viewportElement = Viewport.ensureViewportElement();\n\n      if (!viewportElement) {\n        return;\n      }\n\n      if (!viewportElement.hasAttribute('content')) {\n        viewportElement.setAttribute('content', DEFAULT_VIEWPORT);\n      }\n    }\n  };\n\n  window.Viewport = Viewport;\n})();\n", "/**\n * MicroEvent - to make any js object an event emitter (server or browser)\n *\n * - pure javascript - server compatible, browser compatible\n * - dont rely on the browser doms\n * - super simple - you get it immediately, no mystery, no magic involved\n *\n * - create a MicroEventDebug with goodies to debug\n *   - make it safer to use\n*/\n\n/** NOTE: This library is customized for Onsen UI. */\n\nconst MicroEvent  = function(){};\nMicroEvent.prototype  = {\n  on: function(event, fct){\n    this._events = this._events || {};\n    this._events[event] = this._events[event] || [];\n    this._events[event].push(fct);\n  },\n  once: function(event, fct){\n    var self = this;\n    var wrapper = function() {\n      self.off(event, wrapper);\n      return fct.apply(null, arguments);\n    };\n    this.on(event, wrapper);\n  },\n  off: function(event, fct){\n    this._events = this._events || {};\n    if (event in this._events === false) {\n      return;\n    }\n\n    this._events[event] = this._events[event]\n      .filter(function(_fct) {\n        if (fct) {\n           return fct !== _fct;\n        }\n        else {\n          return false;\n        }\n      });\n  },\n  emit: function(event /* , args... */){\n    this._events = this._events || {};\n    if (event in this._events === false) {\n      return;\n    }\n    for (var i = 0; i < this._events[event].length; i++){\n      this._events[event][i].apply(this, Array.prototype.slice.call(arguments, 1));\n    }\n  }\n};\n\n/**\n * mixin will delegate all MicroEvent.js function in the destination object\n *\n * - require('MicroEvent').mixin(Foobar) will make Foobar able to use MicroEvent\n *\n * @param {Object} the object which will support MicroEvent\n*/\nMicroEvent.mixin  = function(destObject){\n  var props = ['on', 'once', 'off', 'emit'];\n  for (var i = 0; i < props.length; i ++){\n    if (typeof destObject === 'function') {\n      destObject.prototype[props[i]]  = MicroEvent.prototype[props[i]];\n    } else {\n      destObject[props[i]] = MicroEvent.prototype[props[i]];\n    }\n  }\n};\n\nwindow.MicroEvent = MicroEvent;\nexport default MicroEvent;\n", "export default { };\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport util from '../ons/util.js';\n\n/**\n * Add vendor prefix.\n *\n * @param {String} name\n * @return {String}\n */\nconst prefix = (function() {\n  const styles = window.getComputedStyle(document.documentElement, '');\n  const prefix = (Array.prototype.slice\n    .call(styles)\n    .join('')\n    .match(/-(moz|webkit|ms)-/) || (styles.OLink === '' && ['', 'o'])\n  )[1];\n\n  return function(name) {\n    return '-' + prefix + '-' + util.hyphenate(name);\n  };\n})();\n\n\n/**\n * Minimal utility library for manipulating element's style.\n * Set element's style.\n *\n * @param {Element} element\n * @param {Object} styles\n * @return {Element}\n */\nconst styler = function(element, style) {\n  Object.keys(style).forEach(function(key) {\n    if (key in element.style) {\n      element.style[key] = style[key];\n    } else if (prefix(key) in element.style) {\n      element.style[prefix(key)] = style[key];\n    } else {\n      util.warn('No such style property: ' + key);\n    }\n  });\n  return element;\n};\n\n/**\n * @param {Element} element\n * @param {String} styles Space-separated CSS properties to remove\n */\nstyler.clear = function(element, styles = '') {\n  const clearlist = styles.split(/\\s+/).reduce((r, s) => r.concat([util.hyphenate(s), prefix(s)]), []),\n    keys = [];\n\n  for (let i = element.style.length - 1; i >= 0; i--) {\n    const key = element.style[i];\n    if (clearlist.length === 0 || clearlist.some(s => key.indexOf(s) === 0)) {\n      keys.push(key); // Store the key to fix Safari style indexes\n    }\n  }\n\n  keys.forEach(key => element.style[key] = '');\n  element.getAttribute('style') === '' && element.removeAttribute('style');\n};\n\nexport default styler;\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport onsPlatform from './platform.js';\nimport util from './util.js';\n\nlet autoStyleEnabled = true;\n\n// Modifiers\nconst modifiersMap = {\n  'quiet': 'material--flat',\n  'light': 'material--flat',\n  'outline': 'material--flat',\n  'cta': '',\n  'large--quiet': 'material--flat large',\n  'large--cta': 'large',\n  'noborder': '',\n  'tappable': ''\n};\n\nconst platforms = {};\n\nplatforms.android = element => {\n\n  const elementName = element.tagName.toLowerCase();\n\n  if (!util.hasModifier(element, 'material')) {\n    const oldModifier = element.getAttribute('modifier') || '';\n\n    const newModifier = oldModifier.trim().split(/\\s+/).map(e => Object.prototype.hasOwnProperty.call(modifiersMap, e) ? modifiersMap[e] : e);\n    newModifier.unshift('material');\n\n    element.setAttribute('modifier', newModifier.join(' ').trim());\n  }\n\n  const elements = [\n    'ons-alert-dialog-button',\n    'ons-toolbar-button',\n    'ons-back-button',\n    'ons-button',\n    'ons-list-item',\n    'ons-fab',\n    'ons-speed-dial',\n    'ons-speed-dial-item',\n    'ons-tab'\n  ];\n\n\n  // Effects\n  if (elements.indexOf(elementName) !== -1\n    && !element.hasAttribute('ripple')\n    && !element.querySelector('ons-ripple')) {\n\n    if (elementName === 'ons-list-item') {\n      if (element.hasAttribute('tappable')) {\n        element.setAttribute('ripple', '');\n        element.removeAttribute('tappable');\n      }\n    } else {\n      element.setAttribute('ripple', '');\n    }\n  }\n};\n\nplatforms.ios = element => {\n\n // Modifiers\n if (util.removeModifier(element, 'material')) {\n   if (util.removeModifier(element, 'material--flat')) {\n     util.addModifier(element, (util.removeModifier(element, 'large')) ? 'large--quiet' : 'quiet');\n   }\n\n   if (!element.getAttribute('modifier')) {\n     element.removeAttribute('modifier');\n   }\n }\n\n // Effects\n if (element.hasAttribute('ripple')) {\n   if (element.tagName.toLowerCase() === 'ons-list-item') {\n     element.setAttribute('tappable', '');\n   }\n\n   element.removeAttribute('ripple');\n }\n};\n\nconst unlocked = {\n  android: true\n};\n\nconst getPlatform = (element, force) => {\n  if (autoStyleEnabled && !element.hasAttribute('disable-auto-styling')) {\n    const mobileOS = onsPlatform.getMobileOS();\n    if (Object.prototype.hasOwnProperty.call(platforms, mobileOS) && (Object.prototype.hasOwnProperty.call(unlocked, mobileOS) || force)) {\n      return mobileOS;\n    }\n  }\n  return null;\n};\n\nconst prepare = (element, force) => {\n  const p = getPlatform(element, force);\n  p && platforms[p](element);\n};\n\nconst mapModifier = (modifier, element, force) => {\n  if (getPlatform(element, force)) {\n    return modifier.split(/\\s+/).map(m => Object.prototype.hasOwnProperty.call(modifiersMap, m) ? modifiersMap[m] : m).join(' ');\n  }\n  return modifier;\n};\n\nconst restoreModifier = element => {\n  if (getPlatform(element) === 'android') {\n    const modifier = element.getAttribute('modifier') || '';\n    let newModifier = mapModifier(modifier, element);\n\n    if (!/(^|\\s+)material($|\\s+)/i.test(modifier)) {\n      newModifier = 'material ' + newModifier;\n    }\n\n    if (newModifier !== modifier) {\n      element.setAttribute('modifier', newModifier.trim());\n      return true;\n    }\n  }\n  return false;\n};\n\nexport default {\n  isEnabled: () => autoStyleEnabled,\n  enable: () => autoStyleEnabled = true,\n  disable: () => autoStyleEnabled = false,\n  prepare,\n  mapModifier,\n  getPlatform,\n  restoreModifier\n};\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport util from '../util.js';\nimport autoStyle from '../autostyle.js';\n\nexport default class ModifierUtil {\n  /**\n   * @param {String} last\n   * @param {String} current\n   */\n  static diff(last, current) {\n    last = makeDict(('' + last).trim());\n    current = makeDict(('' + current).trim());\n\n    const removed = Object.keys(last).reduce((result, token) => {\n      if (!current[token]) {\n        result.push(token);\n      }\n      return result;\n    }, []);\n\n    const added = Object.keys(current).reduce((result, token) => {\n      if (!last[token]) {\n        result.push(token);\n      }\n      return result;\n    }, []);\n\n    return {added, removed};\n\n    function makeDict(modifier) {\n      const dict = {};\n      ModifierUtil.split(modifier).forEach(token => dict[token] = token);\n      return dict;\n    }\n  }\n\n  /**\n   * @param {Object} diff\n   * @param {Array} diff.removed\n   * @param {Array} diff.added\n   * @param {Object} classList\n   * @param {String} template\n   */\n  static applyDiffToClassList(diff, classList, template) {\n    diff.added\n      .map(modifier => template.replace(/\\*/g, modifier))\n      .forEach(klass => klass.split(/\\s+/).forEach(k => classList.add(k)));\n\n    diff.removed\n      .map(modifier => template.replace(/\\*/g, modifier))\n      .forEach(klass => klass.split(/\\s+/).forEach(k => classList.remove(k)));\n  }\n\n  /**\n   * @param {Object} diff\n   * @param {Array} diff.removed\n   * @param {Array} diff.added\n   * @param {HTMLElement} element\n   * @param {Object} scheme\n   */\n  static applyDiffToElement(diff, element, scheme) {\n    Object.keys(scheme).forEach(selector => {\n      const targetElements = !selector || util.match(element, selector)\n        ? [element]\n        : Array.prototype.filter.call(\n            element.querySelectorAll(selector),\n            targetElement => !util.findParent(targetElement, element.tagName, parent => parent === element)\n          );\n\n      for (let i = 0; i < targetElements.length; i++) {\n        ModifierUtil.applyDiffToClassList(diff, targetElements[i].classList, scheme[selector]);\n      }\n    });\n  }\n\n  /**\n   * @param {String} last\n   * @param {String} current\n   * @param {HTMLElement} element\n   * @param {Object} scheme\n   */\n  static onModifierChanged(last, current, element, scheme) {\n    ModifierUtil.applyDiffToElement(ModifierUtil.diff(last, current), element, scheme);\n    autoStyle.restoreModifier(element);\n  }\n\n  static refresh(element, scheme) {\n    ModifierUtil.applyDiffToElement(ModifierUtil.diff('', element.getAttribute('modifier') || ''), element, scheme);\n  }\n\n  /**\n   * @param {HTMLElement} element\n   * @param {Object} scheme\n   */\n  static initModifier(element, scheme) {\n    const modifier = element.getAttribute('modifier');\n    if (typeof modifier !== 'string') {\n      return;\n    }\n\n    ModifierUtil.applyDiffToElement({\n      removed: [],\n      added: ModifierUtil.split(modifier)\n    }, element, scheme);\n  }\n\n  static split(modifier) {\n    if (typeof modifier !== 'string') {\n      return [];\n    }\n\n    return modifier.trim().split(/ +/).filter(token => token !== '');\n  }\n\n  /**\n   * Add modifier token to an element.\n   */\n  static addModifier(element, modifierToken) {\n    if (!element.hasAttribute('modifier')) {\n      element.setAttribute('modifier', modifierToken);\n    } else {\n      const tokens = ModifierUtil.split(element.getAttribute('modifier'));\n      if (tokens.indexOf(modifierToken) == -1) {\n        tokens.push(modifierToken);\n        element.setAttribute('modifier', tokens.join(' '));\n      }\n    }\n  }\n\n  /**\n   * Remove modifier token from an element.\n   */\n  static removeModifier(element, modifierToken) {\n    if (element.hasAttribute('modifier')) {\n      const tokens = ModifierUtil.split(element.getAttribute('modifier'));\n      const index = tokens.indexOf(modifierToken);\n      if (index !== -1) {\n        tokens.splice(index, 1);\n        element.setAttribute('modifier', tokens.join(' '));\n      }\n    }\n  }\n}\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\n/* eslint-disable no-use-before-define */\n\n'use strict';\n\nconst startsWith = (s, c) => s.substr(0, c.length) === c;\nconst endsWith = (s, c) => s.substr(s.length - c.length, c.length) === c;\nconst unwrap = s => s.slice(1, -1);\nconst isObjectString = s => startsWith(s, '{') && endsWith(s, '}');\nconst isArrayString = s => startsWith(s, '[') && endsWith(s, ']');\nconst isQuotedString = s => (startsWith(s, '\\'') && endsWith(s, '\\'')) || (startsWith(s, '\"') && endsWith(s, '\"'));\n\nconst error = (token, string, originalString) => {\n  throw new Error('Unexpected token \\'' + token + '\\' at position ' + (originalString.length - string.length - 1) + ' in string: \\'' + originalString + '\\'');\n};\n\nconst processToken = (token, string, originalString) => {\n  if (token === 'true' || token === 'false') {\n    return token === 'true';\n  } else if (isQuotedString(token)) {\n    return unwrap(token);\n  } else if (!isNaN(token)) {\n    return +(token);\n  } else if (isObjectString(token)) {\n    return parseObject(unwrap(token));\n  } else if (isArrayString(token)) {\n    return parseArray(unwrap(token));\n  } else {\n    error(token, string, originalString);\n  }\n};\n\nconst nextToken = (string) => {\n  string = string.trim();\n  let limit = string.length;\n\n  if (string[0] === ':' || string[0] === ',') {\n\n    limit = 1;\n\n  } else if (string[0] === '{' || string[0] === '[') {\n\n    const c = string.charCodeAt(0);\n    let nestedObject = 1;\n    for (let i = 1; i < string.length; i++) {\n      if (string.charCodeAt(i) === c) {\n        nestedObject++;\n      } else if (string.charCodeAt(i) === c + 2) {\n        nestedObject--;\n        if (nestedObject === 0) {\n          limit = i + 1;\n          break;\n        }\n      }\n    }\n\n  } else if (string[0] === '\\'' || string[0] === '\"') {\n\n    for (let i = 1; i < string.length; i++) {\n      if (string[i] === string[0]) {\n        limit = i + 1;\n        break;\n      }\n    }\n\n  } else {\n\n    for (let i = 1; i < string.length; i++) {\n      if ([' ', ',', ':'].indexOf(string[i]) !== -1) {\n        limit = i;\n        break;\n      }\n    }\n\n  }\n\n  return string.slice(0, limit);\n};\n\nconst parseObject = (string) => {\n  const isValidKey = key => /^[A-Z_$][A-Z0-9_$]*$/i.test(key);\n\n  string = string.trim();\n  const originalString = string;\n  const object = {};\n  let readingKey = true, key, previousToken, token;\n\n  while (string.length > 0) {\n    previousToken = token;\n    token = nextToken(string);\n    string = string.slice(token.length, string.length).trim();\n\n    if ((token === ':' && (!readingKey || !previousToken || previousToken === ','))\n       || (token === ',' && readingKey)\n       || (token !== ':' && token !== ',' && (previousToken && previousToken !== ',' && previousToken !== ':'))) {\n      error(token, string, originalString);\n    } else if (token === ':' && readingKey && previousToken) {\n      previousToken = isQuotedString(previousToken) ? unwrap(previousToken) : previousToken;\n      if (isValidKey(previousToken)) {\n        key = previousToken;\n        readingKey = false;\n      } else {\n        throw new Error('Invalid key token \\'' + previousToken + '\\' at position 0 in string: \\'' + originalString + '\\'');\n      }\n    } else if (token === ',' && !readingKey && previousToken) {\n      object[key] = processToken(previousToken, string, originalString);\n      readingKey = true;\n    }\n  }\n\n  if (token) {\n    object[key] = processToken(token, string, originalString);\n  }\n\n  return object;\n};\n\nconst parseArray = (string) => {\n  string = string.trim();\n  const originalString = string;\n  const array = [];\n  let previousToken, token;\n\n  while (string.length > 0) {\n    previousToken = token;\n    token = nextToken(string);\n    string = string.slice(token.length, string.length).trim();\n\n    if (token === ',' && (!previousToken || previousToken === ',')) {\n      error(token, string, originalString);\n    } else if (token === ',') {\n      array.push(processToken(previousToken, string, originalString));\n    }\n  }\n\n  if (token) {\n    if (token !== ',') {\n      array.push(processToken(token, string, originalString));\n    } else {\n      error(token, string, originalString);\n    }\n  }\n\n  return array;\n};\n\nconst parse = (string) => {\n  string = string.trim();\n\n  if (isObjectString(string)) {\n    return parseObject(unwrap(string));\n  } else if (isArrayString(string)) {\n    return parseArray(unwrap(string));\n  } else {\n    throw new Error('Provided string must be object or array like: ' + string);\n  }\n};\n\nexport default parse;\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport onsElements from './elements.js';\nimport styler from './styler.js';\nimport internal from './internal/index.js';\nimport autoStyle from './autostyle.js';\nimport ModifierUtil from './internal/modifier-util.js';\nimport animationOptionsParse from './animation-options-parser.js';\nimport platform from './platform.js';\n\nconst util = {};\nconst errorPrefix = '[Onsen UI]';\n\nutil.globals = {\n  fabOffset: 0,\n  errorPrefix,\n  supportsPassive: false\n};\n\nplatform._runOnActualPlatform(() => {\n  util.globals.actualMobileOS = platform.getMobileOS();\n  util.globals.isWKWebView = platform.isWKWebView();\n});\n\ntry {\n  const opts = Object.defineProperty({}, 'passive', {\n    get() { util.globals.supportsPassive = true; } // eslint-disable-line getter-return\n  });\n  window.addEventListener('testPassive', null, opts);\n  window.removeEventListener('testPassive', null, opts);\n} catch (e) { null; }\n\n/**\n * @param {Element} el Target\n * @param {String} name Event name\n * @param {Function} handler Event handler\n * @param {Object} [opt] Event options (passive, capture...)\n * @param {Boolean} [isGD] If comes from GestureDetector. Just for testing.\n */\nutil.addEventListener = (el, name, handler, opt, isGD) => {\n  el.addEventListener(name, handler, util.globals.supportsPassive ? opt : (opt || {}).capture);\n};\nutil.removeEventListener = (el, name, handler, opt, isGD) => {\n  el.removeEventListener(name, handler, util.globals.supportsPassive ? opt : (opt || {}).capture);\n};\n\n/**\n * @param {String/Function} query dot class name or node name or matcher function.\n * @return {Function}\n */\nutil.prepareQuery = (query) => {\n  return query instanceof Function ? query : (element) => util.match(element, query);\n};\n\n/**\n * @param {Element} e\n * @param {String/Function} s CSS Selector.\n * @return {Boolean}\n */\nutil.match = (e, s) => (e.matches || e.webkitMatchesSelector || e.mozMatchesSelector || e.msMatchesSelector).call(e, s);\n\n/**\n * @param {Element} element\n * @param {String/Function} query dot class name or node name or matcher function.\n * @return {HTMLElement/null}\n */\nutil.findChild = (element, query) => {\n  const match = util.prepareQuery(query);\n\n  // Caution: `element.children` is `undefined` in some environments if `element` is `svg`\n  for (let i = 0; i < element.childNodes.length; i++) {\n    const node = element.childNodes[i];\n    if (node.nodeType !== Node.ELEMENT_NODE) { // process only element nodes\n      continue;\n    }\n    if (match(node)) {\n      return node;\n    }\n  }\n  return null;\n};\n\n/**\n * @param {Element} element\n * @param {String/Function} query dot class name or node name or matcher function.\n * @return {HTMLElement/null}\n */\nutil.findParent = (element, query, until) => {\n  const match = util.prepareQuery(query);\n\n  let parent = element.parentNode;\n  for (;;) {\n    if (!parent || parent === document || parent instanceof DocumentFragment || (until && until(parent))) {\n      return null;\n    } else if (match(parent)) {\n      return parent;\n    }\n    parent = parent.parentNode;\n  }\n};\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nutil.isAttached = element => document.body.contains(element);\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nutil.hasAnyComponentAsParent = (element) => {\n  while (element && document.documentElement !== element) {\n    element = element.parentNode;\n    if (element && element.nodeName.toLowerCase().match(/(ons-navigator|ons-tabbar|ons-modal)/)) {\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * @param {Object} element\n * @return {Array}\n */\nutil.getAllChildNodes = (element) => {\n  return [element].concat(\n    ...Array.from(element.children).map(childEl => {\n      return util.getAllChildNodes(childEl);\n    })\n  );\n};\n\n/**\n * @param {Element} element\n * @return {boolean}\n */\nutil.isPageControl = element => element.nodeName.match(/^ons-(navigator|splitter|tabbar|page)$/i);\n\n/**\n * @param {Element} element\n * @param {String} action to propagate\n */\nutil.propagateAction = (element, action) => {\n  for (let i = 0; i < element.childNodes.length; i++) {\n    const child = element.childNodes[i];\n    if (child[action] instanceof Function) {\n      child[action]();\n    } else {\n      util.propagateAction(child, action);\n    }\n  }\n};\n\n/**\n * @param {String} string - string to be camelized\n * @return {String} Camelized string\n */\nutil.camelize = string => string.toLowerCase().replace(/-([a-z])/g, (m, l) => l.toUpperCase());\n\n/**\n * @param {String} string - string to be hyphenated\n * @return {String} Hyphenated string\n */\nutil.hyphenate = string => string.replace(/([a-zA-Z])([A-Z])/g, '$1-$2').toLowerCase();\n\n/**\n * @param {String} selector - tag and class only\n * @param {Object} style\n * @param {Element}\n */\nutil.create = (selector = '', style = {}) => {\n  const classList = selector.split('.');\n  const element = document.createElement(classList.shift() || 'div');\n\n  if (classList.length) {\n    element.className = classList.join(' ');\n  }\n\n  styler(element, style);\n\n  return element;\n};\n\n/**\n * @param {String} html\n * @return {Element}\n */\nutil.createElement = (html) => {\n  const wrapper = document.createElement('div');\n\n  if (html instanceof DocumentFragment) {\n    wrapper.appendChild(document.importNode(html, true));\n  } else {\n    wrapper.innerHTML = html.trim();\n  }\n\n  if (wrapper.children.length > 1) {\n    util.throw('HTML template must contain a single root element');\n  }\n\n  const element = wrapper.children[0];\n  wrapper.children[0].remove();\n  return element;\n};\n\n/**\n * @param {String} html\n * @return {HTMLFragment}\n */\nutil.createFragment = (html) => {\n  const template = document.createElement('template');\n  template.innerHTML = html;\n  return document.importNode(template.content, true);\n};\n\n/*\n * @param {Object} dst Destination object.\n * @param {...Object} src Source object(s).\n * @returns {Object} Reference to `dst`.\n */\nutil.extend = (dst, ...args) => {\n  for (let i = 0; i < args.length; i++) {\n    if (args[i]) {\n      const keys = Object.keys(args[i]);\n      for (let j = 0; j < keys.length; j++) {\n        const key = keys[j];\n        dst[key] = args[i][key];\n      }\n    }\n  }\n\n  return dst;\n};\n\n/**\n * @param {Object} arrayLike\n * @return {Array}\n */\nutil.arrayFrom = (arrayLike) => {\n  return Array.prototype.slice.apply(arrayLike);\n};\n\n/**\n * @param {String} jsonString\n * @param {Object} [failSafe]\n * @return {Object}\n */\nutil.parseJSONObjectSafely = (jsonString, failSafe = {}) => {\n  try {\n    const result = JSON.parse('' + jsonString);\n    if (typeof result === 'object' && result !== null) {\n      return result;\n    }\n  } catch (e) {\n    return failSafe;\n  }\n  return failSafe;\n};\n\n/**\n * @param {String} path - path such as 'myApp.controllers.data.loadData'\n * @return {Any} - whatever is located at that path\n */\nutil.findFromPath = (path) => {\n  path = path.split('.');\n  var el = window, key;\n  while (key = path.shift()) { // eslint-disable-line no-cond-assign\n    el = el[key];\n  }\n  return el;\n};\n\n/**\n * @param {HTMLElement} container - Page or page-container that implements 'topPage'\n * @return {HTMLElement|null} - Visible page element or null if not found.\n */\nutil.getTopPage = container => container && (container.tagName.toLowerCase() === 'ons-page' ? container : container.topPage) || null;\n\n/**\n * @param {HTMLElement} container - Element where the search begins\n * @return {HTMLElement|null} - Page element that contains the visible toolbar or null.\n */\nutil.findToolbarPage = container => {\n  const page = util.getTopPage(container);\n\n  if (page) {\n    if (page._canAnimateToolbar()) {\n      return page;\n    }\n\n    for (let i = 0; i < page._contentElement.children.length; i++) {\n      const nextPage = util.getTopPage(page._contentElement.children[i]);\n      if (nextPage && !/ons-tabbar/i.test(page._contentElement.children[i].tagName)) {\n        return util.findToolbarPage(nextPage);\n      }\n    }\n  }\n\n  return null;\n};\n\n/**\n * @param {Element} element\n * @param {String} eventName\n * @param {Object} [detail]\n * @return {CustomEvent}\n */\nutil.triggerElementEvent = (target, eventName, detail = {}) => {\n\n  const event = new CustomEvent(eventName, {\n    bubbles: true,\n    cancelable: true,\n    detail: detail\n  });\n\n  Object.keys(detail).forEach(key => {\n    event[key] = detail[key];\n  });\n\n  target.dispatchEvent(event);\n\n  return event;\n};\n\n/**\n * @param {Element} target\n * @param {String} modifierName\n * @return {Boolean}\n */\nutil.hasModifier = (target, modifierName) => {\n  if (!target.hasAttribute('modifier')) {\n    return false;\n  }\n\n  return RegExp(`(^|\\\\s+)${modifierName}($|\\\\s+)`, 'i').test(target.getAttribute('modifier'));\n};\n\n/**\n * @param {Element} target\n * @param {String} modifierName\n * @param {Object} options.autoStyle Maps the modifierName to the corresponding styled modifier.\n * @param {Object} options.forceAutoStyle Ignores platform limitation.\n * @return {Boolean} Whether it was added or not.\n */\nutil.addModifier = (target, modifierName, options = {}) => {\n  if (options.autoStyle) {\n    modifierName = autoStyle.mapModifier(modifierName, target, options.forceAutoStyle);\n  }\n\n  if (util.hasModifier(target, modifierName)) {\n    return false;\n  }\n\n  target.setAttribute('modifier', ((target.getAttribute('modifier') || '') + ' ' + modifierName).trim());\n  return true;\n};\n\n/**\n * @param {Element} target\n * @param {String} modifierName\n * @param {Object} options.autoStyle Maps the modifierName to the corresponding styled modifier.\n * @param {Object} options.forceAutoStyle Ignores platform limitation.\n * @return {Boolean} Whether it was found or not.\n */\nutil.removeModifier = (target, modifierName, options = {}) => {\n  if (options.autoStyle) {\n    modifierName = autoStyle.mapModifier(modifierName, target, options.forceAutoStyle);\n  }\n\n  if (!target.getAttribute('modifier') || !util.hasModifier(target, modifierName)) {\n    return false;\n  }\n\n  const newModifiers = target.getAttribute('modifier').split(/\\s+/).filter(m => m && m !== modifierName);\n  newModifiers.length ? target.setAttribute('modifier', newModifiers.join(' ')) : target.removeAttribute('modifier');\n  return true;\n};\n\n/**\n * @param {Element} target\n * @param {String} modifierName\n * @param {Boolean} options.force Forces modifier to be added or removed.\n * @param {Object} options.autoStyle Maps the modifierName to the corresponding styled modifier.\n * @param {Boolean} options.forceAutoStyle Ignores platform limitation.\n * @return {Boolean} Whether it was found or not.\n */\nutil.toggleModifier = (...args) => {\n  const options = args.length > 2 ? args[2] : {};\n  const force = typeof options === 'boolean' ? options : options.force;\n\n  const toggle = typeof force === 'boolean' ? force : !util.hasModifier(...args);\n  toggle ? util.addModifier(...args) : util.removeModifier(...args);\n};\n\n/**\n * @param {Element} el\n * @param {String} defaultClass\n * @param {Object} scheme\n */\nutil.restoreClass = (el, defaultClass, scheme) => {\n  defaultClass.split(/\\s+/).forEach(c => c !== '' && !el.classList.contains(c) && el.classList.add(c));\n  el.hasAttribute('modifier') && ModifierUtil.refresh(el, scheme);\n};\n\n// TODO: FIX\nutil.updateParentPosition = (el) => {\n  if (!el._parentUpdated && el.parentElement) {\n    if (window.getComputedStyle(el.parentElement).getPropertyValue('position') === 'static') {\n      el.parentElement.style.position = 'relative';\n    }\n    el._parentUpdated = true;\n  }\n};\n\nutil.toggleAttribute = (element, name, value) => {\n  if (value) {\n    element.setAttribute(name, typeof value === 'boolean' ? '' : value);\n  } else {\n    element.removeAttribute(name);\n  }\n};\n\nutil.bindListeners = (element, listenerNames) => {\n  listenerNames.forEach(name => {\n    const boundName = name.replace(/^_[a-z]/, '_bound' + name[1].toUpperCase());\n    element[boundName] = element[boundName] || element[name].bind(element);\n  });\n};\n\nutil.each = (obj, f) => Object.keys(obj).forEach(key => f(key, obj[key]));\n\n\n/**\n * @param {Element} target\n * @param {boolean} hasRipple\n * @param {Object} attrs\n */\nutil.updateRipple = (target, hasRipple, attrs = {}) => {\n  if (hasRipple === undefined) {\n    hasRipple = target.hasAttribute('ripple');\n  }\n\n  const rippleElement = util.findChild(target, 'ons-ripple');\n\n  if (hasRipple) {\n    if (!rippleElement) {\n      const element = document.createElement('ons-ripple');\n      Object.keys(attrs).forEach(key => element.setAttribute(key, attrs[key]));\n      target.insertBefore(element, target.firstChild);\n    }\n  } else if (rippleElement) {\n    rippleElement.remove();\n  }\n};\n\n/**\n * @param {String}\n * @return {Object}\n */\nutil.animationOptionsParse = animationOptionsParse;\n\n/**\n * @param {*} value\n */\nutil.isInteger = (value) => {\n  return typeof value === 'number' &&\n    isFinite(value) &&\n    Math.floor(value) === value;\n};\n\n/**\n * @return {Object} Deferred promise.\n */\nutil.defer = () => {\n  const deferred = {};\n  deferred.promise = new Promise((resolve, reject) => {\n    deferred.resolve = resolve;\n    deferred.reject = reject;\n  });\n  return deferred;\n};\n\n/**\n * Show warnings when they are enabled.\n *\n * @param {*} arguments to console.warn\n */\nutil.warn = (...args) => {\n  if (!internal.config.warningsDisabled) {\n    console.warn(errorPrefix, ...args);\n  }\n};\n\nutil.throw = (message) => {\n  throw new Error(`${errorPrefix} ${message}`);\n};\n\nutil.throwAbstract = () => util.throw('Cannot instantiate abstract class');\nutil.throwMember = () => util.throw('Class member must be implemented');\nutil.throwPageLoader = () => util.throw('First parameter should be an instance of PageLoader');\nutil.throwAnimator = (el) => util.throw(`\"Animator\" param must inherit ${el}Animator`);\n\n\nconst prevent = e => e.cancelable && e.preventDefault();\n\n/**\n * Prevent scrolling while draging horizontally on iOS.\n *\n * @param {gd} GestureDetector instance\n */\nutil.iosPreventScroll = gd => {\n  if (util.globals.actualMobileOS === 'ios') {\n    const clean = (e) => {\n      gd.off('touchmove', prevent);\n      gd.off('dragend', clean);\n    };\n\n    gd.on('touchmove', prevent);\n    gd.on('dragend', clean);\n  }\n};\n\n/**\n * Prevents scroll in underlying pages on iOS. See #2220 #2274 #1949\n *\n * @param {el} HTMLElement that prevents the events\n * @param {add} Boolean Add or remove event listeners\n */\nutil.iosPageScrollFix = (add) => { // Full fix - May cause issues with UIWebView's momentum scroll\n  if (util.globals.actualMobileOS === 'ios') {\n    document.body.classList.toggle('ons-ios-scroll', add); // Allows custom and localized fixes (#2274)\n    document.body.classList.toggle('ons-ios-scroll-fix', add);\n  }\n};\n\n/**\n * Distance and deltaTime filter some weird dragstart events that are not fired immediately.\n *\n * @param {event}\n */\nutil.isValidGesture = event => event.gesture !== undefined && (event.gesture.distance <= 15 || event.gesture.deltaTime <= 100);\n\nutil.checkMissingImport = (...elementNames) => {\n  elementNames.forEach(name => {\n    if (!onsElements[name]) {\n      util.throw(`Ons${name} is required but was not imported (Custom Elements)`);\n    }\n  });\n};\n\n/**\n * Defines a boolean property that reflects an attribute of the same name for a\n * given list of attributes.\n */\nutil.defineBooleanProperties = (object, attributeList) => {\n  attributeList.forEach(attributeName => {\n    const propertyName = util.camelize(attributeName);\n    Object.defineProperty(object.prototype, propertyName, {\n      get() {\n        return this.hasAttribute(attributeName);\n      },\n      set(value) {\n        if (value) {\n          this.setAttribute(attributeName, '');\n        } else {\n          this.removeAttribute(attributeName);\n        }\n      },\n      configurable: true\n    });\n  });\n};\n\n/**\n * Defines a string property that reflects an attribute of the same name for a\n * given list of attributes.\n */\nutil.defineStringProperties = (object, attributeList) => {\n  attributeList.forEach(attributeName => {\n    const propertyName = util.camelize(attributeName);\n    Object.defineProperty(object.prototype, propertyName, {\n      get() {\n        return this.getAttribute(attributeName);\n      },\n      set(value) {\n        if (value === null || value === undefined) {\n          this.removeAttribute(attributeName);\n        } else {\n          this.setAttribute(attributeName, value);\n        }\n      },\n      configurable: true\n    });\n  });\n};\n/**\n * Makes a property for a listener e.g. onClick.\n *\n * Returns `onConnected` function which should be called in the element's\n * connectedCallback, and `onDisconnected` function which should be called in\n * the element's disconnectedCallback.\n */\nutil.defineListenerProperty = (element, eventName) => {\n  const camelized = util.camelize(eventName);\n  const propertyName = 'on' + camelized.charAt(0).toUpperCase() + camelized.slice(1);\n\n  let handler;\n  Object.defineProperty(element, propertyName, {\n    get() {\n      return handler;\n    },\n    set(newHandler) {\n      if (element.isConnected) {\n        if (handler) {\n          element.removeEventListener(eventName, handler);\n        }\n        element.addEventListener(eventName, newHandler);\n      }\n\n      handler = newHandler;\n    },\n    configurable: true\n  });\n\n  return {\n    onConnected() {\n      if (element[propertyName]) {\n        element.addEventListener(eventName, element[propertyName]);\n      }\n    },\n\n    onDisconnected() {\n      if (element[propertyName]) {\n        element.removeEventListener(eventName, element[propertyName]);\n      }\n    }\n  };\n};\n\nexport default util;\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport platform from './platform.js';\nimport util from './util.js';\n\nconst error = message => util.throw(`In PageAttributeExpression: ${message}`);\n\nconst pageAttributeExpression = {\n  _variables: {},\n\n  /**\n   * Define a variable.\n   *\n   * @param {String} name Name of the variable\n   * @param {String|Function} value Value of the variable. Can be a string or a function. The function must return a string.\n   * @param {Boolean} overwrite If this value is false, an error will be thrown when trying to define a variable that has already been defined.\n   */\n  defineVariable: function(name, value, overwrite=false) {\n    if (typeof name !== 'string') {\n      error('Variable name must be a string');\n    }\n    else if (typeof value !== 'string' && typeof value !== 'function') {\n      error('Variable value must be a string or a function');\n    }\n    else if (Object.prototype.hasOwnProperty.call(this._variables, name) && !overwrite) {\n      error(`\"${name}\" is already defined`);\n    }\n    this._variables[name] = value;\n  },\n\n  /**\n   * Get a variable.\n   *\n   * @param {String} name Name of the variable.\n   * @return {String|Function|null}\n   */\n  getVariable: function(name) {\n    if (!Object.prototype.hasOwnProperty.call(this._variables, name)) {\n      return null;\n    }\n\n    return this._variables[name];\n  },\n\n  /**\n   * Remove a variable.\n   *\n   * @param {String} name Name of the varaible.\n   */\n  removeVariable: function(name) {\n    delete this._variables[name];\n  },\n\n  /**\n   * Get all variables.\n   *\n   * @return {Object}\n   */\n  getAllVariables: function() {\n    return this._variables;\n  },\n  _parsePart: function(part) {\n    let c,\n      inInterpolation = false,\n      currentIndex = 0;\n\n    const tokens = [];\n\n    if (part.length === 0) {\n      error('Unable to parse empty string');\n    }\n\n    for (let i = 0; i < part.length; i++) {\n      c = part.charAt(i);\n\n      if (c === '$' && part.charAt(i + 1) === '{') {\n        if (inInterpolation) {\n          error('Nested interpolation not supported');\n        }\n\n        const token = part.substring(currentIndex, i);\n        if (token.length > 0) {\n          tokens.push(part.substring(currentIndex, i));\n        }\n\n        currentIndex = i;\n        inInterpolation = true;\n      }\n      else if (c === '}') {\n        if (!inInterpolation) {\n          error('} must be preceeded by ${');\n        }\n\n        const token = part.substring(currentIndex, i + 1);\n        if (token.length > 0) {\n          tokens.push(part.substring(currentIndex, i + 1));\n        }\n\n        currentIndex = i + 1;\n        inInterpolation = false;\n      }\n    }\n\n    if (inInterpolation) {\n      error('Unterminated interpolation');\n    }\n\n    tokens.push(part.substring(currentIndex, part.length));\n\n    return tokens;\n  },\n  _replaceToken: function(token) {\n    const re = /^\\${(.*?)}$/,\n      match = token.match(re);\n\n    if (match) {\n      const name = match[1].trim();\n      const variable = this.getVariable(name);\n\n      if (variable === null) {\n        error(`Variable \"${name}\" does not exist`);\n      }\n      else if (typeof variable === 'string') {\n        return variable;\n      }\n      else {\n        const rv = variable();\n\n        if (typeof rv !== 'string') {\n          error('Must return a string');\n        }\n\n        return rv;\n      }\n    }\n    else {\n      return token;\n    }\n  },\n  _replaceTokens: function(tokens) {\n    return tokens.map(this._replaceToken.bind(this));\n  },\n  _parseExpression: function(expression) {\n    return expression.split(',')\n      .map(\n        function(part) {\n          return part.trim();\n        }\n      )\n      .map(this._parsePart.bind(this))\n      .map(this._replaceTokens.bind(this))\n      .map((part) => part.join(''));\n  },\n\n  /**\n   * Evaluate an expression.\n   *\n   * @param {String} expression An page attribute expression.\n   * @return {Array}\n   */\n  evaluate: function(expression) {\n    if (!expression) {\n      return [];\n    }\n\n    return this._parseExpression(expression);\n  }\n};\n\n// Define default variables.\npageAttributeExpression.defineVariable('mobileOS', platform.getMobileOS());\npageAttributeExpression.defineVariable('iOSDevice', platform.getIOSDevice());\npageAttributeExpression.defineVariable('runtime', () => {\n  return platform.isWebView() ? 'cordova' : 'browser';\n});\n\nexport default pageAttributeExpression;\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport util from '../util.js';\nimport platform from '../platform.js';\nimport pageAttributeExpression from '../page-attribute-expression.js';\n\nconst internal = {};\n\ninternal.config = {\n  autoStatusBarFill: true,\n  animationsDisabled: false,\n  warningsDisabled: false\n};\n\ninternal.nullElement = window.document.createElement('div');\n\n/**\n * @return {Boolean}\n */\ninternal.isEnabledAutoStatusBarFill = () => {\n  return !!internal.config.autoStatusBarFill;\n};\n\n/**\n * @param {String} html\n * @return {String}\n */\ninternal.normalizePageHTML = html => ('' + html).trim();\n\ninternal.waitDOMContentLoaded = callback => {\n  if (window.document.readyState === 'loading' || window.document.readyState == 'uninitialized') {\n    const wrappedCallback = () => {\n      callback();\n      window.document.removeEventListener('DOMContentLoaded', wrappedCallback);\n    };\n    window.document.addEventListener('DOMContentLoaded', wrappedCallback);\n  } else {\n    setImmediate(callback);\n  }\n};\n\ninternal.autoStatusBarFill = action => {\n  const onReady = () => {\n    if (internal.shouldFillStatusBar()) {\n      action();\n    }\n    document.removeEventListener('deviceready', onReady);\n  };\n\n  if (typeof device === 'object') {\n    document.addEventListener('deviceready', onReady);\n  } else if (['complete', 'interactive'].indexOf(document.readyState) === -1) {\n    internal.waitDOMContentLoaded(onReady);\n  } else {\n    onReady();\n  }\n};\n\ninternal.shouldFillStatusBar = () =>\n  internal.isEnabledAutoStatusBarFill() && (platform.isWebView() && (platform.isIOS7above() || platform.isIPadOS())\n    && !platform.isIPhoneX() || document.body.querySelector('.ons-status-bar-mock.ios'));\n\ninternal.templateStore = {\n  _storage: {},\n\n  /**\n   * @param {String} key\n   * @return {String/null} template\n   */\n  get(key) {\n    return internal.templateStore._storage[key] || null;\n  },\n\n  /**\n   * @param {String} key\n   * @param {String} template\n   */\n  set(key, template) {\n    internal.templateStore._storage[key] = template;\n  }\n};\n\n/**\n * @param {String} page\n * @return {Promise}\n */\ninternal.getTemplateHTMLAsync = function(page) {\n  return new Promise((resolve, reject) => {\n    internal.waitDOMContentLoaded(() => {\n      const cache = internal.templateStore.get(page);\n      if (cache) {\n        if (cache instanceof DocumentFragment) {\n          return resolve(cache);\n        }\n\n        const html = typeof cache === 'string' ? cache : cache[1];\n        return resolve(internal.normalizePageHTML(html));\n      }\n\n      const local = window.document.getElementById(page);\n      if (local) {\n        const html = local.textContent || local.content;\n        return resolve(html);\n      }\n\n      const xhr = new XMLHttpRequest();\n      xhr.open('GET', page, true);\n      xhr.onload = function() {\n        const html = xhr.responseText;\n        if (xhr.status >= 400 && xhr.status < 600) {\n          if (xhr.status === 404) {\n            reject(404);\n          } else {\n            reject(html);\n          }\n        } else {\n          // Refresh script tags\n          const fragment = util.createFragment(html);\n          util.arrayFrom(fragment.querySelectorAll('script')).forEach(el => {\n            const script = document.createElement('script');\n            script.type = el.type || 'text/javascript';\n            script.appendChild(document.createTextNode(el.text || el.textContent || el.innerHTML));\n            el.parentNode.replaceChild(script, el);\n          });\n\n          internal.templateStore.set(page, fragment);\n          resolve(fragment);\n        }\n      };\n      xhr.onerror = function() {\n        util.throw(`Page template not found: ${page}`);\n      };\n      xhr.send(null);\n    });\n  });\n};\n\n/**\n * @param {String} page\n * @return {Promise}\n */\ninternal.getPageHTMLAsync = function(page) {\n  const pages = pageAttributeExpression.evaluate(page);\n\n  const getPage = (page) => {\n    if (typeof page !== 'string') {\n      return Promise.reject('Must specify a page.');\n    }\n\n    return internal.getTemplateHTMLAsync(page)\n      .catch(function(error) {\n        if (pages.length === 0) {\n          return Promise.reject(error);\n        }\n\n        return getPage(pages.shift());\n      });\n  };\n\n  return getPage(pages.shift());\n};\n\nexport default internal;\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport util from '../util.js';\nimport internal from '../internal/index.js';\n\nexport default class AnimatorFactory {\n\n  /**\n   * @param {Object} opts\n   * @param {Object} opts.animators The dictionary for animator classes\n   * @param {Function} opts.baseClass The base class of animators\n   * @param {String} [opts.baseClassName] The name of the base class of animators\n   * @param {String} [opts.defaultAnimation] The default animation name\n   * @param {Object} [opts.defaultAnimationOptions] The default animation options\n   */\n  constructor(opts) {\n    this._animators = opts.animators;\n    this._baseClass = opts.baseClass;\n    this._baseClassName = opts.baseClassName || opts.baseClass.name;\n    this._animation = opts.defaultAnimation || 'default';\n    this._animationOptions = opts.defaultAnimationOptions || {};\n\n    if (!this._animators[this._animation]) {\n      util.throw('No such animation: ' + this._animation);\n    }\n  }\n\n  /**\n   * @param {String} jsonString\n   * @return {Object/null}\n   */\n  static parseAnimationOptionsString(jsonString) {\n    try {\n      if (typeof jsonString === 'string') {\n        const result = util.animationOptionsParse(jsonString);\n        if (typeof result === 'object' && result !== null) {\n          return result;\n        } else {\n          console.error('\"animation-options\" attribute must be a JSON object string: ' + jsonString);\n        }\n      }\n      return {};\n    } catch (e) {\n      console.error('\"animation-options\" attribute must be a JSON object string: ' + jsonString);\n      return {};\n    }\n  }\n\n  /**\n   * @param {Object} options\n   */\n  setAnimationOptions(options) {\n    this._animationOptions = options;\n  }\n\n  /**\n   * @param {Object} options\n   * @param {String} [options.animation] The animation name\n   * @param {Object} [options.animationOptions] The animation options\n   * @param {Object} defaultAnimator The default animator instance\n   * @return {Object} An animator instance\n   */\n  newAnimator(options = {}, defaultAnimator) {\n\n    let animator = null;\n\n    if (options.animation instanceof this._baseClass) {\n      return options.animation;\n    }\n\n    let Animator = null;\n\n    if (typeof options.animation === 'string') {\n      Animator = this._animators[options.animation];\n    }\n\n    if (!Animator && defaultAnimator) {\n      animator = defaultAnimator;\n    } else {\n      Animator = Animator || this._animators[this._animation];\n\n      const animationOpts = util.extend(\n        {},\n        this._animationOptions,\n        options.animationOptions || {},\n        internal.config.animationsDisabled ? {duration: 0, delay: 0} : {}\n      );\n\n      animator = new Animator(animationOpts);\n\n      if (typeof animator === 'function') {\n        animator = new animator(animationOpts); // eslint-disable-line new-cap\n      }\n    }\n\n    if (!(animator instanceof this._baseClass)) {\n      util.throw(`\"animator\" is not an instance of ${this._baseClassName}`);\n    }\n\n    return animator;\n  }\n}\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport platform from '../platform.js';\n\nconst util = {\n  _ready: false,\n\n  _domContentLoaded: false,\n\n  _onDOMContentLoaded: () => {\n    util._domContentLoaded = true;\n\n    if (platform.isWebView()) {\n      window.document.addEventListener('deviceready', () => {\n        util._ready = true;\n      }, false);\n    } else {\n      util._ready = true;\n    }\n  },\n\n  addBackButtonListener: function(fn) {\n    if (!this._domContentLoaded) {\n      throw new Error('This method is available after DOMContentLoaded');\n    }\n\n    if (this._ready) {\n      window.document.addEventListener('backbutton', fn, false);\n    } else {\n      window.document.addEventListener('deviceready', function() {\n        window.document.addEventListener('backbutton', fn, false);\n      });\n    }\n  },\n\n  removeBackButtonListener: function(fn) {\n    if (!this._domContentLoaded) {\n      throw new Error('This method is available after DOMContentLoaded');\n    }\n\n    if (this._ready) {\n      window.document.removeEventListener('backbutton', fn, false);\n    } else {\n      window.document.addEventListener('deviceready', function() {\n        window.document.removeEventListener('backbutton', fn, false);\n      });\n    }\n  }\n};\nwindow.addEventListener('DOMContentLoaded', () => util._onDOMContentLoaded(), false);\n\nconst HandlerRepository = {\n  _store: {},\n\n  _genId: (() => {\n    let i = 0;\n    return () => i++;\n  })(),\n\n  set: function(element, handler) {\n    if (element.dataset.deviceBackButtonHandlerId) {\n      this.remove(element);\n    }\n    const id = element.dataset.deviceBackButtonHandlerId = HandlerRepository._genId();\n    this._store[id] = handler;\n  },\n\n  remove: function(element) {\n    if (element.dataset.deviceBackButtonHandlerId) {\n      delete this._store[element.dataset.deviceBackButtonHandlerId];\n      delete element.dataset.deviceBackButtonHandlerId;\n    }\n  },\n\n  get: function(element) {\n    if (!element.dataset.deviceBackButtonHandlerId) {\n      return undefined;\n    }\n\n    const id = element.dataset.deviceBackButtonHandlerId;\n\n    if (!this._store[id]) {\n      throw new Error();\n    }\n\n    return this._store[id];\n  },\n\n  has: function(element) {\n    if (!element.dataset) {\n      return false;\n    }\n\n    const id = element.dataset.deviceBackButtonHandlerId;\n\n    return !!this._store[id];\n  }\n};\n\nclass DeviceBackButtonDispatcher {\n  constructor() {\n    this._isEnabled = false;\n    this._boundCallback = this._callback.bind(this);\n  }\n\n\n  /**\n   * Enable to handle 'backbutton' events.\n   */\n  enable() {\n    if (!this._isEnabled) {\n      util.addBackButtonListener(this._boundCallback);\n      this._isEnabled = true;\n    }\n  }\n\n  /**\n   * Disable to handle 'backbutton' events.\n   */\n  disable() {\n    if (this._isEnabled) {\n      util.removeBackButtonListener(this._boundCallback);\n      this._isEnabled = false;\n    }\n  }\n\n  /**\n   * Fire a 'backbutton' event manually.\n   */\n  fireDeviceBackButtonEvent() {\n    const event = document.createEvent('Event');\n    event.initEvent('backbutton', true, true);\n    document.dispatchEvent(event);\n  }\n\n  _callback() {\n    this._dispatchDeviceBackButtonEvent();\n  }\n\n  /**\n   * @param {HTMLElement} element\n   * @param {Function} callback\n   */\n  createHandler(element, callback) {\n    if (!(element instanceof HTMLElement)) {\n      throw new Error('element must be an instance of HTMLElement');\n    }\n\n    if (!(callback instanceof Function)) {\n      throw new Error('callback must be an instance of Function');\n    }\n\n    const handler = {\n      _callback: callback,\n      _element: element,\n\n      disable: function() {\n        HandlerRepository.remove(element);\n      },\n\n      setListener: function(callback) {\n        this._callback = callback;\n      },\n\n      enable: function() {\n        HandlerRepository.set(element, this);\n      },\n\n      isEnabled: function() {\n        return HandlerRepository.get(element) === this;\n      },\n\n      destroy: function() {\n        HandlerRepository.remove(element);\n        this._callback = this._element = null;\n      }\n    };\n\n    handler.enable();\n\n    return handler;\n  }\n\n  _dispatchDeviceBackButtonEvent() {\n    const tree = this._captureTree();\n\n    const element = this._findHandlerLeafElement(tree);\n\n    let handler = HandlerRepository.get(element);\n    handler._callback(createEvent(element));\n\n    function createEvent(element) {\n      return {\n        _element: element,\n        callParentHandler: function() {\n          let parent = this._element.parentNode;\n\n          while (parent) {\n            handler = HandlerRepository.get(parent);\n            if (handler) {\n              return handler._callback(createEvent(parent));\n            }\n            parent = parent.parentNode;\n          }\n        }\n      };\n    }\n  }\n\n  /**\n   * @return {Object}\n   */\n  _captureTree() {\n    return createTree(document.body);\n\n    function createTree(element) {\n      const tree = {\n        element: element,\n        children: Array.prototype.concat.apply([], arrayOf(element.children).map(function(childElement) {\n\n          if (childElement.style.display === 'none' || childElement._isShown === false) {\n            return [];\n          }\n\n          if (childElement.children.length === 0 && !HandlerRepository.has(childElement)) {\n            return [];\n          }\n\n          const result = createTree(childElement);\n\n          if (result.children.length === 0 && !HandlerRepository.has(result.element)) {\n            return [];\n          }\n\n          return [result];\n        }))\n      };\n\n      if (!HandlerRepository.has(tree.element)) {\n        for (let i = 0; i < tree.children.length; i++){\n          const subTree = tree.children[i];\n          if (HandlerRepository.has(subTree.element)) {\n            return subTree;\n          }\n        }\n      }\n\n      return tree;\n    }\n\n    function arrayOf(target) {\n      const result = [];\n      for (let i = 0; i < target.length; i++) {\n        result.push(target[i]);\n      }\n      return result;\n    }\n  }\n\n  /**\n   * @param {Object} tree\n   * @return {HTMLElement}\n   */\n  _findHandlerLeafElement(tree) {\n    return find(tree);\n\n    function find(node) {\n      if (node.children.length === 0) {\n        return node.element;\n      }\n\n      if (node.children.length === 1) {\n        return find(node.children[0]);\n      }\n\n      return node.children.map(function(childNode) {\n        return childNode.element;\n      }).reduce(function(left, right) {\n        if (!left) {\n          return right;\n        }\n\n        const leftZ = parseInt(window.getComputedStyle(left, '').zIndex, 10);\n        const rightZ = parseInt(window.getComputedStyle(right, '').zIndex, 10);\n\n        if (!isNaN(leftZ) && !isNaN(rightZ)) {\n          return leftZ > rightZ ? left : right;\n        }\n\n        throw new Error('Capturing backbutton-handler is failure.');\n      }, null);\n    }\n  }\n}\n\nexport default new DeviceBackButtonDispatcher();\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\nimport internal from './internal.js';\nimport AnimatorFactory from './animator-factory.js';\nimport ModifierUtil from './modifier-util.js';\nimport deviceBackButtonDispatcher from './device-back-button-dispatcher.js';\n\ninternal.AnimatorFactory = AnimatorFactory;\ninternal.ModifierUtil = ModifierUtil;\ninternal.dbbDispatcher = deviceBackButtonDispatcher;\n\nexport default internal;\n\n", "import './ons/platform.js'; // This file must be loaded before Custom Elements polyfills.\nimport './polyfills/index.js';\nimport './vendor/index.js';\nimport './ons/microevent.js';\nimport internal from './ons/internal/index.js';\n\nexport default function setup(ons) {\n  internal.waitDOMContentLoaded(function() {\n    register('script[type=\"text/template\"]');\n    register('script[type=\"text/ng-template\"]');\n    register('template');\n\n    function register(query) {\n      const templates = window.document.querySelectorAll(query);\n      for (let i = 0; i < templates.length; i++) {\n        internal.templateStore.set(templates[i].getAttribute('id'), templates[i].textContent || templates[i].content);\n      }\n    }\n  });\n\n  if (window._onsLoaded) {\n    ons._util.warn('Onsen UI is loaded more than once.');\n  }\n  window._onsLoaded = true;\n\n  ons.ready(function() {\n    ons.enableDeviceBackButtonHandler();\n    ons._defaultDeviceBackButtonHandler = ons._internal.dbbDispatcher.createHandler(window.document.body, () => {\n      if (Object.hasOwnProperty.call(navigator, 'app')) {\n        navigator.app.exitApp();\n      } else {\n        console.warn('Could not close the app. Is \\'cordova.js\\' included?\\nError: \\'window.navigator.app\\' is undefined.');\n      }\n    });\n    document.body._gestureDetector = new ons.GestureDetector(document.body, { passive: true });\n\n    // Simulate Device Back Button on ESC press\n    if (!ons.platform.isWebView()) {\n      document.body.addEventListener('keydown', function(event) {\n        if (event.keyCode === 27) {\n          ons.fireDeviceBackButtonEvent();\n        }\n      });\n    }\n\n    // setup loading placeholder\n    ons._setupLoadingPlaceHolders();\n  });\n\n  // viewport.js\n  Viewport.setup();\n}\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\n/* eslint-disable no-use-before-define */\n\n/**\n * Minimal animation library for managing css transition on mobile browsers.\n */\n'use strict';\n\nvar TIMEOUT_RATIO = 1.4;\n\nvar util = {\n};\n\n// capitalize string\nutil.capitalize = function(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n};\n\n/**\n * @param {Object} params\n * @param {String} params.property\n * @param {Float} params.duration\n * @param {String} params.timing\n */\nutil.buildTransitionValue = function(params) {\n  params.property = params.property || 'all';\n  params.duration = params.duration || 0.4;\n  params.timing = params.timing || 'linear';\n\n  var props = params.property.split(/ +/);\n\n  return props.map(function(prop) {\n    return prop + ' ' + params.duration + 's ' + params.timing;\n  }).join(', ');\n};\n\n/**\n * Add an event handler on \"transitionend\" event.\n */\nutil.onceOnTransitionEnd = function(element, callback) {\n  if (!element) {\n    return function() {};\n  }\n\n  var removeListeners = function() {\n    util._transitionEndEvents.forEach(function(eventName) {\n      element.removeEventListener(eventName, fn, false);\n    });\n  };\n\n  var fn = function(event) {\n    if (element == event.target) {\n      event.stopPropagation();\n      removeListeners();\n\n      callback();\n    }\n  };\n\n  util._transitionEndEvents.forEach(function(eventName) {\n    element.addEventListener(eventName, fn, false);\n  });\n\n  return removeListeners;\n};\n\nutil._transitionEndEvents = (function() {\n\n  if ('ontransitionend' in window) {\n    return ['transitionend'];\n  }\n\n  if ('onwebkittransitionend' in window) {\n    return ['webkitTransitionEnd'];\n  }\n\n  if (util.vendorPrefix === 'webkit' || util.vendorPrefix === 'o' || util.vendorPrefix === 'moz' || util.vendorPrefix === 'ms') {\n    return [util.vendorPrefix + 'TransitionEnd', 'transitionend'];\n  }\n\n  return [];\n})();\n\nutil._cssPropertyDict = (function() {\n  var styles = window.getComputedStyle(document.documentElement, '');\n  var dict = {};\n  var a = 'A'.charCodeAt(0);\n  var z = 'z'.charCodeAt(0);\n\n  var upper = function(s) {\n    return s.substr(1).toUpperCase();\n  };\n\n  for (var i = 0; i < styles.length; i++) {\n\n    var key = styles[i]\n    .replace(/^[-]+/, '')\n    .replace(/[-][a-z]/g, upper)\n    .replace(/^moz/, 'Moz');\n\n    if (a <= key.charCodeAt(0) && z >= key.charCodeAt(0)) {\n      if (key !== 'cssText' && key !== 'parentText') {\n        dict[key] = true;\n      }\n    }\n  }\n\n  return dict;\n})();\n\nutil.hasCssProperty = function(name) {\n  return name in util._cssPropertyDict;\n};\n\n/**\n * Vendor prefix for css property.\n */\nutil.vendorPrefix = (function() {\n  var styles = window.getComputedStyle(document.documentElement, ''),\n    pre = (Array.prototype.slice\n      .call(styles)\n      .join('')\n      .match(/-(moz|webkit|ms)-/) || (styles.OLink === '' && ['', 'o'])\n    )[1];\n    return pre;\n})();\n\nutil.forceLayoutAtOnce = function(elements, callback) {\n  this.batchImmediate(function() {\n    elements.forEach(function(element) {\n      // force layout\n      element.offsetHeight;\n    });\n    callback();\n  });\n};\n\nutil.batchImmediate = (function() {\n  var callbacks = [];\n\n  return function(callback) {\n    if (callbacks.length === 0) {\n      setImmediate(function() {\n        var concreateCallbacks = callbacks.slice(0);\n        callbacks = [];\n        concreateCallbacks.forEach(function(callback) {\n          callback();\n        });\n      });\n    }\n\n    callbacks.push(callback);\n  };\n})();\n\nutil.batchAnimationFrame = (function() {\n  var callbacks = [];\n\n  var raf = window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    function(callback) {\n    setTimeout(callback, 1000 / 60);\n  };\n\n  return function(callback) {\n    if (callbacks.length === 0) {\n      raf(function() {\n        var concreateCallbacks = callbacks.slice(0);\n        callbacks = [];\n        concreateCallbacks.forEach(function(callback) {\n          callback();\n        });\n      });\n    }\n\n    callbacks.push(callback);\n  };\n})();\n\nutil.transitionPropertyName = (function() {\n  if (util.hasCssProperty('transitionDuration')) {\n    return 'transition';\n  }\n\n  if (util.hasCssProperty(util.vendorPrefix + 'TransitionDuration')) {\n    return util.vendorPrefix + 'Transition';\n  }\n\n  throw new Error('Invalid state');\n})();\n\n\n/**\n * @param {HTMLElement} element\n */\nvar Animit = function(element, defaults) {\n  if (!(this instanceof Animit)) {\n    return new Animit(element, defaults);\n  }\n\n  if (element instanceof HTMLElement) {\n    this.elements = [element];\n  } else if (Object.prototype.toString.call(element) === '[object Array]') {\n    this.elements = element;\n\n  } else {\n    throw new Error('First argument must be an array or an instance of HTMLElement.');\n  }\n\n  this.defaults = defaults;\n  this.transitionQueue = [];\n  this.lastStyleAttributeDict = [];\n};\n\nAnimit.prototype = {\n\n  /**\n   * @property {Array}\n   */\n  transitionQueue: undefined,\n\n  /**\n   * @property {Array}\n   */\n  elements: undefined,\n\n  /**\n   * @property {Object}\n   */\n  defaults: undefined,\n\n  /**\n   * Start animation sequence with passed animations.\n   *\n   * @param {Function} callback\n   */\n  play: function(callback) {\n    if (typeof callback === 'function') {\n      this.transitionQueue.push(function(done) {\n        callback();\n        done();\n      });\n    }\n\n    this.startAnimation();\n\n    return this;\n  },\n\n  /**\n   * Most of the animations follow this default process.\n   *\n   * @param {from} css or options object containing css\n   * @param {to} css or options object containing css\n   * @param {delay} delay to wait\n   */\n  default: function(from, to, delay) {\n    function step(params, duration, timing) {\n      if (params.duration !== undefined) {\n        duration = params.duration;\n      }\n      if (params.timing !== undefined) {\n        timing = params.timing;\n      }\n\n      return {\n        css: params.css || params,\n        duration: duration,\n        timing: timing\n      };\n    }\n\n    return this.saveStyle()\n      .queue(step(from, 0, this.defaults.timing))\n      .wait(delay === undefined ? this.defaults.delay : delay)\n      .queue(step(to, this.defaults.duration, this.defaults.timing))\n      .restoreStyle();\n  },\n\n  /**\n   * Queue transition animations or other function.\n   *\n   * e.g. animit(elt).queue({color: 'red'})\n   * e.g. animit(elt).queue({color: 'red'}, {duration: 0.4})\n   * e.g. animit(elt).queue({css: {color: 'red'}, duration: 0.2})\n   *\n   * @param {Object|Animit.Transition|Function} transition\n   * @param {Object} [options]\n   */\n  queue: function(transition, options) {\n    var queue = this.transitionQueue;\n\n    if (transition && options) {\n      options.css = transition;\n      transition = new Animit.Transition(options);\n    }\n\n    if (!(transition instanceof Function || transition instanceof Animit.Transition)) {\n      if (transition.css) {\n        transition = new Animit.Transition(transition);\n      } else {\n        transition = new Animit.Transition({\n          css: transition\n        });\n      }\n    }\n\n    if (transition instanceof Function) {\n      queue.push(transition);\n    } else if (transition instanceof Animit.Transition) {\n      queue.push(transition.build());\n    } else {\n      throw new Error('Invalid arguments');\n    }\n\n    return this;\n  },\n\n  /**\n   * Queue transition animations.\n   *\n   * @param {Float} seconds\n   */\n  wait: function(seconds) {\n    if (seconds > 0) {\n      this.transitionQueue.push(function(done) {\n        setTimeout(done, 1000 * seconds);\n      });\n    }\n\n    return this;\n  },\n\n  saveStyle: function() {\n\n    this.transitionQueue.push(function(done) {\n      this.elements.forEach(function(element, index) {\n        var css = this.lastStyleAttributeDict[index] = {};\n\n        for (var i = 0; i < element.style.length; i++) {\n          css[element.style[i]] = element.style[element.style[i]];\n        }\n      }.bind(this));\n      done();\n    }.bind(this));\n\n    return this;\n  },\n\n  /**\n   * Restore element's style.\n   *\n   * @param {Object} [options]\n   * @param {Float} [options.duration]\n   * @param {String} [options.timing]\n   * @param {String} [options.transition]\n   */\n  restoreStyle: function(options) {\n    options = options || {};\n    var self = this;\n\n    if (options.transition && !options.duration) {\n      throw new Error('\"options.duration\" is required when \"options.transition\" is enabled.');\n    }\n\n    var transitionName = util.transitionPropertyName;\n\n    if (options.transition || (options.duration && options.duration > 0)) {\n      var transitionValue = options.transition || ('all ' + options.duration + 's ' + (options.timing || 'linear'));\n\n      this.transitionQueue.push(function(done) {\n        var elements = this.elements;\n        var timeoutId;\n\n        var clearTransition = function() {\n          elements.forEach(function(element) {\n            element.style[transitionName] = '';\n          });\n        };\n\n        // add \"transitionend\" event handler\n        var removeListeners = util.onceOnTransitionEnd(elements[0], function() {\n          clearTimeout(timeoutId);\n          clearTransition();\n          done();\n        });\n\n        // for fail safe.\n        timeoutId = setTimeout(function() {\n          removeListeners();\n          clearTransition();\n          done();\n        }, options.duration * 1000 * TIMEOUT_RATIO);\n\n        // transition and style settings\n        elements.forEach(function(element, index) {\n\n          var css = self.lastStyleAttributeDict[index];\n\n          if (!css) {\n            throw new Error('restoreStyle(): The style is not saved. Invoke saveStyle() before.');\n          }\n\n          self.lastStyleAttributeDict[index] = undefined;\n\n          var name;\n          for (var i = 0, len = element.style.length; i < len; i++) {\n            name = element.style[i];\n            if (css[name] === undefined) {\n              css[name] = '';\n            }\n          }\n\n          element.style[transitionName] = transitionValue;\n\n          Object.keys(css).forEach(function(key) {\n            if (key !== transitionName) {\n              element.style[key] = css[key];\n            }\n          });\n\n          element.style[transitionName] = transitionValue;\n        });\n      });\n    } else {\n      this.transitionQueue.push(function(done) {\n        reset();\n        done();\n      });\n    }\n\n    return this;\n\n    function reset() {\n      // Clear transition animation settings.\n      self.elements.forEach(function(element, index) {\n        element.style[transitionName] = 'none';\n\n        var css = self.lastStyleAttributeDict[index];\n\n        if (!css) {\n          throw new Error('restoreStyle(): The style is not saved. Invoke saveStyle() before.');\n        }\n\n        self.lastStyleAttributeDict[index] = undefined;\n\n        for (var i = 0, name = ''; i < element.style.length; i++) {\n          name = element.style[i];\n          if (typeof css[element.style[i]] === 'undefined') {\n            css[element.style[i]] = '';\n          }\n        }\n\n        Object.keys(css).forEach(function(key) {\n          element.style[key] = css[key];\n        });\n\n      });\n    }\n  },\n\n  /**\n   * Start animation sequence.\n   */\n  startAnimation: function() {\n    this._dequeueTransition();\n\n    return this;\n  },\n\n  _dequeueTransition: function() {\n    var transition = this.transitionQueue.shift();\n    if (this._currentTransition) {\n      throw new Error('Current transition exists.');\n    }\n    this._currentTransition = transition;\n    var self = this;\n    var called = false;\n\n    var done = function() {\n      if (!called) {\n        called = true;\n        self._currentTransition = undefined;\n        self._dequeueTransition();\n      } else {\n        throw new Error('Invalid state: This callback is called twice.');\n      }\n    };\n\n    if (transition) {\n      transition.call(this, done);\n    }\n  }\n\n};\n\n/**\n * @param {Animit} arguments\n */\nAnimit.runAll = function(/* arguments... */) {\n  for (var i = 0; i < arguments.length; i++) {\n    arguments[i].play();\n  }\n};\n\n\n/**\n * @param {Object} options\n * @param {Float} [options.duration]\n * @param {String} [options.property]\n * @param {String} [options.timing]\n */\nAnimit.Transition = function(options) {\n  this.options = options || {};\n  this.options.duration = this.options.duration || 0;\n  this.options.timing = this.options.timing || 'linear';\n  this.options.css = this.options.css || {};\n  this.options.property = this.options.property || 'all';\n};\n\nAnimit.Transition.prototype = {\n\n  /**\n   * @param {HTMLElement} element\n   * @return {Function}\n   */\n  build: function() {\n\n    if (Object.keys(this.options.css).length === 0) {\n      throw new Error('options.css is required.');\n    }\n\n    var css = createActualCssProps(this.options.css);\n\n    if (this.options.duration > 0) {\n      var transitionValue = util.buildTransitionValue(this.options);\n      var self = this;\n\n      return function(callback) {\n        var elements = this.elements;\n        var timeout = self.options.duration * 1000 * TIMEOUT_RATIO;\n        var timeoutId;\n\n        var removeListeners = util.onceOnTransitionEnd(elements[0], function() {\n          clearTimeout(timeoutId);\n          callback();\n        });\n\n        timeoutId = setTimeout(function() {\n          removeListeners();\n          callback();\n        }, timeout);\n\n        elements.forEach(function(element) {\n          element.style[util.transitionPropertyName] = transitionValue;\n\n          Object.keys(css).forEach(function(name) {\n            element.style[name] = css[name];\n          });\n        });\n\n      };\n    }\n\n    if (this.options.duration <= 0) {\n      return function(callback) {\n        var elements = this.elements;\n\n        elements.forEach(function(element) {\n          element.style[util.transitionPropertyName] = '';\n\n          Object.keys(css).forEach(function(name) {\n            element.style[name] = css[name];\n          });\n        });\n\n        if (elements.length > 0) {\n          util.forceLayoutAtOnce(elements, function() {\n            util.batchAnimationFrame(callback);\n          });\n        } else {\n          util.batchAnimationFrame(callback);\n        }\n      };\n    }\n\n    function createActualCssProps(css) {\n      var result = {};\n\n      Object.keys(css).forEach(function(name) {\n        var value = css[name];\n\n        if (util.hasCssProperty(name)) {\n          result[name] = value;\n          return;\n        }\n\n        var prefixed = util.vendorPrefix + util.capitalize(name);\n        if (util.hasCssProperty(prefixed)) {\n          result[prefixed] = value;\n        } else {\n          result[prefixed] = value;\n          result[name] = value;\n        }\n      });\n\n      return result;\n    }\n\n  }\n};\n\nexport default Animit;\n\n", "/*\n * Gesture detector library that forked from github.com/EightMedia/hammer.js.\n */\n\n'use strict';\n\nimport util from './util.js';\n\nvar Event, Utils, Detection, PointerEvent;\n\n/**\n * @object ons.GestureDetector\n * @category gesture\n * @description\n *   [en]Utility class for gesture detection.[/en]\n *   [ja]ジェスチャを検知するためのユーティリティクラスです。[/ja]\n */\n\n/**\n * @method constructor\n * @signature constructor(element[, options])\n * @description\n *  [en]Create a new GestureDetector instance.[/en]\n *  [ja]GestureDetectorのインスタンスを生成します。[/ja]\n * @param {Element} element\n *   [en]Name of the event.[/en]\n *   [ja]ジェスチャを検知するDOM要素を指定します。[/ja]\n * @param {Object} [options]\n *   [en]Options object.[/en]\n *   [ja]オプションを指定します。[/ja]\n * @return {ons.GestureDetector.Instance}\n */\nvar GestureDetector = function GestureDetector(element, options) {\n  return new GestureDetector.Instance(element, options || {});\n};\n\n\n/**\n * default settings.\n * more settings are defined per gesture at `/gestures`. Each gesture can be disabled/enabled\n * by setting it's name (like `swipe`) to false.\n * You can set the defaults for all instances by changing this object before creating an instance.\n * @example\n * ````\n *  GestureDetector.defaults.drag = false;\n *  GestureDetector.defaults.behavior.touchAction = 'pan-y';\n *  delete GestureDetector.defaults.behavior.userSelect;\n * ````\n * @property defaults\n * @type {Object}\n */\nGestureDetector.defaults = {\n  behavior: {\n    // userSelect: 'none', // Also disables selection in `input` children\n    touchAction: 'pan-y',\n    touchCallout: 'none',\n    contentZooming: 'none',\n    userDrag: 'none',\n    tapHighlightColor: 'rgba(0,0,0,0)'\n  }\n};\n\n/**\n * GestureDetector document where the base events are added at\n * @property DOCUMENT\n * @type {HTMLElement}\n * @default window.document\n */\nGestureDetector.DOCUMENT = document;\n\n/**\n * detect support for pointer events\n * @property HAS_POINTEREVENTS\n * @type {Boolean}\n */\nGestureDetector.HAS_POINTEREVENTS = navigator.pointerEnabled || navigator.msPointerEnabled;\n\n/**\n * detect support for touch events\n * @property HAS_TOUCHEVENTS\n * @type {Boolean}\n */\nGestureDetector.HAS_TOUCHEVENTS = ('ontouchstart' in window);\n\n/**\n * detect mobile browsers\n * @property IS_MOBILE\n * @type {Boolean}\n */\nGestureDetector.IS_MOBILE = /mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent);\n\n/**\n * detect if we want to support mouseevents at all\n * @property NO_MOUSEEVENTS\n * @type {Boolean}\n */\nGestureDetector.NO_MOUSEEVENTS = (GestureDetector.HAS_TOUCHEVENTS && GestureDetector.IS_MOBILE) || GestureDetector.HAS_POINTEREVENTS;\n\n/**\n * interval in which GestureDetector recalculates current velocity/direction/angle in ms\n * @property CALCULATE_INTERVAL\n * @type {Number}\n * @default 25\n */\nGestureDetector.CALCULATE_INTERVAL = 25;\n\n/**\n * eventtypes per touchevent (start, move, end) are filled by `Event.determineEventTypes` on `setup`\n * the object contains the DOM event names per type (`EVENT_START`, `EVENT_MOVE`, `EVENT_END`)\n * @property EVENT_TYPES\n * @private\n * @writeOnce\n * @type {Object}\n */\nvar EVENT_TYPES = {};\n\n/**\n * direction strings, for safe comparisons\n * @property DIRECTION_DOWN|LEFT|UP|RIGHT\n * @final\n * @type {String}\n * @default 'down' 'left' 'up' 'right'\n */\nvar DIRECTION_DOWN = GestureDetector.DIRECTION_DOWN = 'down';\nvar DIRECTION_LEFT = GestureDetector.DIRECTION_LEFT = 'left';\nvar DIRECTION_UP = GestureDetector.DIRECTION_UP = 'up';\nvar DIRECTION_RIGHT = GestureDetector.DIRECTION_RIGHT = 'right';\n\n/**\n * pointertype strings, for safe comparisons\n * @property POINTER_MOUSE|TOUCH|PEN\n * @final\n * @type {String}\n * @default 'mouse' 'touch' 'pen'\n */\nvar POINTER_MOUSE = GestureDetector.POINTER_MOUSE = 'mouse';\nvar POINTER_TOUCH = GestureDetector.POINTER_TOUCH = 'touch';\nvar POINTER_PEN = GestureDetector.POINTER_PEN = 'pen';\n\n/**\n * eventtypes\n * @property EVENT_START|MOVE|END|RELEASE|TOUCH\n * @final\n * @type {String}\n * @default 'start' 'change' 'move' 'end' 'release' 'touch'\n */\nvar EVENT_START = GestureDetector.EVENT_START = 'start';\nvar EVENT_MOVE = GestureDetector.EVENT_MOVE = 'move';\nvar EVENT_END = GestureDetector.EVENT_END = 'end';\nvar EVENT_RELEASE = GestureDetector.EVENT_RELEASE = 'release';\nvar EVENT_TOUCH = GestureDetector.EVENT_TOUCH = 'touch';\n\n/**\n * if the window events are set...\n * @property READY\n * @writeOnce\n * @type {Boolean}\n * @default false\n */\nGestureDetector.READY = false;\n\n/**\n * plugins namespace\n * @property plugins\n * @type {Object}\n */\nGestureDetector.plugins = GestureDetector.plugins || {};\n\n/**\n * gestures namespace\n * see `/gestures` for the definitions\n * @property gestures\n * @type {Object}\n */\nGestureDetector.gestures = GestureDetector.gestures || {};\n\n/**\n * setup events to detect gestures on the document\n * this function is called when creating an new instance\n * @private\n */\nfunction setup(opts) {\n  if (GestureDetector.READY) {\n    return;\n  }\n\n  // find what eventtypes we add listeners to\n  Event.determineEventTypes();\n\n  // Register all gestures inside GestureDetector.gestures\n  Utils.each(GestureDetector.gestures, function(gesture) {\n    Detection.register(gesture);\n  });\n\n  // Add touch events on the document\n  Event.onTouch(GestureDetector.DOCUMENT, EVENT_MOVE, Detection.detect, opts);\n  Event.onTouch(GestureDetector.DOCUMENT, EVENT_END, Detection.detect, opts);\n\n  // GestureDetector is ready...!\n  GestureDetector.READY = true;\n}\n\n/**\n * @module GestureDetector\n *\n * @class Utils\n * @static\n */\nUtils = GestureDetector.utils = {\n  /**\n   * extend method, could also be used for cloning when `dest` is an empty object.\n   * changes the dest object\n   * @param {Object} dest\n   * @param {Object} src\n   * @param {Boolean} [merge=false]  do a merge\n   * @return {Object} dest\n   */\n  extend: function extend(dest, src, merge) {\n    for (var key in src) {\n      if (Object.prototype.hasOwnProperty.call(src, key) && (dest[key] === undefined || !merge)) {\n        dest[key] = src[key];\n      }\n    }\n    return dest;\n  },\n\n  /**\n   * simple addEventListener wrapper\n   * @param {HTMLElement} element\n   * @param {String} type\n   * @param {Function} handler\n   */\n  on: function on(element, type, handler, opt) {\n    util.addEventListener(element, type, handler, opt, true);\n  },\n\n  /**\n   * simple removeEventListener wrapper\n   * @param {HTMLElement} element\n   * @param {String} type\n   * @param {Function} handler\n   */\n  off: function off(element, type, handler, opt) {\n    util.removeEventListener(element, type, handler, opt, true);\n  },\n\n  /**\n   * forEach over arrays and objects\n   * @param {Object|Array} obj\n   * @param {Function} iterator\n   * @param {any} iterator.item\n   * @param {Number} iterator.index\n   * @param {Object|Array} iterator.obj the source object\n   * @param {Object} context value to use as `this` in the iterator\n   */\n  each: function each(obj, iterator, context) {\n    var i, len;\n\n    // native forEach on arrays\n    if ('forEach' in obj) {\n      obj.forEach(iterator, context);\n      // arrays\n    } else if (obj.length !== undefined) {\n      for (i = 0, len = obj.length; i < len; i++) {\n        if (iterator.call(context, obj[i], i, obj) === false) {\n          return;\n        }\n      }\n      // objects\n    } else {\n      for (i in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, i) &&\n          iterator.call(context, obj[i], i, obj) === false) {\n          return;\n        }\n      }\n    }\n  },\n\n  /**\n   * find if a string contains the string using indexOf\n   * @param {String} src\n   * @param {String} find\n   * @return {Boolean} found\n   */\n  inStr: function inStr(src, find) {\n    return src.indexOf(find) > -1;\n  },\n\n  /**\n   * find if a array contains the object using indexOf or a simple polyfill\n   * @param {String} src\n   * @param {String} find\n   * @return {Boolean|Number} false when not found, or the index\n   */\n  inArray: function inArray(src, find, deep) {\n    if (deep) {\n      for (var i = 0, len = src.length; i < len; i++) { // Array.findIndex\n        if (Object.keys(find).every(function(key) { return src[i][key] === find[key]; })) {\n          return i;\n        }\n      }\n      return -1;\n    }\n\n    if (src.indexOf) {\n      return src.indexOf(find);\n    } else {\n      for (var i = 0, len = src.length; i < len; i++) {\n        if (src[i] === find) {\n          return i;\n        }\n      }\n      return -1;\n    }\n  },\n\n  /**\n   * convert an array-like object (`arguments`, `touchlist`) to an array\n   * @param {Object} obj\n   * @return {Array}\n   */\n  toArray: function toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n  },\n\n  /**\n   * find if a node is in the given parent\n   * @param {HTMLElement} node\n   * @param {HTMLElement} parent\n   * @return {Boolean} found\n   */\n  hasParent: function hasParent(node, parent) {\n    while (node) {\n      if (node == parent) {\n        return true;\n      }\n      node = node.parentNode;\n    }\n    return false;\n  },\n\n  /**\n   * get the center of all the touches\n   * @param {Array} touches\n   * @return {Object} center contains `pageX`, `pageY`, `clientX` and `clientY` properties\n   */\n  getCenter: function getCenter(touches) {\n    var pageX = [],\n        pageY = [],\n        clientX = [],\n        clientY = [],\n        min = Math.min,\n        max = Math.max;\n\n    // no need to loop when only one touch\n    if (touches.length === 1) {\n      return {\n        pageX: touches[0].pageX,\n        pageY: touches[0].pageY,\n        clientX: touches[0].clientX,\n        clientY: touches[0].clientY\n      };\n    }\n\n    Utils.each(touches, function(touch) {\n      pageX.push(touch.pageX);\n      pageY.push(touch.pageY);\n      clientX.push(touch.clientX);\n      clientY.push(touch.clientY);\n    });\n\n    return {\n      pageX: (min.apply(Math, pageX) + max.apply(Math, pageX)) / 2,\n      pageY: (min.apply(Math, pageY) + max.apply(Math, pageY)) / 2,\n      clientX: (min.apply(Math, clientX) + max.apply(Math, clientX)) / 2,\n      clientY: (min.apply(Math, clientY) + max.apply(Math, clientY)) / 2\n    };\n  },\n\n  /**\n   * calculate the velocity between two points. unit is in px per ms.\n   * @param {Number} deltaTime\n   * @param {Number} deltaX\n   * @param {Number} deltaY\n   * @return {Object} velocity `x` and `y`\n   */\n  getVelocity: function getVelocity(deltaTime, deltaX, deltaY) {\n    return {\n      x: Math.abs(deltaX / deltaTime) || 0,\n      y: Math.abs(deltaY / deltaTime) || 0\n    };\n  },\n\n  /**\n   * calculate the angle between two coordinates\n   * @param {Touch} touch1\n   * @param {Touch} touch2\n   * @return {Number} angle\n   */\n  getAngle: function getAngle(touch1, touch2) {\n    var x = touch2.clientX - touch1.clientX,\n        y = touch2.clientY - touch1.clientY;\n\n    return Math.atan2(y, x) * 180 / Math.PI;\n  },\n\n  /**\n   * do a small comparison to get the direction between two touches.\n   * @param {Touch} touch1\n   * @param {Touch} touch2\n   * @return {String} direction matches `DIRECTION_LEFT|RIGHT|UP|DOWN`\n   */\n  getDirection: function getDirection(touch1, touch2) {\n    var x = Math.abs(touch1.clientX - touch2.clientX),\n        y = Math.abs(touch1.clientY - touch2.clientY);\n\n    if (x >= y) {\n      return touch1.clientX - touch2.clientX > 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return touch1.clientY - touch2.clientY > 0 ? DIRECTION_UP : DIRECTION_DOWN;\n  },\n\n  /**\n   * calculate the distance between two touches\n   * @param {Touch}touch1\n   * @param {Touch} touch2\n   * @return {Number} distance\n   */\n  getDistance: function getDistance(touch1, touch2) {\n    var x = touch2.clientX - touch1.clientX,\n        y = touch2.clientY - touch1.clientY;\n\n    return Math.sqrt((x * x) + (y * y));\n  },\n\n  /**\n   * calculate the scale factor between two touchLists\n   * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n   * @param {Array} start array of touches\n   * @param {Array} end array of touches\n   * @return {Number} scale\n   */\n  getScale: function getScale(start, end) {\n    // need two fingers...\n    if (start.length >= 2 && end.length >= 2) {\n      return this.getDistance(end[0], end[1]) / this.getDistance(start[0], start[1]);\n    }\n    return 1;\n  },\n\n  /**\n   * calculate the rotation degrees between two touchLists\n   * @param {Array} start array of touches\n   * @param {Array} end array of touches\n   * @return {Number} rotation\n   */\n  getRotation: function getRotation(start, end) {\n    // need two fingers\n    if (start.length >= 2 && end.length >= 2) {\n      return this.getAngle(end[1], end[0]) - this.getAngle(start[1], start[0]);\n    }\n    return 0;\n  },\n\n  /**\n   * find out if the direction is vertical   *\n   * @param {String} direction matches `DIRECTION_UP|DOWN`\n   * @return {Boolean} is_vertical\n   */\n  isVertical: function isVertical(direction) {\n    return direction == DIRECTION_UP || direction == DIRECTION_DOWN;\n  },\n\n  /**\n   * set css properties with their prefixes\n   * @param {HTMLElement} element\n   * @param {String} prop\n   * @param {String} value\n   * @param {Boolean} [toggle=true]\n   * @return {Boolean}\n   */\n  setPrefixedCss: function setPrefixedCss(element, prop, value, toggle) {\n    var prefixes = ['', 'Webkit', 'Moz', 'O', 'ms'];\n    prop = Utils.toCamelCase(prop);\n\n    for (var i = 0; i < prefixes.length; i++) {\n      var p = prop;\n      // prefixes\n      if (prefixes[i]) {\n        p = prefixes[i] + p.slice(0, 1).toUpperCase() + p.slice(1);\n      }\n\n      // test the style\n      if (p in element.style) {\n        element.style[p] = (toggle === null || toggle) && value || '';\n        break;\n      }\n    }\n  },\n\n  /**\n   * toggle browser default behavior by setting css properties.\n   * `userSelect='none'` also sets `element.onselectstart` to false\n   * `userDrag='none'` also sets `element.ondragstart` to false\n   *\n   * @param {HtmlElement} element\n   * @param {Object} props\n   * @param {Boolean} [toggle=true]\n   */\n  toggleBehavior: function toggleBehavior(element, props, toggle) {\n    if (!props || !element || !element.style) {\n      return;\n    }\n\n    // set the css properties\n    Utils.each(props, function(value, prop) {\n      Utils.setPrefixedCss(element, prop, value, toggle);\n    });\n\n    var falseFn = toggle && function() {\n      return false;\n    };\n\n    // also the disable onselectstart\n    if (props.userSelect == 'none') {\n      element.onselectstart = falseFn;\n    }\n    // and disable ondragstart\n    if (props.userDrag == 'none') {\n      element.ondragstart = falseFn;\n    }\n  },\n\n  /**\n   * convert a string with underscores to camelCase\n   * so prevent_default becomes preventDefault\n   * @param {String} str\n   * @return {String} camelCaseStr\n   */\n  toCamelCase: function toCamelCase(str) {\n    return str.replace(/[_-]([a-z])/g, function(s) {\n      return s[1].toUpperCase();\n    });\n  }\n};\n\n\n/**\n * @module GestureDetector\n */\n/**\n * @class Event\n * @static\n */\nEvent = GestureDetector.event = {\n  /**\n   * when touch events have been fired, this is true\n   * this is used to stop mouse events\n   * @property prevent_mouseevents\n   * @private\n   * @type {Boolean}\n   */\n  preventMouseEvents: false,\n\n  /**\n   * if EVENT_START has been fired\n   * @property started\n   * @private\n   * @type {Boolean}\n   */\n  started: false,\n\n  /**\n   * when the mouse is hold down, this is true\n   * @property should_detect\n   * @private\n   * @type {Boolean}\n   */\n  shouldDetect: false,\n\n  /**\n   * simple event binder with a hook and support for multiple types\n   * @param {HTMLElement} element\n   * @param {String} type\n   * @param {Function} handler\n   * @param {Object} [opt]\n   * @param {Function} [hook]\n   * @param {Object} hook.type\n   */\n  on: function on(element, type, handler, opt, hook) {\n    var types = type.split(' ');\n    Utils.each(types, function(type) {\n      Utils.on(element, type, handler, opt);\n      hook && hook(type);\n    });\n  },\n\n  /**\n   * simple event unbinder with a hook and support for multiple types\n   * @param {HTMLElement} element\n   * @param {String} type\n   * @param {Function} handler\n   * @param {Object} [opt]\n   * @param {Function} [hook]\n   * @param {Object} hook.type\n   */\n  off: function off(element, type, handler, opt, hook) {\n    var types = type.split(' ');\n    Utils.each(types, function(type) {\n      Utils.off(element, type, handler, opt);\n      hook && hook(type);\n    });\n  },\n\n  /**\n   * the core touch event handler.\n   * this finds out if we should to detect gestures\n   * @param {HTMLElement} element\n   * @param {String} eventType matches `EVENT_START|MOVE|END`\n   * @param {Function} handler\n   * @return onTouchHandler {Function} the core event handler\n   */\n  onTouch: function onTouch(element, eventType, handler, opt) {\n    var self = this;\n\n    var onTouchHandler = function onTouchHandler(ev) {\n      var srcType = ev.type.toLowerCase(),\n          isPointer = GestureDetector.HAS_POINTEREVENTS,\n          isMouse = Utils.inStr(srcType, 'mouse'),\n          triggerType;\n\n      // if we are in a mouseevent, but there has been a touchevent triggered in this session\n      // we want to do nothing. simply break out of the event.\n      if (isMouse && self.preventMouseEvents) {\n        return;\n\n        // mousebutton must be down\n      } else if (isMouse && eventType == EVENT_START && ev.button === 0) {\n        self.preventMouseEvents = false;\n        self.shouldDetect = true;\n      } else if (isPointer && eventType == EVENT_START) {\n        self.shouldDetect = (ev.buttons === 1 || PointerEvent.matchType(POINTER_TOUCH, ev));\n        // just a valid start event, but no mouse\n      } else if (!isMouse && eventType == EVENT_START) {\n        self.preventMouseEvents = true;\n        self.shouldDetect = true;\n      }\n\n      // update the pointer event before entering the detection\n      if (isPointer && eventType != EVENT_END) {\n        PointerEvent.updatePointer(eventType, ev);\n      }\n\n      // we are in a touch/down state, so allowed detection of gestures\n      if (self.shouldDetect) {\n        triggerType = self.doDetect.call(self, ev, eventType, element, handler);\n      }\n\n      // ...and we are done with the detection\n      // so reset everything to start each detection totally fresh\n      if (triggerType == EVENT_END) {\n        self.preventMouseEvents = false;\n        self.shouldDetect = false;\n        PointerEvent.reset();\n        // update the pointerevent object after the detection\n      }\n\n      if (isPointer && eventType == EVENT_END) {\n        PointerEvent.updatePointer(eventType, ev);\n      }\n    };\n\n    this.on(element, EVENT_TYPES[eventType], onTouchHandler, opt);\n    return onTouchHandler;\n  },\n\n  /**\n   * the core detection method\n   * this finds out what GestureDetector-touch-events to trigger\n   * @param {Object} ev\n   * @param {String} eventType matches `EVENT_START|MOVE|END`\n   * @param {HTMLElement} element\n   * @param {Function} handler\n   * @return {String} triggerType matches `EVENT_START|MOVE|END`\n   */\n  doDetect: function doDetect(ev, eventType, element, handler) {\n    var touchList = this.getTouchList(ev, eventType);\n    var touchListLength = touchList.length;\n    var triggerType = eventType;\n    var triggerChange = touchList.trigger; // used by fakeMultitouch plugin\n    var changedLength = touchListLength;\n\n    // at each touchstart-like event we want also want to trigger a TOUCH event...\n    if (eventType == EVENT_START) {\n      triggerChange = EVENT_TOUCH;\n      // ...the same for a touchend-like event\n    } else if (eventType == EVENT_END) {\n      triggerChange = EVENT_RELEASE;\n\n      // keep track of how many touches have been removed\n      changedLength = touchList.length - ((ev.changedTouches) ? ev.changedTouches.length : 1);\n    }\n\n    // after there are still touches on the screen,\n    // we just want to trigger a MOVE event. so change the START or END to a MOVE\n    // but only after detection has been started, the first time we actually want a START\n    if (changedLength > 0 && this.started) {\n      triggerType = EVENT_MOVE;\n    }\n\n    // detection has been started, we keep track of this, see above\n    this.started = true;\n\n    // generate some event data, some basic information\n    var evData = this.collectEventData(element, triggerType, touchList, ev);\n\n    // trigger the triggerType event before the change (TOUCH, RELEASE) events\n    // but the END event should be at last\n    if (eventType != EVENT_END) {\n      handler.call(Detection, evData);\n    }\n\n    // trigger a change (TOUCH, RELEASE) event, this means the length of the touches changed\n    if (triggerChange) {\n      evData.changedLength = changedLength;\n      evData.eventType = triggerChange;\n\n      handler.call(Detection, evData);\n\n      evData.eventType = triggerType;\n      delete evData.changedLength;\n    }\n\n    // trigger the END event\n    if (triggerType == EVENT_END) {\n      handler.call(Detection, evData);\n\n      // ...and we are done with the detection\n      // so reset everything to start each detection totally fresh\n      this.started = false;\n    }\n\n    return triggerType;\n  },\n\n  /**\n   * we have different events for each device/browser\n   * determine what we need and set them in the EVENT_TYPES constant\n   * the `onTouch` method is bind to these properties.\n   * @return {Object} events\n   */\n  determineEventTypes: function determineEventTypes() {\n    var types;\n    if (GestureDetector.HAS_POINTEREVENTS) {\n      if (window.PointerEvent) {\n        types = [\n          'pointerdown',\n          'pointermove',\n          'pointerup pointercancel lostpointercapture'\n        ];\n      } else {\n        types = [\n          'MSPointerDown',\n          'MSPointerMove',\n          'MSPointerUp MSPointerCancel MSLostPointerCapture'\n        ];\n      }\n    } else if (GestureDetector.NO_MOUSEEVENTS) {\n      types = [\n        'touchstart',\n        'touchmove',\n        'touchend touchcancel'\n      ];\n    } else {\n      types = [\n        'touchstart mousedown',\n        'touchmove mousemove',\n        'touchend touchcancel mouseup'\n      ];\n    }\n\n    EVENT_TYPES[EVENT_START] = types[0];\n    EVENT_TYPES[EVENT_MOVE] = types[1];\n    EVENT_TYPES[EVENT_END] = types[2];\n    return EVENT_TYPES;\n  },\n\n  /**\n   * create touchList depending on the event\n   * @param {Object} ev\n   * @param {String} eventType\n   * @return {Array} touches\n   */\n  getTouchList: function getTouchList(ev, eventType) {\n    // get the fake pointerEvent touchlist\n    if (GestureDetector.HAS_POINTEREVENTS) {\n      return PointerEvent.getTouchList();\n    }\n\n    // get the touchlist\n    if (ev.touches) {\n      if (eventType == EVENT_MOVE) {\n        return ev.touches;\n      }\n\n      var identifiers = [];\n      var concat = [].concat(Utils.toArray(ev.touches), Utils.toArray(ev.changedTouches));\n      var touchList = [];\n\n      Utils.each(concat, function(touch) {\n        if (Utils.inArray(identifiers, touch.identifier) === -1) {\n          touchList.push(touch);\n        }\n        identifiers.push(touch.identifier);\n      });\n\n      return touchList;\n    }\n\n    // make fake touchList from mouse position\n    ev.identifier = 1;\n    return [ev];\n  },\n\n  /**\n   * collect basic event data\n   * @param {HTMLElement} element\n   * @param {String} eventType matches `EVENT_START|MOVE|END`\n   * @param {Array} touches\n   * @param {Object} ev\n   * @return {Object} ev\n   */\n  collectEventData: function collectEventData(element, eventType, touches, ev) {\n    // find out pointerType\n    var pointerType = POINTER_TOUCH;\n    if (Utils.inStr(ev.type, 'mouse') || PointerEvent.matchType(POINTER_MOUSE, ev)) {\n      pointerType = POINTER_MOUSE;\n    } else if (PointerEvent.matchType(POINTER_PEN, ev)) {\n      pointerType = POINTER_PEN;\n    }\n\n    return {\n      center: Utils.getCenter(touches),\n      timeStamp: Date.now(),\n      target: ev.target,\n      touches: touches,\n      eventType: eventType,\n      pointerType: pointerType,\n      srcEvent: ev,\n\n      /**\n       * prevent the browser default actions\n       * mostly used to disable scrolling of the browser\n       */\n      preventDefault: function() {\n        var srcEvent = this.srcEvent;\n        srcEvent.preventManipulation && srcEvent.preventManipulation();\n        srcEvent.preventDefault && srcEvent.preventDefault();\n      },\n\n      /**\n       * stop bubbling the event up to its parents\n       */\n      stopPropagation: function() {\n        this.srcEvent.stopPropagation();\n      },\n\n      /**\n       * immediately stop gesture detection\n       * might be useful after a swipe was detected\n       * @return {*}\n       */\n      stopDetect: function() {\n        return Detection.stopDetect();\n      }\n    };\n  }\n};\n\n\n/**\n * @module GestureDetector\n *\n * @class PointerEvent\n * @static\n */\nPointerEvent = GestureDetector.PointerEvent = {\n  /**\n   * holds all pointers, by `identifier`\n   * @property pointers\n   * @type {Object}\n   */\n  pointers: {},\n\n  /**\n   * get the pointers as an array\n   * @return {Array} touchlist\n   */\n  getTouchList: function getTouchList() {\n    var touchlist = [];\n    // we can use forEach since pointerEvents only is in IE10\n    Utils.each(this.pointers, function(pointer) {\n      touchlist.push(pointer);\n    });\n    return touchlist;\n  },\n\n  /**\n   * update the position of a pointer\n   * @param {String} eventType matches `EVENT_START|MOVE|END`\n   * @param {Object} pointerEvent\n   */\n  updatePointer: function updatePointer(eventType, pointerEvent) {\n    if (eventType == EVENT_END || (eventType != EVENT_END && pointerEvent.buttons !== 1)) {\n      delete this.pointers[pointerEvent.pointerId];\n    } else {\n      pointerEvent.identifier = pointerEvent.pointerId;\n      this.pointers[pointerEvent.pointerId] = pointerEvent;\n    }\n  },\n\n  /**\n   * check if ev matches pointertype\n   * @param {String} pointerType matches `POINTER_MOUSE|TOUCH|PEN`\n   * @param {PointerEvent} ev\n   */\n  matchType: function matchType(pointerType, ev) {\n    if (!ev.pointerType) {\n      return false;\n    }\n\n    var pt = ev.pointerType,\n        types = {};\n\n    types[POINTER_MOUSE] = (pt === (ev.MSPOINTER_TYPE_MOUSE || POINTER_MOUSE));\n    types[POINTER_TOUCH] = (pt === (ev.MSPOINTER_TYPE_TOUCH || POINTER_TOUCH));\n    types[POINTER_PEN] = (pt === (ev.MSPOINTER_TYPE_PEN || POINTER_PEN));\n    return types[pointerType];\n  },\n\n  /**\n   * reset the stored pointers\n   */\n  reset: function resetList() {\n    this.pointers = {};\n  }\n};\n\n\n/**\n * @module GestureDetector\n *\n * @class Detection\n * @static\n */\nDetection = GestureDetector.detection = {\n  // contains all registered GestureDetector.gestures in the correct order\n  gestures: [],\n\n  // data of the current GestureDetector.gesture detection session\n  current: null,\n\n  // the previous GestureDetector.gesture session data\n  // is a full clone of the previous gesture.current object\n  previous: null,\n\n  // when this becomes true, no gestures are fired\n  stopped: false,\n\n  /**\n   * start GestureDetector.gesture detection\n   * @param {GestureDetector.Instance} inst\n   * @param {Object} eventData\n   */\n  startDetect: function startDetect(inst, eventData) {\n    // already busy with a GestureDetector.gesture detection on an element\n    if (this.current) {\n      return;\n    }\n\n    this.stopped = false;\n\n    // holds current session\n    this.current = {\n      inst: inst, // reference to GestureDetectorInstance we're working for\n      startEvent: Utils.extend({}, eventData), // start eventData for distances, timing etc\n      lastEvent: false, // last eventData\n      lastCalcEvent: false, // last eventData for calculations.\n      futureCalcEvent: false, // last eventData for calculations.\n      lastCalcData: {}, // last lastCalcData\n      name: '' // current gesture we're in/detected, can be 'tap', 'hold' etc\n    };\n\n    this.detect(eventData);\n  },\n\n  /**\n   * GestureDetector.gesture detection\n   * @param {Object} eventData\n   * @return {any}\n   */\n  detect: function detect(eventData) {\n    if (!this.current || this.stopped) {\n      return;\n    }\n\n    // extend event data with calculations about scale, distance etc\n    eventData = this.extendEventData(eventData);\n\n    // GestureDetector instance and instance options\n    var inst = this.current.inst,\n        instOptions = inst.options;\n\n    // call GestureDetector.gesture handlers\n    Utils.each(this.gestures, function triggerGesture(gesture) {\n      // only when the instance options have enabled this gesture\n      if (!this.stopped && inst.enabled && instOptions[gesture.name]) {\n        gesture.handler.call(gesture, eventData, inst);\n      }\n    }, this);\n\n    // store as previous event event\n    if (this.current) {\n      this.current.lastEvent = eventData;\n    }\n\n    if (eventData.eventType == EVENT_END) {\n      this.stopDetect();\n    }\n\n    return eventData; // eslint-disable-line consistent-return\n  },\n\n  /**\n   * clear the GestureDetector.gesture vars\n   * this is called on endDetect, but can also be used when a final GestureDetector.gesture has been detected\n   * to stop other GestureDetector.gestures from being fired\n   */\n  stopDetect: function stopDetect() {\n    // clone current data to the store as the previous gesture\n    // used for the double tap gesture, since this is an other gesture detect session\n    this.previous = Utils.extend({}, this.current);\n\n    // reset the current\n    this.current = null;\n    this.stopped = true;\n  },\n\n  /**\n   * calculate velocity, angle and direction\n   * @param {Object} ev\n   * @param {Object} center\n   * @param {Number} deltaTime\n   * @param {Number} deltaX\n   * @param {Number} deltaY\n   */\n  getCalculatedData: function getCalculatedData(ev, center, deltaTime, deltaX, deltaY) {\n    var cur = this.current,\n        recalc = false,\n        calcEv = cur.lastCalcEvent,\n        calcData = cur.lastCalcData;\n\n    if (calcEv && ev.timeStamp - calcEv.timeStamp > GestureDetector.CALCULATE_INTERVAL) {\n      center = calcEv.center;\n      deltaTime = ev.timeStamp - calcEv.timeStamp;\n      deltaX = ev.center.clientX - calcEv.center.clientX;\n      deltaY = ev.center.clientY - calcEv.center.clientY;\n      recalc = true;\n    }\n\n    if (ev.eventType == EVENT_TOUCH || ev.eventType == EVENT_RELEASE) {\n      cur.futureCalcEvent = ev;\n    }\n\n    if (!cur.lastCalcEvent || recalc) {\n      calcData.velocity = Utils.getVelocity(deltaTime, deltaX, deltaY);\n      calcData.angle = Utils.getAngle(center, ev.center);\n      calcData.direction = Utils.getDirection(center, ev.center);\n\n      cur.lastCalcEvent = cur.futureCalcEvent || ev;\n      cur.futureCalcEvent = ev;\n    }\n\n    ev.velocityX = calcData.velocity.x;\n    ev.velocityY = calcData.velocity.y;\n    ev.interimAngle = calcData.angle;\n    ev.interimDirection = calcData.direction;\n  },\n\n  /**\n   * extend eventData for GestureDetector.gestures\n   * @param {Object} ev\n   * @return {Object} ev\n   */\n  extendEventData: function extendEventData(ev) {\n    var cur = this.current,\n        startEv = cur.startEvent,\n        lastEv = cur.lastEvent || startEv;\n\n    // update the start touchlist to calculate the scale/rotation\n    if (ev.eventType == EVENT_TOUCH || ev.eventType == EVENT_RELEASE) {\n      startEv.touches = [];\n      Utils.each(ev.touches, function(touch) {\n        startEv.touches.push({\n          clientX: touch.clientX,\n          clientY: touch.clientY\n        });\n      });\n    }\n\n    var deltaTime = ev.timeStamp - startEv.timeStamp,\n        deltaX = ev.center.clientX - startEv.center.clientX,\n        deltaY = ev.center.clientY - startEv.center.clientY;\n\n    this.getCalculatedData(ev, lastEv.center, deltaTime, deltaX, deltaY);\n\n    Utils.extend(ev, {\n      startEvent: startEv,\n\n      deltaTime: deltaTime,\n      deltaX: deltaX,\n      deltaY: deltaY,\n\n      distance: Utils.getDistance(startEv.center, ev.center),\n      angle: Utils.getAngle(startEv.center, ev.center),\n      direction: Utils.getDirection(startEv.center, ev.center),\n      scale: Utils.getScale(startEv.touches, ev.touches),\n      rotation: Utils.getRotation(startEv.touches, ev.touches)\n    });\n\n    return ev;\n  },\n\n  /**\n   * register new gesture\n   * @param {Object} gesture object, see `gestures/` for documentation\n   * @return {Array} gestures\n   */\n  register: function register(gesture) {\n    // add an enable gesture options if there is no given\n    var options = gesture.defaults || {};\n    if (options[gesture.name] === undefined) {\n      options[gesture.name] = true;\n    }\n\n    // extend GestureDetector default options with the GestureDetector.gesture options\n    Utils.extend(GestureDetector.defaults, options, true);\n\n    // set its index\n    gesture.index = gesture.index || 1000;\n\n    // add GestureDetector.gesture to the list\n    this.gestures.push(gesture);\n\n    // sort the list by index\n    this.gestures.sort(function(a, b) {\n      if (a.index < b.index) {\n        return -1;\n      }\n      if (a.index > b.index) {\n        return 1;\n      }\n      return 0;\n    });\n\n    return this.gestures;\n  }\n};\n\n\n/**\n * @module GestureDetector\n */\n\n/**\n * create new GestureDetector instance\n * all methods should return the instance itself, so it is chainable.\n *\n * @class Instance\n * @constructor\n * @param {HTMLElement} element\n * @param {Object} [options={}] options are merged with `GestureDetector.defaults`\n * @return {GestureDetector.Instance}\n */\nGestureDetector.Instance = function(element, options) {\n  var self = this;\n  var listenerOptions = (options && options.passive) ? { passive: true } : undefined;\n\n  // setup GestureDetectorJS window events and register all gestures\n  // this also sets up the default options\n  setup(listenerOptions);\n\n  /**\n   * @property element\n   * @type {HTMLElement}\n   */\n  this.element = element;\n\n  /**\n   * @property enabled\n   * @type {Boolean}\n   * @protected\n   */\n  this.enabled = true;\n\n  /**\n   * options, merged with the defaults\n   * options with an _ are converted to camelCase\n   * @property options\n   * @type {Object}\n   */\n  Utils.each(options, function(value, name) {\n    delete options[name];\n    options[Utils.toCamelCase(name)] = value;\n  });\n\n  this.options = Utils.extend(Utils.extend({}, GestureDetector.defaults), options || {});\n  this.options.listenerOptions = listenerOptions;\n\n  // add some css to the element to prevent the browser from doing its native behavior\n  if (this.options.behavior) {\n    Utils.toggleBehavior(this.element, this.options.behavior, true);\n  }\n\n  /**\n   * event start handler on the element to start the detection\n   * @property eventStartHandler\n   * @type {Object}\n   */\n  this.eventStartHandler = Event.onTouch(element, EVENT_START, function(ev) {\n    if (self.enabled && ev.eventType == EVENT_START) {\n      Detection.startDetect(self, ev);\n    } else if (ev.eventType == EVENT_TOUCH) {\n      Detection.detect(ev);\n    }\n  }, listenerOptions);\n\n  /**\n   * keep a list of user event handlers which needs to be removed when calling 'dispose'\n   * @property eventHandlers\n   * @type {Array}\n   */\n  this.eventHandlers = [];\n};\n\nGestureDetector.Instance.prototype = {\n  /**\n   * @method on\n   * @signature on(gestures, handler)\n   * @description\n   *  [en]Adds an event handler for a gesture. Available gestures are: drag, dragleft, dragright, dragup, dragdown, hold, release, swipe, swipeleft, swiperight, swipeup, swipedown, tap, doubletap, touch, transform, pinch, pinchin, pinchout and rotate. [/en]\n   *  [ja]ジェスチャに対するイベントハンドラを追加します。指定できるジェスチャ名は、drag dragleft dragright dragup dragdown hold release swipe swipeleft swiperight swipeup swipedown tap doubletap touch transform pinch pinchin pinchout rotate です。[/ja]\n   * @param {String} gestures\n   *   [en]A space separated list of gestures.[/en]\n   *   [ja]検知するジェスチャ名を指定します。スペースで複数指定することができます。[/ja]\n   * @param {Function} handler\n   *   [en]An event handling function.[/en]\n   *   [ja]イベントハンドラとなる関数オブジェクトを指定します。[/ja]\n   */\n  on: function onEvent(gestures, handler, opt) {\n    var self = this;\n\n    Event.on(self.element, gestures, handler, util.extend({}, self.options.listenerOptions, opt), function(type) {\n      self.eventHandlers.push({ gesture: type, handler: handler });\n    });\n    return self;\n  },\n\n  /**\n   * @method off\n   * @signature off(gestures, handler)\n   * @description\n   *  [en]Remove an event listener.[/en]\n   *  [ja]イベントリスナーを削除します。[/ja]\n   * @param {String} gestures\n   *   [en]A space separated list of gestures.[/en]\n   *   [ja]ジェスチャ名を指定します。スペースで複数指定することができます。[/ja]\n   * @param {Function} handler\n   *   [en]An event handling function.[/en]\n   *   [ja]イベントハンドラとなる関数オブジェクトを指定します。[/ja]\n   */\n  off: function offEvent(gestures, handler, opt) {\n    var self = this;\n\n    Event.off(self.element, gestures, handler, util.extend({}, self.options.listenerOptions, opt), function(type) {\n      var index = Utils.inArray(self.eventHandlers, { gesture: type, handler: handler }, true);\n      if (index >= 0) {\n        self.eventHandlers.splice(index, 1);\n      }\n    });\n    return self;\n  },\n\n  /**\n   * trigger gesture event\n   * @method trigger\n   * @signature trigger(gesture, eventData)\n   * @param {String} gesture\n   * @param {Object} [eventData]\n   */\n  trigger: function triggerEvent(gesture, eventData) {\n    // optional\n    if (!eventData) {\n      eventData = {};\n    }\n\n    // create DOM event\n    var event = GestureDetector.DOCUMENT.createEvent('Event');\n    event.initEvent(gesture, true, true);\n    event.gesture = eventData;\n\n    // trigger on the target if it is in the instance element,\n    // this is for event delegation tricks\n    var element = this.element;\n    if (Utils.hasParent(eventData.target, element)) {\n      element = eventData.target;\n    }\n\n    element.dispatchEvent(event);\n    return this;\n  },\n\n  /**\n   * @method enable\n   * @signature enable(state)\n   * @description\n   *  [en]Enable or disable gesture detection.[/en]\n   *  [ja]ジェスチャ検知を有効化/無効化します。[/ja]\n   * @param {Boolean} state\n   *   [en]Specify if it should be enabled or not.[/en]\n   *   [ja]有効にするかどうかを指定します。[/ja]\n   */\n  enable: function enable(state) {\n    this.enabled = state;\n    return this;\n  },\n\n  /**\n   * @method dispose\n   * @signature dispose()\n   * @description\n   *  [en]Remove and destroy all event handlers for this instance.[/en]\n   *  [ja]このインスタンスでのジェスチャの検知や、イベントハンドラを全て解除して廃棄します。[/ja]\n   */\n  dispose: function dispose() {\n    var i, eh;\n\n    // undo all changes made by stop_browser_behavior\n    Utils.toggleBehavior(this.element, this.options.behavior, false);\n\n    // unbind all custom event handlers\n    for (i = -1; (eh = this.eventHandlers[++i]);) { // eslint-disable-line no-cond-assign\n      Utils.off(this.element, eh.gesture, eh.handler);\n    }\n\n    this.eventHandlers = [];\n\n    // unbind the start event listener\n    Event.off(this.element, EVENT_TYPES[EVENT_START], this.eventStartHandler);\n\n    return null;\n  }\n};\n\n\n/**\n * @module gestures\n */\n/**\n * Move with x fingers (default 1) around on the page.\n * Preventing the default browser behavior is a good way to improve feel and working.\n * ````\n *  GestureDetectortime.on(\"drag\", function(ev) {\n *    console.log(ev);\n *    ev.gesture.preventDefault();\n *  });\n * ````\n *\n * @class Drag\n * @static\n */\n/**\n * @event drag\n * @param {Object} ev\n */\n/**\n * @event dragstart\n * @param {Object} ev\n */\n/**\n * @event dragend\n * @param {Object} ev\n */\n/**\n * @event drapleft\n * @param {Object} ev\n */\n/**\n * @event dragright\n * @param {Object} ev\n */\n/**\n * @event dragup\n * @param {Object} ev\n */\n/**\n * @event dragdown\n * @param {Object} ev\n */\n\n/**\n * @param {String} name\n */\n(function(name) {\n  var triggered = false;\n\n  function dragGesture(ev, inst) {\n    var cur = Detection.current;\n\n    // max touches\n    if (inst.options.dragMaxTouches > 0 &&\n      ev.touches.length > inst.options.dragMaxTouches) {\n      return;\n    }\n\n    switch (ev.eventType) {\n    case EVENT_START:\n      triggered = false;\n      break;\n\n    case EVENT_MOVE:\n      // when the distance we moved is too small we skip this gesture\n      // or we can be already in dragging\n      if (ev.distance < inst.options.dragMinDistance &&\n        cur.name != name) {\n        return;\n      }\n\n      var startCenter = cur.startEvent.center;\n\n      // we are dragging!\n      if (cur.name != name) {\n        cur.name = name;\n        if (inst.options.dragDistanceCorrection && ev.distance > 0) {\n          // When a drag is triggered, set the event center to dragMinDistance pixels from the original event center.\n          // Without this correction, the dragged distance would jumpstart at dragMinDistance pixels instead of at 0.\n          // It might be useful to save the original start point somewhere\n          var factor = Math.abs(inst.options.dragMinDistance / ev.distance);\n          startCenter.pageX += ev.deltaX * factor;\n          startCenter.pageY += ev.deltaY * factor;\n          startCenter.clientX += ev.deltaX * factor;\n          startCenter.clientY += ev.deltaY * factor;\n\n          // recalculate event data using new start point\n          ev = Detection.extendEventData(ev);\n        }\n      }\n\n      // lock drag to axis?\n      if (cur.lastEvent.dragLockToAxis ||\n        ( inst.options.dragLockToAxis &&\n          inst.options.dragLockMinDistance <= ev.distance\n        )) {\n          ev.dragLockToAxis = true;\n        }\n\n        // keep direction on the axis that the drag gesture started on\n        var lastDirection = cur.lastEvent.direction;\n        if (ev.dragLockToAxis && lastDirection !== ev.direction) {\n          if (Utils.isVertical(lastDirection)) {\n            ev.direction = (ev.deltaY < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n          } else {\n            ev.direction = (ev.deltaX < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n          }\n        }\n\n        // first time, trigger dragstart event\n        if (!triggered) {\n          inst.trigger(name + 'start', ev);\n          triggered = true;\n        }\n\n        // trigger events\n        inst.trigger(name, ev);\n        inst.trigger(name + ev.direction, ev);\n\n        var isVertical = Utils.isVertical(ev.direction);\n\n        // block the browser events\n        if ((inst.options.dragBlockVertical && isVertical) ||\n          (inst.options.dragBlockHorizontal && !isVertical)) {\n          ev.preventDefault();\n        }\n        break;\n\n      case EVENT_RELEASE:\n        if (triggered && ev.changedLength <= inst.options.dragMaxTouches) {\n          inst.trigger(name + 'end', ev);\n          triggered = false;\n        }\n        break;\n\n      case EVENT_END:\n        triggered = false;\n        break;\n      }\n    }\n\n    GestureDetector.gestures.Drag = {\n      name: name,\n      index: 50,\n      handler: dragGesture,\n      defaults: {\n        /**\n         * minimal movement that have to be made before the drag event gets triggered\n         * @property dragMinDistance\n         * @type {Number}\n         * @default 10\n         */\n        dragMinDistance: 10,\n\n        /**\n         * Set dragDistanceCorrection to true to make the starting point of the drag\n         * be calculated from where the drag was triggered, not from where the touch started.\n         * Useful to avoid a jerk-starting drag, which can make fine-adjustments\n         * through dragging difficult, and be visually unappealing.\n         * @property dragDistanceCorrection\n         * @type {Boolean}\n         * @default true\n         */\n        dragDistanceCorrection: true,\n\n        /**\n         * set 0 for unlimited, but this can conflict with transform\n         * @property dragMaxTouches\n         * @type {Number}\n         * @default 1\n         */\n        dragMaxTouches: 1,\n\n        /**\n         * prevent default browser behavior when dragging occurs\n         * be careful with it, it makes the element a blocking element\n         * when you are using the drag gesture, it is a good practice to set this true\n         * @property dragBlockHorizontal\n         * @type {Boolean}\n         * @default false\n         */\n        dragBlockHorizontal: false,\n\n        /**\n         * same as `dragBlockHorizontal`, but for vertical movement\n         * @property dragBlockVertical\n         * @type {Boolean}\n         * @default false\n         */\n        dragBlockVertical: false,\n\n        /**\n         * dragLockToAxis keeps the drag gesture on the axis that it started on,\n         * It disallows vertical directions if the initial direction was horizontal, and vice versa.\n         * @property dragLockToAxis\n         * @type {Boolean}\n         * @default false\n         */\n        dragLockToAxis: false,\n\n        /**\n         * drag lock only kicks in when distance > dragLockMinDistance\n         * This way, locking occurs only when the distance has become large enough to reliably determine the direction\n         * @property dragLockMinDistance\n         * @type {Number}\n         * @default 25\n         */\n        dragLockMinDistance: 25\n      }\n    };\n  })('drag');\n\n  /**\n   * @module gestures\n   */\n  /**\n   * trigger a simple gesture event, so you can do anything in your handler.\n   * only usable if you know what your doing...\n   *\n   * @class Gesture\n   * @static\n   */\n  /**\n   * @event gesture\n   * @param {Object} ev\n   */\n  GestureDetector.gestures.Gesture = {\n    name: 'gesture',\n    index: 1337,\n    handler: function releaseGesture(ev, inst) {\n      inst.trigger(this.name, ev);\n    }\n  };\n\n  /**\n   * @module gestures\n   */\n  /**\n   * Touch stays at the same place for x time\n   *\n   * @class Hold\n   * @static\n   */\n  /**\n   * @event hold\n   * @param {Object} ev\n   */\n\n  /**\n   * @param {String} name\n   */\n  (function(name) {\n    var timer;\n\n    function holdGesture(ev, inst) {\n      var options = inst.options,\n          current = Detection.current;\n\n      switch (ev.eventType) {\n      case EVENT_START:\n        clearTimeout(timer);\n\n        // set the gesture so we can check in the timeout if it still is\n        current.name = name;\n\n        // set timer and if after the timeout it still is hold,\n        // we trigger the hold event\n        timer = setTimeout(function() {\n          if (current && current.name == name) {\n            inst.trigger(name, ev);\n          }\n        }, options.holdTimeout);\n        break;\n\n      case EVENT_MOVE:\n        if (ev.distance > options.holdThreshold) {\n          clearTimeout(timer);\n        }\n        break;\n\n      case EVENT_RELEASE:\n        clearTimeout(timer);\n        break;\n      }\n    }\n\n    GestureDetector.gestures.Hold = {\n      name: name,\n      index: 10,\n      defaults: {\n        /**\n         * @property holdTimeout\n         * @type {Number}\n         * @default 500\n         */\n        holdTimeout: 500,\n\n        /**\n         * movement allowed while holding\n         * @property holdThreshold\n         * @type {Number}\n         * @default 2\n         */\n        holdThreshold: 2\n      },\n      handler: holdGesture\n    };\n  })('hold');\n\n  /**\n   * @module gestures\n   */\n  /**\n   * when a touch is being released from the page\n   *\n   * @class Release\n   * @static\n   */\n  /**\n   * @event release\n   * @param {Object} ev\n   */\n  GestureDetector.gestures.Release = {\n    name: 'release',\n    index: Infinity,\n    handler: function releaseGesture(ev, inst) {\n      if (ev.eventType == EVENT_RELEASE) {\n        inst.trigger(this.name, ev);\n      }\n    }\n  };\n\n  /**\n   * @module gestures\n   */\n  /**\n   * triggers swipe events when the end velocity is above the threshold\n   * for best usage, set `preventDefault` (on the drag gesture) to `true`\n   * ````\n   *  GestureDetectortime.on(\"dragleft swipeleft\", function(ev) {\n   *    console.log(ev);\n   *    ev.gesture.preventDefault();\n   *  });\n   * ````\n   *\n   * @class Swipe\n   * @static\n   */\n  /**\n   * @event swipe\n   * @param {Object} ev\n   */\n  /**\n   * @event swipeleft\n   * @param {Object} ev\n   */\n  /**\n   * @event swiperight\n   * @param {Object} ev\n   */\n  /**\n   * @event swipeup\n   * @param {Object} ev\n   */\n  /**\n   * @event swipedown\n   * @param {Object} ev\n   */\n  GestureDetector.gestures.Swipe = {\n    name: 'swipe',\n    index: 40,\n    defaults: {\n      /**\n       * @property swipeMinTouches\n       * @type {Number}\n       * @default 1\n       */\n      swipeMinTouches: 1,\n\n      /**\n       * @property swipeMaxTouches\n       * @type {Number}\n       * @default 1\n       */\n      swipeMaxTouches: 1,\n\n      /**\n       * horizontal swipe velocity\n       * @property swipeVelocityX\n       * @type {Number}\n       * @default 0.6\n       */\n      swipeVelocityX: 0.6,\n\n      /**\n       * vertical swipe velocity\n       * @property swipeVelocityY\n       * @type {Number}\n       * @default 0.6\n       */\n      swipeVelocityY: 0.6\n    },\n\n    handler: function swipeGesture(ev, inst) {\n      if (ev.eventType == EVENT_RELEASE) {\n        var touches = ev.touches.length,\n            options = inst.options;\n\n        // max touches\n        if (touches < options.swipeMinTouches ||\n          touches > options.swipeMaxTouches) {\n          return;\n        }\n\n        // when the distance we moved is too small we skip this gesture\n        // or we can be already in dragging\n        if (ev.velocityX > options.swipeVelocityX ||\n          ev.velocityY > options.swipeVelocityY) {\n          // trigger swipe events\n          inst.trigger(this.name, ev);\n          inst.trigger(this.name + ev.direction, ev);\n        }\n      }\n    }\n  };\n\n  /**\n   * @module gestures\n   */\n  /**\n   * Single tap and a double tap on a place\n   *\n   * @class Tap\n   * @static\n   */\n  /**\n   * @event tap\n   * @param {Object} ev\n   */\n  /**\n   * @event doubletap\n   * @param {Object} ev\n   */\n\n  /**\n   * @param {String} name\n   */\n  (function(name) {\n    var hasMoved = false;\n\n    function tapGesture(ev, inst) {\n      var options = inst.options,\n          current = Detection.current,\n          prev = Detection.previous,\n          sincePrev,\n          didDoubleTap;\n\n      switch (ev.eventType) {\n      case EVENT_START:\n        hasMoved = false;\n        break;\n\n      case EVENT_MOVE:\n        hasMoved = hasMoved || (ev.distance > options.tapMaxDistance);\n        break;\n\n      case EVENT_END:\n        if (!Utils.inStr(ev.srcEvent.type, 'cancel') && ev.deltaTime < options.tapMaxTime && !hasMoved) {\n          // previous gesture, for the double tap since these are two different gesture detections\n          sincePrev = prev && prev.lastEvent && ev.timeStamp - prev.lastEvent.timeStamp;\n          didDoubleTap = false;\n\n          // check if double tap\n          if (prev && prev.name == name &&\n            (sincePrev && sincePrev < options.doubleTapInterval) &&\n            ev.distance < options.doubleTapDistance) {\n            inst.trigger('doubletap', ev);\n            didDoubleTap = true;\n          }\n\n          // do a single tap\n          if (!didDoubleTap || options.tapAlways) {\n            current.name = name;\n            inst.trigger(current.name, ev);\n          }\n        }\n        break;\n      }\n    }\n\n    GestureDetector.gestures.Tap = {\n      name: name,\n      index: 100,\n      handler: tapGesture,\n      defaults: {\n        /**\n         * max time of a tap, this is for the slow tappers\n         * @property tapMaxTime\n         * @type {Number}\n         * @default 250\n         */\n        tapMaxTime: 250,\n\n        /**\n         * max distance of movement of a tap, this is for the slow tappers\n         * @property tapMaxDistance\n         * @type {Number}\n         * @default 10\n         */\n        tapMaxDistance: 10,\n\n        /**\n         * always trigger the `tap` event, even while double-tapping\n         * @property tapAlways\n         * @type {Boolean}\n         * @default true\n         */\n        tapAlways: true,\n\n        /**\n         * max distance between two taps\n         * @property doubleTapDistance\n         * @type {Number}\n         * @default 20\n         */\n        doubleTapDistance: 20,\n\n        /**\n         * max time between two taps\n         * @property doubleTapInterval\n         * @type {Number}\n         * @default 300\n         */\n        doubleTapInterval: 300\n      }\n    };\n  })('tap');\n\n  /**\n   * @module gestures\n   */\n  /**\n   * when a touch is being touched at the page\n   *\n   * @class Touch\n   * @static\n   */\n  /**\n   * @event touch\n   * @param {Object} ev\n   */\n  GestureDetector.gestures.Touch = {\n    name: 'touch',\n    index: -Infinity,\n    defaults: {\n      /**\n       * call preventDefault at touchstart, and makes the element blocking by disabling the scrolling of the page,\n       * but it improves gestures like transforming and dragging.\n       * be careful with using this, it can be very annoying for users to be stuck on the page\n       * @property preventDefault\n       * @type {Boolean}\n       * @default false\n       */\n      preventDefault: false,\n\n      /**\n       * disable mouse events, so only touch (or pen!) input triggers events\n       * @property preventMouse\n       * @type {Boolean}\n       * @default false\n       */\n      preventMouse: false\n    },\n    handler: function touchGesture(ev, inst) {\n      if (inst.options.preventMouse && ev.pointerType == POINTER_MOUSE) {\n        ev.stopDetect();\n        return;\n      }\n\n      if (inst.options.preventDefault) {\n        ev.preventDefault();\n      }\n\n      if (ev.eventType == EVENT_TOUCH) {\n        inst.trigger('touch', ev);\n      }\n    }\n  };\n\n  /**\n   * @module gestures\n   */\n  /**\n   * User want to scale or rotate with 2 fingers\n   * Preventing the default browser behavior is a good way to improve feel and working. This can be done with the\n   * `preventDefault` option.\n   *\n   * @class Transform\n   * @static\n   */\n  /**\n   * @event transform\n   * @param {Object} ev\n   */\n  /**\n   * @event transformstart\n   * @param {Object} ev\n   */\n  /**\n   * @event transformend\n   * @param {Object} ev\n   */\n  /**\n   * @event pinchin\n   * @param {Object} ev\n   */\n  /**\n   * @event pinchout\n   * @param {Object} ev\n   */\n  /**\n   * @event rotate\n   * @param {Object} ev\n   */\n\n  /**\n   * @param {String} name\n   */\n  (function(name) {\n    var triggered = false;\n\n    function transformGesture(ev, inst) {\n      switch (ev.eventType) {\n      case EVENT_START:\n        triggered = false;\n        break;\n\n      case EVENT_MOVE:\n        // at least multitouch\n        if (ev.touches.length < 2) {\n          return;\n        }\n\n        var scaleThreshold = Math.abs(1 - ev.scale);\n        var rotationThreshold = Math.abs(ev.rotation);\n\n        // when the distance we moved is too small we skip this gesture\n        // or we can be already in dragging\n        if (scaleThreshold < inst.options.transformMinScale &&\n          rotationThreshold < inst.options.transformMinRotation) {\n          return;\n        }\n\n        // we are transforming!\n        Detection.current.name = name;\n\n        // first time, trigger dragstart event\n        if (!triggered) {\n          inst.trigger(name + 'start', ev);\n          triggered = true;\n        }\n\n        inst.trigger(name, ev); // basic transform event\n\n        // trigger rotate event\n        if (rotationThreshold > inst.options.transformMinRotation) {\n          inst.trigger('rotate', ev);\n        }\n\n        // trigger pinch event\n        if (scaleThreshold > inst.options.transformMinScale) {\n          inst.trigger('pinch', ev);\n          inst.trigger('pinch' + (ev.scale < 1 ? 'in' : 'out'), ev);\n        }\n        break;\n\n      case EVENT_RELEASE:\n        if (triggered && ev.changedLength < 2) {\n          inst.trigger(name + 'end', ev);\n          triggered = false;\n        }\n        break;\n      }\n    }\n\n    GestureDetector.gestures.Transform = {\n      name: name,\n      index: 45,\n      defaults: {\n        /**\n         * minimal scale factor, no scale is 1, zoomin is to 0 and zoomout until higher then 1\n         * @property transformMinScale\n         * @type {Number}\n         * @default 0.01\n         */\n        transformMinScale: 0.01,\n\n        /**\n         * rotation in degrees\n         * @property transformMinRotation\n         * @type {Number}\n         * @default 1\n         */\n        transformMinRotation: 1\n      },\n\n      handler: transformGesture\n    };\n  })('transform');\n\nexport default GestureDetector;\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nlet readyMap, queueMap;\n\nfunction isContentReady(element) {\n  if (element.childNodes.length > 0) {\n    setContentReady(element);\n  }\n  return readyMap.has(element);\n}\n\nfunction setContentReady(element) {\n  readyMap.set(element, true);\n}\n\nfunction addCallback(element, fn) {\n  if (!queueMap.has(element)) {\n    queueMap.set(element, []);\n  }\n  queueMap.get(element).push(fn);\n}\n\nfunction consumeQueue(element) {\n  const callbacks = queueMap.get(element, []) || [];\n  queueMap.delete(element);\n  callbacks.forEach(callback => callback());\n}\n\nexport default function contentReady(element, fn = () => {}) {\n  if (readyMap === undefined) {\n    readyMap = new WeakMap();\n    queueMap = new WeakMap();\n  }\n\n  addCallback(element, fn);\n\n  if (isContentReady(element)) {\n    consumeQueue(element);\n    return;\n  }\n\n  const observer = new MutationObserver(changes => {\n    setContentReady(element);\n    consumeQueue(element);\n  });\n  observer.observe(element, {childList: true, characterData: true});\n\n  // failback for elements has empty content.\n  setImmediate(() => {\n    setContentReady(element);\n    consumeQueue(element);\n  });\n}\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nclass ToastQueue {\n  constructor() {\n    this.queue = [];\n  }\n\n  add(fn, promise) {\n    this.queue.push(fn);\n\n    if (this.queue.length === 1) {\n      setImmediate(this.queue[0]);\n    }\n\n    promise.then(() => {\n      this.queue.shift();\n\n      if (this.queue.length > 0) {\n        setTimeout(this.queue[0], 1000/30); // Apply some visual delay\n      }\n    });\n  }\n}\n\nexport default new ToastQueue();\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport util from './util.js';\nimport contentReady from './content-ready.js';\nimport ToastQueue from './internal/toast-queue.js';\n\nconst _setAttributes = (element, options) => {\n  ['id', 'class', 'animation']\n    .forEach(a => Object.prototype.hasOwnProperty.call(options, a) && element.setAttribute(a, options[a]));\n\n  if (options.modifier) {\n    util.addModifier(element, options.modifier);\n  }\n};\n\nconst _normalizeArguments = (message, options = {}, defaults = {}) => {\n  options = { ...options };\n  typeof message === 'string' ? (options.message = message) : (options = message);\n  if (!options || !options.message && !options.messageHTML) {\n    util.throw('Notifications must contain a message');\n  }\n\n  if (Object.prototype.hasOwnProperty.call(options, 'buttonLabels') || Object.prototype.hasOwnProperty.call(options, 'buttonLabel')) {\n    options.buttonLabels = options.buttonLabels || options.buttonLabel;\n    if (!Array.isArray(options.buttonLabels)) {\n      options.buttonLabels = [options.buttonLabels || ''];\n    }\n  }\n\n  return util.extend({\n      compile: param => param,\n      callback: param => param,\n      animation: 'default',\n      cancelable: false,\n      primaryButtonIndex: (options.buttonLabels || defaults.buttonLabels || []).length - 1\n    }, defaults, options);\n};\n\n/**\n * @object ons.notification\n * @category dialog\n * @tutorial vanilla/Reference/notification\n * @description\n *   [en]\n *     Utility methods to create different kinds of notifications. There are three methods available:\n *\n *     * `ons.notification.alert()`\n *     * `ons.notification.confirm()`\n *     * `ons.notification.prompt()`\n *     * `ons.notification.toast()`\n *\n *     It will automatically display a Material Design dialog on Android devices.\n *   [/en]\n *   [ja]いくつかの種類のアラートダイアログを作成するためのユーティリティメソッドを収めたオブジェクトです。[/ja]\n * @example\n * ons.notification.alert('Hello, world!');\n *\n * ons.notification.confirm('Are you ready?')\n *   .then(\n *     function(answer) {\n *       if (answer === 1) {\n *         ons.notification.alert('Let\\'s go!');\n *       }\n *     }\n *   );\n *\n * ons.notification.prompt('How old are ?')\n *   .then(\n *     function(age) {\n *       ons.notification.alert('You are ' + age + ' years old.');\n *     }\n *   );\n */\nconst notification = {};\n\nnotification._createAlertDialog = (...params) => new Promise(resolve => {\n  const options = _normalizeArguments(...params);\n  util.checkMissingImport('AlertDialog', 'AlertDialogButton');\n\n  // Prompt input string\n  let inputString = '';\n  if (options.isPrompt) {\n    inputString = `\n      <input\n        class=\"text-input text-input--underbar\"\n        type=\"${options.inputType || 'text'}\"\n        placeholder=\"${options.placeholder || ''}\"\n        value=\"${options.defaultValue || ''}\"\n        style=\"width: 100%; margin-top: 10px;\"\n      />\n    `;\n  }\n\n  // Buttons string\n  let buttons = '';\n  options.buttonLabels.forEach((label, index) => {\n    buttons += `\n      <ons-alert-dialog-button\n        class=\"\n          ${index === options.primaryButtonIndex ? ' alert-dialog-button--primal' : ''}\n          ${options.buttonLabels.length <= 2 ? ' alert-dialog-button--rowfooter' : ''}\n        \"\n        style=\"position: relative;\">\n        ${label}\n      </ons-alert-dialog-button>\n    `;\n  });\n\n  // Dialog Element\n  let el = {};\n  const _destroyDialog = () => {\n    if (el.dialog.onDialogCancel) {\n      el.dialog.removeEventListener('dialogcancel', el.dialog.onDialogCancel);\n    }\n\n    Object.keys(el).forEach(key => delete el[key]);\n    el = null;\n\n    if (options.destroy instanceof Function) {\n      options.destroy();\n    }\n  };\n\n  el.dialog = document.createElement('ons-alert-dialog');\n  el.dialog.innerHTML = `\n    <div class=\"alert-dialog-mask\"\n      style=\"\n        ${options.maskColor ? 'background-color: ' + options.maskColor : ''}\n      \"></div>\n    <div class=\"alert-dialog\">\n      <div class=\"alert-dialog-container\">\n        <div class=\"alert-dialog-title\">\n          ${options.title || ''}\n        </div>\n        <div class=\"alert-dialog-content\">\n          ${options.message || options.messageHTML}\n          ${inputString}\n        </div>\n        <div class=\"\n          alert-dialog-footer\n          ${options.buttonLabels.length <= 2 ? ' alert-dialog-footer--rowfooter' : ''}\n        \">\n          ${buttons}\n        </div>\n      </div>\n    </div>\n  `;\n  contentReady(el.dialog);\n\n  // Set attributes\n  _setAttributes(el.dialog, options);\n\n  // Prompt events\n  if (options.isPrompt) {\n    el.input = el.dialog.querySelector('.text-input');\n\n    if (options.submitOnEnter) {\n      el.input.onkeypress = event => {\n        if (event.keyCode === 13) {\n          el.dialog.hide()\n            .then(() => {\n              if (el) {\n                const resolveValue = el.input.value;\n                _destroyDialog();\n                options.callback(resolveValue);\n                resolve(resolveValue);\n              }\n            });\n        }\n      };\n    }\n  }\n\n  // Button events\n  el.footer = el.dialog.querySelector('.alert-dialog-footer');\n  util.arrayFrom(el.dialog.querySelectorAll('.alert-dialog-button')).forEach((buttonElement, index) => {\n    buttonElement.onclick = () => {\n        el.dialog.hide()\n          .then(() => {\n            if (el) {\n              let resolveValue = index;\n              if (options.isPrompt) {\n                resolveValue = index === options.primaryButtonIndex ? el.input.value : null;\n              }\n              el.dialog.remove();\n              _destroyDialog();\n              options.callback(resolveValue);\n              resolve(resolveValue);\n            }\n          });\n    };\n\n    el.footer.appendChild(buttonElement);\n  });\n\n  // Cancel events\n  if (options.cancelable) {\n    el.dialog.cancelable = true;\n    el.dialog.onDialogCancel = () => {\n      setImmediate(() => {\n        el.dialog.remove();\n        _destroyDialog();\n      });\n      const resolveValue = options.isPrompt ? null : -1;\n      options.callback(resolveValue);\n      resolve(resolveValue);\n    };\n    el.dialog.addEventListener('dialogcancel', el.dialog.onDialogCancel, false);\n  }\n\n  // Show dialog\n  document.body.appendChild(el.dialog);\n  options.compile(el.dialog);\n  setImmediate(() => {\n    el.dialog.show()\n      .then(() => {\n        if (el.input && options.isPrompt && options.autofocus) {\n          const strLength = el.input.value.length;\n          el.input.focus();\n          if (el.input.type &&\n            ['text', 'search', 'url', 'tel', 'password'].includes(el.input.type)) {\n            el.input.setSelectionRange(strLength, strLength);\n          }\n        }\n      });\n  });\n});\n\n/**\n * @method alert\n * @signature alert(message [, options] | options)\n * @return {Promise}\n *   [en]Will resolve to the index of the button that was pressed or `-1` when canceled.[/en]\n *   [ja][/ja]\n * @param {String} message\n *   [en]Notification message. This argument is optional but if it's not defined either `options.message` or `options.messageHTML` must be defined instead.[/en]\n *   [ja][/ja]\n * @param {Object} options\n *   [en]Parameter object.[/en]\n *   [ja]オプションを指定するオブジェクトです。[/ja]\n * @param {String} [options.message]\n *   [en]Notification message.[/en]\n *   [ja]アラートダイアログに表示する文字列を指定します。[/ja]\n * @param {String} [options.messageHTML]\n *   [en]Notification message in HTML.[/en]\n *   [ja]アラートダイアログに表示するHTMLを指定します。[/ja]\n * @param {String | Array} [options.buttonLabels]\n *   [en]Labels for the buttons. Default is `\"OK\"`.[/en]\n *   [ja]確認ボタンのラベルを指定します。\"OK\"がデフォルトです。[/ja]\n * @param {Number} [options.primaryButtonIndex]\n *   [en]Index of primary button. Default is the last one.[/en]\n *   [ja]プライマリボタンのインデックスを指定します。デフォルトは 0 です。[/ja]\n * @param {Boolean} [options.cancelable]\n *   [en]Whether the dialog is cancelable or not. Default is `false`. If the dialog is cancelable it can be closed by clicking the background or pressing the Android back button.[/en]\n *   [ja]ダイアログがキャンセル可能かどうかを指定します。[/ja]\n * @param {String} [options.animation]\n *   [en]Animation name. Available animations are `none` and `fade`. Default is `fade`.[/en]\n *   [ja]アラートダイアログを表示する際のアニメーション名を指定します。\"none\", \"fade\"のいずれかを指定できます。[/ja]\n * @param {String} [options.id]\n *   [en]The `<ons-alert-dialog>` element's ID.[/en]\n *   [ja]ons-alert-dialog要素のID。[/ja]\n * @param {String} [options.class]\n *   [en]The `<ons-alert-dialog>` element's class.[/en]\n *   [ja]ons-alert-dialog要素のclass。[/ja]\n * @param {String} [options.title]\n *   [en]Dialog title. Default is `\"Alert\"`.[/en]\n *   [ja]アラートダイアログの上部に表示するタイトルを指定します。\"Alert\"がデフォルトです。[/ja]\n * @param {String} [options.modifier]\n *   [en]Modifier for the dialog.[/en]\n *   [ja]アラートダイアログのmodifier属性の値を指定します。[/ja]\n * @param {String} [options.maskColor]\n *   [en]Color of the background mask. Default is \"rgba(0, 0, 0, 0.2)\" (\"rgba(0, 0, 0, 0.3)\" for Material).[/en]\n *   [ja]背景のマスクの色を指定します。\"rgba(0, 0, 0, 0.2)\"がデフォルト値です。[/ja]\n * @param {Function} [options.callback]\n *   [en]Function that executes after dialog has been closed.[/en]\n *   [ja]アラートダイアログが閉じられた時に呼び出される関数オブジェクトを指定します。[/ja]\n * @description\n *   [en]\n *     Display an alert dialog to show the user a message.\n *\n *     The content of the message can be either simple text or HTML.\n *\n *     It can be called in the following ways:\n *\n *     ```\n *     ons.notification.alert(message, options);\n *     ons.notification.alert(options);\n *     ```\n *\n *     Must specify either `message` or `messageHTML`.\n *   [/en]\n *   [ja]\n *     ユーザーへメッセージを見せるためのアラートダイアログを表示します。\n *     表示するメッセージは、テキストかもしくはHTMLを指定できます。\n *     このメソッドの引数には、options.messageもしくはoptions.messageHTMLのどちらかを必ず指定する必要があります。\n *   [/ja]\n */\nnotification.alert = (message, options) =>\n  notification._createAlertDialog(message, options, {\n    buttonLabels: ['OK'],\n    title: 'Alert'\n  });\n\n/**\n * @method confirm\n * @signature confirm(message [, options] | options)\n * @return {Promise}\n *   [en]Will resolve to the index of the button that was pressed or `-1` when canceled.[/en]\n *   [ja][/ja]\n * @param {String} message\n *   [en]Notification message. This argument is optional but if it's not defined either `options.message` or `options.messageHTML` must be defined instead.[/en]\n *   [ja][/ja]\n * @param {Object} options\n *   [en]Parameter object.[/en]\n * @param {Array} [options.buttonLabels]\n *   [en]Labels for the buttons. Default is `[\"Cancel\", \"OK\"]`.[/en]\n *   [ja]ボタンのラベルの配列を指定します。[\"Cancel\", \"OK\"]がデフォルトです。[/ja]\n * @param {Number} [options.primaryButtonIndex]\n *   [en]Index of primary button. Default is the last one.[/en]\n *   [ja]プライマリボタンのインデックスを指定します。デフォルトは 1 です。[/ja]\n * @description\n *   [en]\n *     Display a dialog to ask the user for confirmation. Extends `alert()` parameters.\n *     The default button labels are `\"Cancel\"` and `\"OK\"` but they can be customized.\n *\n *     It can be called in the following ways:\n *\n *     ```\n *     ons.notification.confirm(message, options);\n *     ons.notification.confirm(options);\n *     ```\n *\n *     Must specify either `message` or `messageHTML`.\n *   [/en]\n *   [ja]\n *     ユーザに確認を促すダイアログを表示します。\n *     デオルとのボタンラベルは、\"Cancel\"と\"OK\"ですが、これはこのメソッドの引数でカスタマイズできます。\n *     このメソッドの引数には、options.messageもしくはoptions.messageHTMLのどちらかを必ず指定する必要があります。\n *   [/ja]\n */\nnotification.confirm = (message, options) =>\n  notification._createAlertDialog(message, options, {\n    buttonLabels: ['Cancel', 'OK'],\n    title: 'Confirm'\n  });\n\n/**\n * @method prompt\n * @signature prompt(message [, options] | options)\n * @param {String} message\n *   [en]Notification message. This argument is optional but if it's not defined either `options.message` or `options.messageHTML` must be defined instead.[/en]\n *   [ja][/ja]\n * @return {Promise}\n *   [en]Will resolve to the input value when the dialog is closed or `null` when canceled.[/en]\n *   [ja][/ja]\n * @param {Object} options\n *   [en]Parameter object.[/en]\n *   [ja]オプションを指定するオブジェクトです。[/ja]\n * @param {String | Array} [options.buttonLabels]\n *   [en]Labels for the buttons. Default is `\"OK\"`.[/en]\n *   [ja]確認ボタンのラベルを指定します。\"OK\"がデフォルトです。[/ja]\n * @param {Number} [options.primaryButtonIndex]\n *   [en]Index of primary button. Default is the last one.[/en]\n *   [ja]プライマリボタンのインデックスを指定します。デフォルトは 0 です。[/ja]\n * @param {String} [options.placeholder]\n *   [en]Placeholder for the text input.[/en]\n *   [ja]テキスト欄のプレースホルダに表示するテキストを指定します。[/ja]\n * @param {String} [options.defaultValue]\n *   [en]Default value for the text input.[/en]\n *   [ja]テキスト欄のデフォルトの値を指定します。[/ja]\n * @param {String} [options.inputType]\n *   [en]Type of the input element (`password`, `date`...). Default is `text`.[/en]\n *   [ja][/ja]\n * @param {Boolean} [options.autofocus]\n *   [en]Autofocus the input element. Default is `true`. In Cordova, `KeyboardDisplayRequiresUserAction` in `config.xml` must be `false` to activate this feature.[/en]\n *   [ja]input要素に自動的にフォーカスするかどうかを指定します。デフォルトはtrueです。Cordova環境では、この機能を有効にするためには `config.xml` で `KeyboardDisplayRequiresUserAction` を `false` に設定する必要があります。[/ja]\n * @param {Boolean} [options.submitOnEnter]\n *   [en]Submit automatically when enter is pressed. Default is `true`.[/en]\n *   [ja]Enterが押された際にそのformをsubmitするかどうかを指定します。デフォルトはtrueです。[/ja]\n * @description\n *   [en]\n *     Display a dialog with a prompt to ask the user a question. Extends `alert()` parameters.\n *\n *     It can be called in the following ways:\n *\n *     ```\n *     ons.notification.prompt(message, options);\n *     ons.notification.prompt(options);\n *     ```\n *\n *     Must specify either `message` or `messageHTML`.\n *   [/en]\n *   [ja]\n *     ユーザーに入力を促すダイアログを表示します。\n *     このメソッドの引数には、options.messageもしくはoptions.messageHTMLのどちらかを必ず指定する必要があります。\n *   [/ja]\n */\nnotification.prompt = (message, options) =>\n  notification._createAlertDialog(message, options, {\n    buttonLabels: ['OK'],\n    title: 'Alert',\n    isPrompt: true,\n    autofocus: true,\n    submitOnEnter: true\n  });\n\n/**\n * @method toast\n * @signature toast(message [, options] | options)\n * @return {Promise}\n *   [en]Will resolve when the toast is hidden.[/en]\n *   [ja][/ja]\n * @param {String} message\n *   [en]Toast message. This argument is optional but if it's not defined then `options.message` must be defined instead.[/en]\n *   [ja][/ja]\n * @param {Object} options\n *   [en]Parameter object.[/en]\n *   [ja]オプションを指定するオブジェクトです。[/ja]\n * @param {String} [options.message]\n *   [en]Notification message.[/en]\n *   [ja]トーストに表示する文字列を指定します。[/ja]\n * @param {String} [options.buttonLabel]\n *   [en]Label for the button.[/en]\n *   [ja]確認ボタンのラベルを指定します。[/ja]\n * @param {String} [options.animation]\n *   [en]Animation name. Available animations are `none`, `fade`, `ascend`, `lift` and `fall`. Default is `ascend` for Android and `lift` for iOS.[/en]\n *   [ja]トーストを表示する際のアニメーション名を指定します。\"none\", \"fade\", \"ascend\", \"lift\", \"fall\"のいずれかを指定できます。[/ja]\n * @param {Number} [options.timeout]\n *   [en]Number of miliseconds where the toast is visible before hiding automatically.[/en]\n *   [ja][/ja]\n * @param {Boolean} [options.force]\n *   [en]If `true`, the toast skips the notification queue and is shown immediately. Defaults to `false`.[/en]\n *   [ja][/ja]\n * @param {String} [options.id]\n *   [en]The `<ons-toast>` element's ID.[/en]\n *   [ja]ons-toast要素のID。[/ja]\n * @param {String} [options.class]\n *   [en]The `<ons-toast>` element's class.[/en]\n *   [ja]ons-toast要素のclass。[/ja]\n * @param {String} [options.modifier]\n *   [en]Modifier for the element.[/en]\n *   [ja]トーストのmodifier属性の値を指定します。[/ja]\n * @param {Function} [options.callback]\n *   [en]Function that executes after toast has been hidden.[/en]\n *   [ja]トーストが閉じられた時に呼び出される関数オブジェクトを指定します。[/ja]\n * @description\n *   [en]\n *     Display a simple notification toast with an optional button that can be used for simple actions.\n *\n *     It can be called in the following ways:\n *\n *     ```\n *     ons.notification.toast(message, options);\n *     ons.notification.toast(options);\n *     ```\n *   [/en]\n *   [ja][/ja]\n */\nnotification.toast = (message, options) => {\n  const promise = new Promise(resolve => {\n    util.checkMissingImport('Toast'); // Throws error, must be inside promise\n\n    options = _normalizeArguments(message, options, {\n      timeout: 0,\n      force: false\n    });\n\n    let toast = util.createElement(`\n      <ons-toast>\n        ${options.message}\n        ${options.buttonLabels ? `<button>${options.buttonLabels[0]}</button>` : ''}\n      </ons-toast>\n    `);\n\n    _setAttributes(toast, options);\n\n    const originalHide = toast.hide.bind(toast);\n\n    const finish = value => {\n      if (toast) {\n        originalHide()\n        .then(() => {\n          if (toast) {\n            toast.remove();\n            toast = null;\n            options.callback(value);\n            resolve(value);\n          }\n        });\n      }\n    };\n\n    if (options.buttonLabels) {\n      util.findChild(toast._toast, 'button').onclick = () => finish(0);\n    }\n\n    // overwrite so that ons.notification.hide resolves when toast.hide is called\n    toast.hide = () => finish(-1);\n\n    document.body.appendChild(toast);\n    options.compile(toast);\n\n    const show = () => {\n      toast.parentElement && toast.show(options).then(() => {\n        if (options.timeout) {\n          setTimeout(() => finish(-1), options.timeout);\n        }\n      });\n    };\n\n    setImmediate(() => options.force ? show() : ToastQueue.add(show, promise));\n  });\n\n  return promise;\n};\n\nexport default notification;\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport util from './util.js';\n\n// Validate parameters\nconst checkOptions = options => {\n  const err = (prop, type = 'Function') => util.throw(`\"options.${prop}\" must be an instance of ${type}`);\n  const hasOwnProperty = prop => Object.hasOwnProperty.call(options, prop);\n  const instanceOf = (prop, type = Function) => options[prop] instanceof type;\n\n  const b = 'buttons', cb = 'callback', c = 'compile', d = 'destroy';\n  (!hasOwnProperty(b) || !instanceOf(b, Array)) && err(b, 'Array');\n  (hasOwnProperty(cb) && !instanceOf(cb)) && err(cb);\n  (hasOwnProperty(c) && !instanceOf(c)) && err(c);\n  (hasOwnProperty(d) && !instanceOf(d)) && err(d);\n};\n\n// Action Sheet\nexport default (options = {}) => new Promise(resolve => {\n  util.checkMissingImport('ActionSheet');\n  checkOptions(options);\n\n  // Main component\n  let actionSheet = util.createElement(`\n    <ons-action-sheet\n      ${options.title ? `title=\"${options.title}\"` : ''}\n      ${options.cancelable ? 'cancelable' : ''}\n      ${options.modifier ? `modifier=\"${options.modifier}\"` : ''}\n      ${options.maskColor ? `mask-color=\"${options.maskColor}\"` : ''}\n      ${options.id ? `id=\"${options.id}\"` : ''}\n      ${options.class ? `class=\"${options.class}\"` : ''}\n    >\n      <div class=\"action-sheet\"></div>\n    </ons-action-sheet>\n  `);\n\n  // Resolve action and clean up\n  const finish = (event, index = -1) => {\n    if (actionSheet) {\n      options.destroy && options.destroy(actionSheet);\n\n      actionSheet.removeEventListener('dialogcancel', finish, false);\n      actionSheet.remove();\n      actionSheet = null;\n\n      options.callback && options.callback(index);\n      resolve(index);\n    }\n  };\n\n  // Link cancel handler\n  actionSheet.addEventListener('dialogcancel', finish, false);\n\n  // Create buttons and link action handler\n  const buttons = document.createDocumentFragment();\n  options.buttons.forEach((item, index) => {\n    const buttonOptions = (typeof item === 'string') ? { label: item } : { ...item };\n    if (options.destructive === index) {\n      buttonOptions.modifier = (buttonOptions.modifier || '') + ' destructive';\n    }\n\n    const button = util.createElement(`\n      <ons-action-sheet-button\n        ${buttonOptions.icon ? `icon=\"${buttonOptions.icon}\"` : ''}\n        ${buttonOptions.modifier ? `modifier=\"${buttonOptions.modifier}\"` : ''}\n      >\n        ${buttonOptions.label}\n      </ons-action-sheet-button>\n    `);\n\n    button.onclick = event => actionSheet.hide().then(() => finish(event, index));\n    buttons.appendChild(button);\n  });\n\n  // Finish component and attach\n  util.findChild(actionSheet, '.action-sheet').appendChild(buttons);\n  document.body.appendChild(actionSheet);\n  options.compile && options.compile(el.dialog);\n\n  // Show\n  setImmediate(() => actionSheet.show({\n    animation: options.animation,\n    animationOptions: options.animationOptions\n  }));\n});\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport MicroEvent from './microevent.js';\n\nconst create = () => {\n\n  /**\n   * @object ons.orientation\n   * @category util\n   * @description\n   *   [en]Utility methods for orientation detection.[/en]\n   *   [ja]画面のオリエンテーション検知のためのユーティリティメソッドを収めているオブジェクトです。[/ja]\n   */\n  const obj = {\n    /**\n     * @event change\n     * @description\n     *   [en]Fired when the device orientation changes.[/en]\n     *   [ja]デバイスのオリエンテーションが変化した際に発火します。[/ja]\n     * @param {Object} event\n     *   [en]Event object.[/en]\n     *   [ja]イベントオブジェクトです。[/ja]\n     * @param {Boolean} event.isPortrait\n     *   [en]Will be true if the current orientation is portrait mode.[/en]\n     *   [ja]現在のオリエンテーションがportraitの場合にtrueを返します。[/ja]\n     */\n\n    /**\n     * @method on\n     * @signature on(eventName, listener)\n     * @description\n     *   [en]Add an event listener.[/en]\n     *   [ja]イベントリスナーを追加します。[/ja]\n     * @param {String} eventName\n     *   [en]Name of the event.[/en]\n     *   [ja]イベント名を指定します。[/ja]\n     * @param {Function} listener\n     *   [en]Function to execute when the event is triggered.[/en]\n     *   [ja]このイベントが発火された際に呼び出される関数オブジェクトを指定します。[/ja]\n     */\n\n    /**\n     * @method once\n     * @signature once(eventName, listener)\n     * @description\n     *  [en]Add an event listener that's only triggered once.[/en]\n     *  [ja]一度だけ呼び出されるイベントリスナーを追加します。[/ja]\n     * @param {String} eventName\n     *   [en]Name of the event.[/en]\n     *   [ja]イベント名を指定します。[/ja]\n     * @param {Function} listener\n     *   [en]Function to execute when the event is triggered.[/en]\n     *   [ja]イベントが発火した際に呼び出される関数オブジェクトを指定します。[/ja]\n     */\n\n    /**\n     * @method off\n     * @signature off(eventName, [listener])\n     * @description\n     *  [en]Remove an event listener. If the listener is not specified all listeners for the event type will be removed.[/en]\n     *  [ja]イベントリスナーを削除します。もしイベントリスナーを指定しなかった場合には、そのイベントに紐づく全てのイベントリスナーが削除されます。[/ja]\n     * @param {String} eventName\n     *   [en]Name of the event.[/en]\n     *   [ja]イベント名を指定します。[/ja]\n     * @param {Function} listener\n     *   [en]Function to execute when the event is triggered.[/en]\n     *   [ja]削除するイベントリスナーを指定します。[/ja]\n     */\n\n    // actual implementation to detect if whether current screen is portrait or not\n    _isPortrait: false,\n\n    /**\n     * @method isPortrait\n     * @signature isPortrait()\n     * @return {Boolean}\n     *   [en]Will be true if the current orientation is portrait mode.[/en]\n     *   [ja]オリエンテーションがportraitモードの場合にtrueになります。[/ja]\n     * @description\n     *   [en]Returns whether the current screen orientation is portrait or not.[/en]\n     *   [ja]オリエンテーションがportraitモードかどうかを返します。[/ja]\n     */\n    isPortrait: function() {\n      return this._isPortrait();\n    },\n\n    /**\n     * @method isLandscape\n     * @signature isLandscape()\n     * @return {Boolean}\n     *   [en]Will be true if the current orientation is landscape mode.[/en]\n     *   [ja]オリエンテーションがlandscapeモードの場合にtrueになります。[/ja]\n     * @description\n     *   [en]Returns whether the current screen orientation is landscape or not.[/en]\n     *   [ja]オリエンテーションがlandscapeモードかどうかを返します。[/ja]\n     */\n    isLandscape: function() {\n      return !this.isPortrait();\n    },\n\n    _init: function() {\n      document.addEventListener('DOMContentLoaded', this._onDOMContentLoaded.bind(this), false);\n\n      if ('orientation' in window) {\n        window.addEventListener('orientationchange', this._onOrientationChange.bind(this), false);\n      } else {\n        window.addEventListener('resize', this._onResize.bind(this), false);\n      }\n\n      this._isPortrait = function() {\n        return window.innerHeight > window.innerWidth;\n      };\n\n      return this;\n    },\n\n    _onDOMContentLoaded: function() {\n      this._installIsPortraitImplementation();\n      this.emit('change', {isPortrait: this.isPortrait()});\n    },\n\n    _installIsPortraitImplementation: function() {\n      const isPortrait = window.innerWidth < window.innerHeight;\n\n      if (!('orientation' in window)) {\n        this._isPortrait = function() {\n          return window.innerHeight > window.innerWidth;\n        };\n      } else if (window.orientation % 180 === 0) {\n        this._isPortrait = function() {\n          return Math.abs(window.orientation % 180) === 0 ? isPortrait : !isPortrait;\n        };\n      } else {\n        this._isPortrait = function() {\n          return Math.abs(window.orientation % 180) === 90 ? isPortrait : !isPortrait;\n        };\n      }\n    },\n\n    _onOrientationChange: function() {\n      const isPortrait = this._isPortrait();\n\n      // Wait for the dimensions to change because\n      // of Android inconsistency.\n      let nIter = 0;\n      const interval = setInterval(() => {\n        nIter++;\n\n        const w = window.innerWidth;\n        const h = window.innerHeight;\n\n        if ((isPortrait && w <= h) ||\n           (!isPortrait && w >= h)) {\n          this.emit('change', {isPortrait: isPortrait});\n          clearInterval(interval);\n        } else if (nIter === 50) {\n          this.emit('change', {isPortrait: isPortrait});\n          clearInterval(interval);\n        }\n      }, 20);\n    },\n\n    // Run on not mobile browser.\n    _onResize: function() {\n      this.emit('change', {isPortrait: this.isPortrait()});\n    }\n  };\n\n  MicroEvent.mixin(obj);\n\n  return obj;\n};\n\nexport default create()._init();\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport util from './util.js';\n\n/**\n * @object ons.modifier\n * @category visual\n * @description\n *   [en]\n *     Utility methods to change modifier attributes of Onsen UI elements..\n *   [/en]\n *   [ja][/ja]\n * @example\n * ons.modifier.add(myOnsInputElement, 'underbar');\n * ons.modifier.toggle(myOnsToastElement, 'custom-modifier');\n *\n */\nexport default {\n  /**\n   * @method add\n   * @signature add(element, modifier [, modifier])\n   * @description\n   *   [en]Add the specified modifiers to the element if they are not already included.[/en]\n   *   [ja][/ja]\n   * @param {HTMLElement} element\n   *   [en]Target element.[/en]\n   *   [ja][/ja]\n   * @param {String} modifier\n   *   [en]Name of the modifier.[/en]\n   *   [ja][/ja]\n   */\n  add: (element, ...modifiers) => modifiers.forEach(modifier => util.addModifier(element, modifier)),\n  /**\n   * @method remove\n   * @signature remove(element, modifier [, modifier])\n   * @description\n   *   [en]Remove the specified modifiers from the element if they are included.[/en]\n   *   [ja][/ja]\n   * @param {HTMLElement} element\n   *   [en]Target element.[/en]\n   *   [ja][/ja]\n   * @param {String} modifier\n   *   [en]Name of the modifier.[/en]\n   *   [ja][/ja]\n   */\n  remove: (element, ...modifiers) => modifiers.forEach(modifier => util.removeModifier(element, modifier)),\n  /**\n   * @method contains\n   * @signature contains(element, modifier)\n   * @description\n   *   [en]Check whether the specified modifier is included in the element.[/en]\n   *   [ja][/ja]\n   * @param {HTMLElement} element\n   *   [en]Target element.[/en]\n   *   [ja][/ja]\n   * @param {String} modifier\n   *   [en]Name of the modifier.[/en]\n   *   [ja][/ja]\n   * @return {Boolean}\n   *   [en]`true` when the specified modifier is found in the element's `modifier` attribute. `false` otherwise.[/en]\n   *   [ja][/ja]\n   */\n  contains: util.hasModifier,\n  /**\n   * @method toggle\n   * @signature toggle(element, modifier [, force])\n   * @description\n   *   [en]Toggle the specified modifier.[/en]\n   *   [ja][/ja]\n   * @param {HTMLElement} element\n   *   [en]Target element.[/en]\n   *   [ja][/ja]\n   * @param {String} modifier\n   *   [en]Name of the modifier.[/en]\n   *   [ja][/ja]\n   * @param {String} force\n   *   [en]If it evaluates to true, add specified modifier value, and if it evaluates to false, remove it.[/en]\n   *   [ja][/ja]\n   */\n  toggle: util.toggleModifier\n};\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport util from './util.js';\nimport MicroEvent from './microevent.js';\n\nconst softwareKeyboard = new MicroEvent();\nsoftwareKeyboard._visible = false;\n\nconst onShow = () => {\n  softwareKeyboard._visible = true;\n  softwareKeyboard.emit('show');\n};\n\nconst onHide = () => {\n  softwareKeyboard._visible = false;\n  softwareKeyboard.emit('hide');\n};\n\nconst bindEvents = () => {\n  if (typeof Keyboard !== 'undefined') {\n    // https://github.com/martinmose/cordova-keyboard/blob/95f3da3a38d8f8e1fa41fbf40145352c13535a00/README.md\n    Keyboard.onshow = onShow;\n    Keyboard.onhide = onHide;\n    softwareKeyboard.emit('init', {visible: Keyboard.isVisible});\n\n    return true;\n  } else if (typeof cordova.plugins !== 'undefined' && typeof cordova.plugins.Keyboard !== 'undefined') {\n    // https://github.com/driftyco/ionic-plugins-keyboard/blob/ca27ecf/README.md\n    window.addEventListener('native.keyboardshow', onShow);\n    window.addEventListener('native.keyboardhide', onHide);\n    softwareKeyboard.emit('init', {visible: cordova.plugins.Keyboard.isVisible});\n\n    return true;\n  }\n\n  return false;\n};\n\nconst noPluginError = () => {\n  util.warn('ons-keyboard: Cordova Keyboard plugin is not present.');\n};\n\ndocument.addEventListener('deviceready', () => {\n  if (!bindEvents()) {\n    if (document.querySelector('[ons-keyboard-active]') ||\n      document.querySelector('[ons-keyboard-inactive]')) {\n      noPluginError();\n    }\n\n    softwareKeyboard.on = noPluginError;\n  }\n});\n\nexport default softwareKeyboard;\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nconst generateId = (function() {\n  let i = 0;\n  return function() {\n    return i++;\n  };\n})();\n\n/**\n * Door locking system.\n *\n * @param {Object} [options]\n * @param {Function} [options.log]\n */\nexport default class DoorLock {\n\n  constructor(options = {}) {\n    this._lockList = [];\n    this._waitList = [];\n    this._log = options.log || function() {};\n  }\n\n  /**\n   * Register a lock.\n   *\n   * @return {Function} Callback for unlocking.\n   */\n  lock() {\n    const unlock = () => {\n      this._unlock(unlock);\n    };\n    unlock.id = generateId();\n    this._lockList.push(unlock);\n    this._log('lock: ' + (unlock.id));\n\n    return unlock;\n  }\n\n  _unlock(fn) {\n    const index = this._lockList.indexOf(fn);\n    if (index === -1) {\n      throw new Error('This function is not registered in the lock list.');\n    }\n\n    this._lockList.splice(index, 1);\n    this._log('unlock: ' + fn.id);\n\n    this._tryToFreeWaitList();\n  }\n\n  _tryToFreeWaitList() {\n    while (!this.isLocked() && this._waitList.length > 0) {\n      this._waitList.shift()();\n    }\n  }\n\n  /**\n   * Register a callback for waiting unlocked door.\n   *\n   * @params {Function} callback Callback on unlocking the door completely.\n   */\n  waitUnlock(callback) {\n    if (!(callback instanceof Function)) {\n      throw new Error('The callback param must be a function.');\n    }\n\n    if (this.isLocked()) {\n      this._waitList.push(callback);\n    } else {\n      callback();\n    }\n  }\n\n  /**\n   * @return {Boolean}\n   */\n  isLocked() {\n    return this._lockList.length > 0;\n  }\n}\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\nimport util from './util.js';\nimport internal from './internal/index.js';\n\n// Default implementation for global PageLoader.\nfunction loadPage({page, parent, params = {}}, done, error) {\n  internal.getPageHTMLAsync(page).then(html => {\n    const pageElement = util.createElement(html);\n    parent.appendChild(pageElement);\n\n    done(pageElement);\n  }).catch(e => error(e));\n}\n\nfunction unloadPage(element) {\n  if (element._destroy instanceof Function) {\n    element._destroy();\n  } else {\n    element.remove();\n  }\n}\n\nexport class PageLoader {\n  /**\n   * @param {Function} [fn] Returns an object that has \"element\" property and \"unload\" function.\n   */\n  constructor(loader, unloader) {\n    this._loader = loader instanceof Function ? loader : loadPage;\n    this._unloader = unloader instanceof Function ? unloader : unloadPage;\n  }\n\n  /**\n   * Set internal loader implementation.\n   */\n  set internalLoader(fn) {\n    if (!(fn instanceof Function)) {\n      throw Error('First parameter must be an instance of Function');\n    }\n    this._loader = fn;\n  }\n\n  get internalLoader() {\n    return this._loader;\n  }\n\n  /**\n   * @param {any} options.page\n   * @param {Element} options.parent A location to load page.\n   * @param {Object} [options.params] Extra parameters for ons-page.\n   * @param {Function} done Take an object that has \"element\" property and \"unload\" function.\n   * @param {Function} error Function called when there is an error.\n   */\n  load({page, parent, params = {}}, done, error) {\n    this._loader({page, parent, params}, pageElement => {\n      if (!(pageElement instanceof Element)) {\n        throw Error('pageElement must be an instance of Element.');\n      }\n\n      done(pageElement);\n    }, error);\n  }\n\n  unload(pageElement) {\n    if (!(pageElement instanceof Element)) {\n      throw Error('pageElement must be an instance of Element.');\n    }\n\n    this._unloader(pageElement);\n  }\n}\n\nexport const defaultPageLoader = new PageLoader();\n\nexport const instantPageLoader = new PageLoader(\n  function({page, parent, params = {}}, done) {\n    const element = util.createElement(page.trim());\n    parent.appendChild(element);\n\n    done(element);\n  },\n  unloadPage\n);\n", "/*\nCopyright 2013-2015 ASIAL CORPORATION\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n   http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n\n*/\n\nimport util from './util.js';\nimport elements from './elements.js';\nimport animit from './animit.js';\nimport GestureDetector from './gesture-detector.js';\nimport platform from './platform.js';\nimport notification from './notification.js';\nimport actionSheet from './action-sheet.js';\nimport internal from './internal/index.js';\nimport orientation from './orientation.js';\nimport modifier from './modifier.js';\nimport softwareKeyboard from './software-keyboard.js';\nimport pageAttributeExpression from './page-attribute-expression.js';\nimport autoStyle from './autostyle.js';\nimport DoorLock from './doorlock.js';\nimport { defaultPageLoader, PageLoader } from './page-loader.js';\n\n/**\n * @object ons\n * @category util\n * @description\n *   [ja]Onsen UIで利用できるグローバルなオブジェクトです。[/ja]\n *   [en]A global object that's used in Onsen UI. [/en]\n */\nconst ons = {\n  animit,\n  defaultPageLoader,\n  elements,\n  GestureDetector,\n  modifier,\n  notification,\n  orientation,\n  pageAttributeExpression,\n  PageLoader,\n  platform,\n  softwareKeyboard,\n  _autoStyle: autoStyle,\n  _internal: internal,\n  _readyLock: new DoorLock(),\n  _util: util,\n};\n\nons.platform.select((window.location.search.match(/platform=([\\w-]+)/) || [])[1]);\n\nwaitDeviceReady();\n\nconst readyError = after => util.throw(`This method must be called ${after ? 'after' : 'before'} ons.isReady() is true`);\n\n/**\n * @method isReady\n * @signature isReady()\n * @return {Boolean}\n *   [en]Will be true if Onsen UI is initialized.[/en]\n *   [ja]初期化されているかどうかを返します。[/ja]\n * @description\n *   [en]Returns true if Onsen UI is initialized.[/en]\n *   [ja]Onsen UIがすでに初期化されているかどうかを返すメソッドです。[/ja]\n */\nons.isReady = () => {\n  return !ons._readyLock.isLocked();\n};\n\n/**\n * @method isWebView\n * @signature isWebView()\n * @return {Boolean}\n *   [en]Will be true if the app is running in Cordova.[/en]\n *   [ja]Cordovaで実行されている場合にtrueになります。[/ja]\n * @description\n *   [en]Returns true if running inside Cordova.[/en]\n *   [ja]Cordovaで実行されているかどうかを返すメソッドです。[/ja]\n */\nons.isWebView = ons.platform.isWebView;\n\n/**\n * @method ready\n * @signature ready(callback)\n * @description\n *   [ja]アプリの初期化に利用するメソッドです。渡された関数は、Onsen UIの初期化が終了している時点で必ず呼ばれます。[/ja]\n *   [en]Method used to wait for app initialization. Waits for `DOMContentLoaded` and `deviceready`, when necessary, before executing the callback.[/en]\n * @param {Function} callback\n *   [en]Function that executes after Onsen UI has been initialized.[/en]\n *   [ja]Onsen UIが初期化が完了した後に呼び出される関数オブジェクトを指定します。[/ja]\n */\nons.ready = callback => {\n  if (ons.isReady()) {\n    callback();\n  } else {\n    ons._readyLock.waitUnlock(callback);\n  }\n};\n\n/**\n * @method setDefaultDeviceBackButtonListener\n * @signature setDefaultDeviceBackButtonListener(listener)\n * @param {Function} listener\n *   [en]Function that executes when device back button is pressed. Must be called on `ons.ready`.[/en]\n *   [ja]デバイスのバックボタンが押された時に実行される関数オブジェクトを指定します。[/ja]\n * @description\n *   [en]Set default handler for device back button.[/en]\n *   [ja]デバイスのバックボタンのためのデフォルトのハンドラを設定します。[/ja]\n */\nons.setDefaultDeviceBackButtonListener = function(listener) {\n  if (!ons.isReady()) {\n    readyError(true);\n  }\n  ons._defaultDeviceBackButtonHandler.setListener(listener);\n};\n\n/**\n * @method disableDeviceBackButtonHandler\n * @signature disableDeviceBackButtonHandler()\n * @description\n * [en]Disable device back button event handler. Must be called on `ons.ready`.[/en]\n * [ja]デバイスのバックボタンのイベントを受け付けないようにします。[/ja]\n */\nons.disableDeviceBackButtonHandler = function() {\n  if (!ons.isReady()) {\n    readyError(true);\n  }\n  internal.dbbDispatcher.disable();\n};\n\n/**\n * @method enableDeviceBackButtonHandler\n * @signature enableDeviceBackButtonHandler()\n * @description\n * [en]Enable device back button event handler. Must be called on `ons.ready`.[/en]\n * [ja]デバイスのバックボタンのイベントを受け付けるようにします。[/ja]\n */\nons.enableDeviceBackButtonHandler = function() {\n  if (!ons.isReady()) {\n    readyError(true);\n  }\n  internal.dbbDispatcher.enable();\n};\n\nons.fireDeviceBackButtonEvent = function() {\n  internal.dbbDispatcher.fireDeviceBackButtonEvent();\n};\n\n/**\n * @method enableAutoStatusBarFill\n * @signature enableAutoStatusBarFill()\n * @description\n *   [en]Enable status bar fill feature on iOS7 and above (except for iPhone X). Must be called before `ons.ready`.[/en]\n *   [ja]iOS7以上（iPhone Xは除く）で、ステータスバー部分の高さを自動的に埋める処理を有効にします。[/ja]\n */\nons.enableAutoStatusBarFill = () => {\n  if (ons.isReady()) {\n    readyError(false);\n  }\n  internal.config.autoStatusBarFill = true;\n};\n\n/**\n * @method disableAutoStatusBarFill\n * @signature disableAutoStatusBarFill()\n * @description\n *   [en]Disable status bar fill feature on iOS7 and above (except for iPhone X). Must be called before `ons.ready`.[/en]\n *   [ja]iOS7以上（iPhone Xは除く）で、ステータスバー部分の高さを自動的に埋める処理を無効にします。[/ja]\n */\nons.disableAutoStatusBarFill = () => {\n  if (ons.isReady()) {\n    readyError(false);\n  }\n  internal.config.autoStatusBarFill = false;\n};\n\n/**\n * @method mockStatusBar\n * @signature mockStatusBar()\n * @description\n *   [en]Creates a static element similar to iOS status bar. Only useful for browser testing. Must be called before `ons.ready`.[/en]\n *   [ja][/ja]\n */\nons.mockStatusBar = () => {\n  if (ons.isReady()) {\n    readyError(false);\n  }\n\n  const mock = () => {\n    if (!document.body.children[0] || !document.body.children[0].classList.contains('ons-status-bar-mock')) {\n      const android = platform.isAndroid(), i = i => `<i class=\"${i.split('-')[0]} ${i}\"></i>`;\n      const left = android ? `${i('zmdi-twitter')} ${i('zmdi-google-play')}` : `No SIM ${i('fa-wifi')}`,\n        center = android ? '' : '12:28 PM',\n        right = android ? `${i('zmdi-network')} ${i('zmdi-wifi')} ${i('zmdi-battery')} 12:28 PM` : `80% ${i('fa-battery-three-quarters')}`;\n\n      document.body.insertBefore(util.createElement(\n        `<div class=\"ons-status-bar-mock ${android ? 'android' : 'ios'}\">` +\n          `<div>${left}</div><div>${center}</div><div>${right}</div>` +\n        `</div>`\n      ), document.body.firstChild);\n    }\n  };\n\n  document.body\n    ? mock()\n    : internal.waitDOMContentLoaded(mock);\n};\n\n/**\n * @method disableAnimations\n * @signature disableAnimations()\n * @description\n *   [en]Disable all animations. Could be handy for testing and older devices.[/en]\n *   [ja]アニメーションを全て無効にします。テストの際に便利です。[/ja]\n */\nons.disableAnimations = () => {\n  internal.config.animationsDisabled = true;\n};\n\n/**\n * @method enableAnimations\n * @signature enableAnimations()\n * @description\n *   [en]Enable animations (default).[/en]\n *   [ja]アニメーションを有効にします。[/ja]\n */\nons.enableAnimations = () => {\n  internal.config.animationsDisabled = false;\n};\n\nons._disableWarnings = () => {\n  internal.config.warningsDisabled = true;\n};\n\nons._enableWarnings = () => {\n  internal.config.warningsDisabled = false;\n};\n\n/**\n * @method disableAutoStyling\n * @signature disableAutoStyling()\n * @description\n *   [en]Disable automatic styling.[/en]\n *   [ja][/ja]\n */\nons.disableAutoStyling = autoStyle.disable;\n\n/**\n * @method enableAutoStyling\n * @signature enableAutoStyling()\n * @description\n *   [en]Enable automatic styling based on OS (default).[/en]\n *   [ja][/ja]\n */\nons.enableAutoStyling = autoStyle.enable;\n\n/**\n * @method disableIconAutoPrefix\n * @signature disableIconAutoPrefix()\n * @description\n *   [en]Disable adding `fa-` prefix automatically to `ons-icon` classes. Useful when including custom icon packs.[/en]\n *   [ja][/ja]\n */\nons.disableIconAutoPrefix = () => {\n  util.checkMissingImport('Icon');\n  elements.Icon.setAutoPrefix(false);\n};\n\n/**\n * @method forcePlatformStyling\n * @signature forcePlatformStyling(platform)\n * @description\n *   [en]Refresh styling for the given platform. Only useful for demos. Use `ons.platform.select(...)` instead for development and production.[/en]\n *   [ja][/ja]\n * @param {string} platform New platform to style the elements.\n */\nons.forcePlatformStyling = newPlatform => {\n  ons.enableAutoStyling();\n  ons.platform.select(newPlatform || 'ios');\n\n  ons._util.arrayFrom(document.querySelectorAll('*'))\n    .forEach(function(element) {\n      if (element.tagName.toLowerCase() === 'ons-if') {\n        element._platformUpdate();\n      } else if (element.tagName.match(/^ons-/i)) {\n        autoStyle.prepare(element, true);\n        if (element.tagName.toLowerCase() === 'ons-tabbar') {\n          element._updatePosition();\n        }\n      }\n    });\n};\n\n/**\n * @method preload\n * @signature preload(templatePaths)\n * @param {String|Array} templatePaths\n *   [en]Set of HTML file paths containing 'ons-page' elements.[/en]\n *   [ja][/ja]\n * @return {Promise}\n *   [en]Promise that resolves when all the templates are cached.[/en]\n *   [ja][/ja]\n * @description\n *   [en]Separated files need to be requested on demand and this can slightly delay pushing new pages. This method requests and caches templates for later use.[/en]\n *   [ja][/ja]\n */\nons.preload = function(templates = []) {\n  return Promise.all((templates instanceof Array ? templates : [templates]).map(template => {\n    if (typeof template !== 'string') {\n      util.throw('Expected string arguments but got ' + typeof template);\n    }\n    return internal.getTemplateHTMLAsync(template);\n  }));\n};\n\n/**\n * @method createElement\n * @signature createElement(template, options)\n * @param {String} template\n *   [en]Either an HTML file path, a `<template>` id or an HTML string such as `'<div id=\"foo\">hoge</div>'`.[/en]\n *   [ja][/ja]\n * @param {Object} [options]\n *   [en]Parameter object.[/en]\n *   [ja]オプションを指定するオブジェクト。[/ja]\n * @param {Boolean|HTMLElement} [options.append]\n *   [en]Whether or not the element should be automatically appended to the DOM.  Defaults to `false`. If `true` value is given, `document.body` will be used as the target.[/en]\n *   [ja][/ja]\n * @param {HTMLElement} [options.insertBefore]\n *   [en]Reference node that becomes the next sibling of the new node (`options.append` element).[/en]\n *   [ja][/ja]\n * @return {HTMLElement|Promise}\n *   [en]If the provided template was an inline HTML string, it returns the new element. Otherwise, it returns a promise that resolves to the new element.[/en]\n *   [ja][/ja]\n * @description\n *   [en]Create a new element from a template. Both inline HTML and external files are supported although the return value differs.[/en]\n *   [ja][/ja]\n */\nons.createElement = (template, options = {}) => {\n  template = template.trim();\n\n  const create = html => {\n    const element = ons._util.createElement(html);\n    element.remove();\n\n    if (options.append) {\n      const target = options.append instanceof HTMLElement ? options.append : document.body;\n      target.insertBefore(element, options.insertBefore || null);\n      options.link instanceof Function && options.link(element);\n    }\n\n    return element;\n  };\n\n  return template.charAt(0) === '<' ? create(template) : internal.getPageHTMLAsync(template).then(create);\n};\n\n/**\n * @method createPopover\n * @signature createPopover(page, [options])\n * @param {String} page\n *   [en]Page name. Can be either an HTML file or a <template> containing a <ons-dialog> component.[/en]\n *   [ja]pageのURLか、もしくは`<template>`で宣言したテンプレートのid属性の値を指定できます。[/ja]\n * @param {Object} [options]\n *   [en]Parameter object.[/en]\n *   [ja]オプションを指定するオブジェクト。[/ja]\n * @param {Object} [options.parentScope]\n *   [en]Parent scope of the dialog. Used to bind models and access scope methods from the dialog.[/en]\n *   [ja]ダイアログ内で利用する親スコープを指定します。ダイアログからモデルやスコープのメソッドにアクセスするのに使います。このパラメータはAngularJSバインディングでのみ利用できます。[/ja]\n * @return {Promise}\n *   [en]Promise object that resolves to the popover component object.[/en]\n *   [ja]ポップオーバーのコンポーネントオブジェクトを解決するPromiseオブジェクトを返します。[/ja]\n * @description\n *   [en]Create a popover instance from a template.[/en]\n *   [ja]テンプレートからポップオーバーのインスタンスを生成します。[/ja]\n */\n/**\n * @method createDialog\n * @signature createDialog(page, [options])\n * @param {String} page\n *   [en]Page name. Can be either an HTML file or an `<template>` containing a <ons-dialog> component.[/en]\n *   [ja]pageのURLか、もしくは`<template>`で宣言したテンプレートのid属性の値を指定できます。[/ja]\n * @param {Object} [options]\n *   [en]Parameter object.[/en]\n *   [ja]オプションを指定するオブジェクト。[/ja]\n * @return {Promise}\n *   [en]Promise object that resolves to the dialog component object.[/en]\n *   [ja]ダイアログのコンポーネントオブジェクトを解決するPromiseオブジェクトを返します。[/ja]\n * @description\n *   [en]Create a dialog instance from a template.[/en]\n *   [ja]テンプレートからダイアログのインスタンスを生成します。[/ja]\n */\n/**\n * @method createAlertDialog\n * @signature createAlertDialog(page, [options])\n * @param {String} page\n *   [en]Page name. Can be either an HTML file or an `<template>` containing a <ons-alert-dialog> component.[/en]\n *   [ja]pageのURLか、もしくは`<template>`で宣言したテンプレートのid属性の値を指定できます。[/ja]\n * @param {Object} [options]\n *   [en]Parameter object.[/en]\n *   [ja]オプションを指定するオブジェクト。[/ja]\n * @return {Promise}\n *   [en]Promise object that resolves to the alert dialog component object.[/en]\n *   [ja]ダイアログのコンポーネントオブジェクトを解決するPromiseオブジェクトを返します。[/ja]\n * @description\n *   [en]Create a alert dialog instance from a template.[/en]\n *   [ja]テンプレートからアラートダイアログのインスタンスを生成します。[/ja]\n */\nons.createPopover = ons.createDialog = ons.createAlertDialog = (template, options = {}) => ons.createElement(template, { append: true, ...options });\n\n/**\n * @method openActionSheet\n * @signature openActionSheet(options)\n * @description\n *   [en]Shows an instant Action Sheet and lets the user choose an action.[/en]\n *   [ja][/ja]\n * @param {Object} [options]\n *   [en]Parameter object.[/en]\n *   [ja]オプションを指定するオブジェクト。[/ja]\n * @param {Array} [options.buttons]\n *   [en]Represent each button of the action sheet following the specified order. Every item can be either a string label or an object containing `label`, `icon` and `modifier` properties.[/en]\n *   [ja][/ja]\n * @param {String} [options.title]\n *   [en]Optional title for the action sheet.[/en]\n *   [ja][/ja]\n * @param {Number} [options.destructive]\n *   [en]Optional index of the \"destructive\" button (only for iOS). It can be specified in the button array as well.[/en]\n *   [ja][/ja]\n * @param {Boolean} [options.cancelable]\n *   [en]Whether the action sheet can be canceled by tapping on the background mask or not.[/en]\n *   [ja][/ja]\n * @param {String} [options.modifier]\n *   [en]Modifier attribute of the action sheet. E.g. `'destructive'`.[/en]\n *   [ja][/ja]\n * @param {String} [options.maskColor]\n *   [en]Optionally change the background mask color.[/en]\n *   [ja][/ja]\n * @param {String} [options.id]\n *   [en]The element's id attribute.[/en]\n *   [ja][/ja]\n * @param {String} [options.class]\n *   [en]The element's class attribute.[/en]\n *   [ja][/ja]\n * @return {Promise}\n *   [en]Will resolve when the action sheet is closed. The resolve value is either the index of the tapped button or -1 when canceled.[/en]\n *   [ja][/ja]\n */\nons.openActionSheet = actionSheet;\n\n/**\n * @method resolveLoadingPlaceholder\n * @signature resolveLoadingPlaceholder(page)\n * @param {String} page\n *   [en]Page name. Can be either an HTML file or a `<template>` id.[/en]\n *   [ja]pageのURLか、もしくは`<template>`で宣言したテンプレートのid属性の値を指定できます。[/ja]\n * @description\n *   [en]If no page is defined for the `ons-loading-placeholder` attribute it will wait for this method being called before loading the page.[/en]\n *   [ja]ons-loading-placeholderの属性値としてページが指定されていない場合は、ページロード前に呼ばれるons.resolveLoadingPlaceholder処理が行われるまで表示されません。[/ja]\n */\nons.resolveLoadingPlaceholder = (page, link) => {\n  const elements = ons._util.arrayFrom(window.document.querySelectorAll('[ons-loading-placeholder]'));\n  if (elements.length === 0) {\n    util.throw('No ons-loading-placeholder exists');\n  }\n\n  elements\n    .filter(element => !element.getAttribute('page'))\n    .forEach(element => {\n      element.setAttribute('ons-loading-placeholder', page);\n      ons._resolveLoadingPlaceholder(element, page, link);\n    });\n};\n\n\nons._setupLoadingPlaceHolders = function() {\n  ons.ready(() => {\n    const elements = ons._util.arrayFrom(window.document.querySelectorAll('[ons-loading-placeholder]'));\n\n    elements.forEach(element => {\n      const page = element.getAttribute('ons-loading-placeholder');\n      if (typeof page === 'string') {\n        ons._resolveLoadingPlaceholder(element, page);\n      }\n    });\n  });\n};\n\nons._resolveLoadingPlaceholder = function(parent, page, link = ((el, done) => done())) {\n  page && ons.createElement(page)\n    .then(element => {\n      element.style.display = 'none';\n      parent.appendChild(element);\n      link(element, () => {\n        while (parent.firstChild && parent.firstChild !== element) {\n          parent.removeChild(parent.firstChild);\n        }\n        element.style.display = '';\n      });\n    })\n    .catch(error => Promise.reject('Unabled to resolve placeholder: ' + error));\n};\n\nfunction waitDeviceReady() {\n  const unlockDeviceReady = ons._readyLock.lock();\n  window.addEventListener('DOMContentLoaded', () => {\n    if (ons.isWebView()) {\n      window.document.addEventListener('deviceready', unlockDeviceReady, {once: true});\n    } else {\n      unlockDeviceReady();\n    }\n  }, {once: true});\n}\n\n/**\n * @method getScriptPage\n * @signature getScriptPage()\n * @description\n *   [en]Access the last created page from the current `script` scope. Only works inside `<script></script>` tags that are direct children of `ons-page` element. Use this to add lifecycle hooks to a page.[/en]\n *   [ja][/ja]\n * @return {HTMLElement}\n *   [en]Returns the corresponding page element.[/en]\n *   [ja][/ja]\n */\nconst getCS = 'currentScript' in document ? () => document.currentScript : () => document.scripts[document.scripts.length - 1];\nons.getScriptPage = () => getCS() && /ons-page/i.test(getCS().parentElement.tagName) && getCS().parentElement || null;\n\nexport default ons;\n", "import setup from './setup.js'; // Add polyfills\nimport ons from './ons/index.js'; // External dependency, always hoisted\n\nsetup(ons); // Setup initial listeners\n\nexport default ons;\n"],
  "mappings": "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",
  "names": ["navigator", "$jscompDefaultExport", "AlreadyConstructedMarker", "reservedTagList", "Set", "isValidCustomElementName$$module$$src$Utilities", "isValidCustomElementName", "localName", "reserved", "has", "validForm", "test", "isConnected$$module$$src$Utilities", "isConnected", "node", "nativeValue", "undefined", "current", "__CE_isImportDocument", "Document", "parentNode", "window", "ShadowRoot", "host", "nextSiblingOrAncestorSibling$$module$$src$Utilities", "nextSiblingOrAncestorSibling", "root", "start", "nextSibling", "walkDeepDescendantElements$$module$$src$Utilities", "walkDeepDescendantElements", "callback", "visitedImports", "nodeType", "Node", "ELEMENT_NODE", "element", "getAttribute", "importNode", "import", "add", "child", "firstChild", "shadowRoot", "__CE_shadowRoot", "setPropertyUnchecked$$module$$src$Utilities", "setPropertyUnchecked", "destination", "name", "value", "constructor", "CustomElementInternals", "_localNameToDefinition", "Map", "_constructorToDefinition", "_patches", "_hasPatches", "setDefinition", "definition", "set", "addPatch", "listener", "push", "patchTree", "patch", "__CE_patched", "i", "length", "connectTree", "elements", "custom", "__CE_state", "connectedCallback", "upgradeElement", "disconnectTree", "disconnectedCallback", "patchAndUpgradeTree", "gatherElements", "readyState", "__CE_hasRegistry", "addEventListener", "__CE_documentLoadHandled", "delete", "localNameToDefinition", "get", "constructionStack", "result", "Error", "pop", "e", "failed", "__CE_definition", "attributeChangedCallback", "observedAttributes", "call", "__CE_isConnectedCallbackCalled", "oldValue", "newValue", "namespace", "indexOf", "DocumentConstructionObserver", "internals", "doc", "_internals", "_document", "_observer", "MutationObserver", "_handleMutations", "bind", "observe", "childList", "subtree", "disconnect", "mutations", "addedNodes", "j", "Deferred", "_resolve", "_value", "_promise", "Promise", "resolve", "CustomElementRegistry", "_elementDefinitionIsRunning", "_whenDefinedDeferred", "_flushCallback", "this._flushCallback", "fn", "_flushPending", "_unflushedLocalNames", "_documentConstructionObserver", "document", "define", "Function", "TypeError", "SyntaxError", "adoptedCallback", "getCallback", "callbackValue", "prototype", "Object", "_flush", "shift", "deferred", "whenDefined", "reject", "prior", "polyfillWrapFlushCallback", "outer", "inner", "flush", "Document_createElement", "createElement", "Document_createElementNS", "createElementNS", "Document_importNode", "Document_prepend", "Document_append", "Node_cloneNode", "cloneNode", "Node_appendChild", "appendChild", "Node_insertBefore", "insertBefore", "Node_removeChild", "removeChild", "Node_replaceChild", "replaceChild", "Node_textContent", "getOwnPropertyDescriptor", "Element_attachShadow", "Element", "Element_innerHTML", "Element_getAttribute", "Element_setAttribute", "setAttribute", "Element_removeAttribute", "removeAttribute", "Element_getAttributeNS", "getAttributeNS", "Element_setAttributeNS", "setAttributeNS", "Element_removeAttributeNS", "removeAttributeNS", "Element_insertAdjacentElement", "Element_prepend", "Element_append", "Element_before", "Element_after", "Element_replaceWith", "Element_remove", "HTMLElement", "HTMLElement_innerHTML", "HTMLElement_insertAdjacentElement", "$jscompDefaultExport$$module$$src$Patch$HTMLElement", "$jscompDefaultExport$$module$$src$Patch$Native.Document_createElement.call", "setPrototypeOf", "lastIndex", "$jscompDefaultExport$$module$$src$Patch$Native.HTMLElement", "$jscompDefaultExport$$module$$src$Patch$Interface$ParentNode", "builtIn", "a", "connectedBefore", "nodes", "filter", "prepend", "apply", "append", "$jscompDefaultExport$$module$$src$Patch$Document", "deep", "clone", "$jscompDefaultExport$$module$$src$Patch$Native.Document_importNode.call", "NS_HTML", "$jscompDefaultExport$$module$$src$Patch$Native.Document_createElementNS.call", "$jscompDefaultExport$$module$$src$Patch$Native.Document_prepend", "$jscompDefaultExport$$module$$src$Patch$Native.Document_append", "$jscompDefaultExport$$module$$src$Patch$Node", "patch_textContent", "baseDescriptor", "defineProperty", "enumerable", "configurable", "assignedValue", "TEXT_NODE", "removedNodes", "childNodes", "childNodesLength", "Array", "refNode", "DocumentFragment", "insertedNodes", "slice", "$jscompDefaultExport$$module$$src$Patch$Native.Node_insertBefore.call", "nativeResult", "nodeWasConnected", "$jscompDefaultExport$$module$$src$Patch$Native.Node_appendChild.call", "$jscompDefaultExport$$module$$src$Patch$Native.Node_cloneNode.call", "ownerDocument", "$jscompDefaultExport$$module$$src$Patch$Native.Node_removeChild.call", "nodeToInsert", "nodeToRemove", "$jscompDefaultExport$$module$$src$Patch$Native.Node_replaceChild.call", "nodeToInsertWasConnected", "thisIsConnected", "$jscompDefaultExport$$module$$src$Patch$Native.Node_textContent", "$jscompDefaultExport$$module$$src$Patch$Native.Node_textContent.get", "parts", "textContent", "join", "createTextNode", "$jscompDefaultExport$$module$$src$Patch$Interface$ChildNode", "$jscompDefaultExport$$module$$src$Patch$Native.Element_before", "$jscompDefaultExport$$module$$src$Patch$Native.Element_after", "wasConnected", "$jscompDefaultExport$$module$$src$Patch$Native.Element_replaceWith", "$jscompDefaultExport$$module$$src$Patch$Native.Element_remove", "$jscompDefaultExport$$module$$src$Patch$Element", "patch_innerHTML", "htmlString", "removedElements", "patch_insertAdjacentElement", "baseMethod", "where", "insertedElement", "$jscompDefaultExport$$module$$src$Patch$Native.Element_attachShadow", "init", "$jscompDefaultExport$$module$$src$Patch$Native.Element_attachShadow.call", "console", "warn", "$jscompDefaultExport$$module$$src$Patch$Native.Element_innerHTML", "$jscompDefaultExport$$module$$src$Patch$Native.Element_innerHTML.get", "$jscompDefaultExport$$module$$src$Patch$Native.HTMLElement_innerHTML", "$jscompDefaultExport$$module$$src$Patch$Native.HTMLElement_innerHTML.get", "rawDiv", "innerHTML", "content", "$jscompDefaultExport$$module$$src$Patch$Native.Element_setAttribute.call", "$jscompDefaultExport$$module$$src$Patch$Native.Element_getAttribute.call", "$jscompDefaultExport$$module$$src$Patch$Native.Element_setAttributeNS.call", "$jscompDefaultExport$$module$$src$Patch$Native.Element_getAttributeNS.call", "$jscompDefaultExport$$module$$src$Patch$Native.Element_removeAttribute.call", "$jscompDefaultExport$$module$$src$Patch$Native.Element_removeAttributeNS.call", "$jscompDefaultExport$$module$$src$Patch$Native.HTMLElement_insertAdjacentElement", "$jscompDefaultExport$$module$$src$Patch$Native.Element_insertAdjacentElement", "$jscompDefaultExport$$module$$src$Patch$Native.Element_prepend", "$jscompDefaultExport$$module$$src$Patch$Native.Element_append", "priorCustomElements", "customElements", "setImmediate", "undefined", "setImmediate", "Viewport", "self", "prefix", "key", "el", "error", "el", "page", "error", "internal_default", "util", "callback", "element", "internal_default", "ons", "register", "util", "callback", "self", "css", "GestureDetector", "setup", "on", "type", "off", "self", "onTouchHandler", "getTouchList", "isVertical", "releaseGesture", "el", "error", "i", "create", "el", "error"]
}
